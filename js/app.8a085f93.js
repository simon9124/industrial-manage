(function(e){function t(t){for(var i,s,o=t[0],l=t[1],c=t[2],u=0,m=[];u<o.length;u++)s=o[u],r[s]&&m.push(r[s][0]),r[s]=0;for(i in l)Object.prototype.hasOwnProperty.call(l,i)&&(e[i]=l[i]);d&&d(t);while(m.length)m.shift()();return n.push.apply(n,c||[]),a()}function a(){for(var e,t=0;t<n.length;t++){for(var a=n[t],i=!0,s=1;s<a.length;s++){var l=a[s];0!==r[l]&&(i=!1)}i&&(n.splice(t--,1),e=o(o.s=a[0]))}return e}var i={},r={app:0},n=[];function s(e){return o.p+"js/"+({}[e]||e)+"."+{"chunk-2889":"031f08d2"}[e]+".js"}function o(t){if(i[t])return i[t].exports;var a=i[t]={i:t,l:!1,exports:{}};return e[t].call(a.exports,a,a.exports,o),a.l=!0,a.exports}o.e=function(e){var t=[],a=r[e];if(0!==a)if(a)t.push(a[2]);else{var i=new Promise(function(t,i){a=r[e]=[t,i]});t.push(a[2]=i);var n,l=document.getElementsByTagName("head")[0],c=document.createElement("script");c.charset="utf-8",c.timeout=120,o.nc&&c.setAttribute("nonce",o.nc),c.src=s(e),n=function(t){c.onerror=c.onload=null,clearTimeout(u);var a=r[e];if(0!==a){if(a){var i=t&&("load"===t.type?"missing":t.type),n=t&&t.target&&t.target.src,s=new Error("Loading chunk "+e+" failed.\n("+i+": "+n+")");s.type=i,s.request=n,a[1](s)}r[e]=void 0}};var u=setTimeout(function(){n({type:"timeout",target:c})},12e4);c.onerror=c.onload=n,l.appendChild(c)}return Promise.all(t)},o.m=e,o.c=i,o.d=function(e,t,a){o.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:a})},o.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},o.t=function(e,t){if(1&t&&(e=o(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var a=Object.create(null);if(o.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)o.d(a,i,function(t){return e[t]}.bind(null,i));return a},o.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return o.d(t,"a",t),t},o.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},o.p="/industrial-manage/",o.oe=function(e){throw console.error(e),e};var l=window["webpackJsonp"]=window["webpackJsonp"]||[],c=l.push.bind(l);l.push=t,l=l.slice();for(var u=0;u<l.length;u++)t(l[u]);var d=c;n.push([1,"chunk-vendors"]),a()})({0:function(e,t){},"01d7":function(e,t,a){"use strict";var i=a("86e1"),r=a.n(i);r.a},"0735":function(e,t,a){},"0a90":function(e,t,a){"use strict";a.r(t);var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[e._v("level-1")])},r=[],n={name:"level_1"},s=n,o=a("2877"),l=Object(o["a"])(s,i,r,!1,null,null,null);l.options.__file="level-1.vue";t["default"]=l.exports},"0c4a":function(e,t,a){"use strict";var i=a("55bd"),r=a.n(i);r.a},"0eb4":function(e,t,a){},"0f29":function(e,t,a){var i={"./":"13aa","./error-store":"b7c7","./error-store/":"b7c7","./error-store/index":"b7c7","./error-store/index.js":"b7c7","./index":"13aa","./index.js":"13aa"};function r(e){var t=n(e);return a(t)}function n(e){var t=i[e];if(!(t+1)){var a=new Error("Cannot find module '"+e+"'");throw a.code="MODULE_NOT_FOUND",a}return t}r.keys=function(){return Object.keys(i)},r.resolve=n,e.exports=r,r.id="0f29"},"0f8b":function(e,t,a){},1:function(e,t,a){e.exports=a("56d7")},1092:function(e,t,a){"use strict";a.r(t);var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[e._v("多级菜单 -> 二级-2 -> 3级")])},r=[],n={name:"level_3_1"},s=n,o=a("2877"),l=Object(o["a"])(s,i,r,!1,null,null,null);l.options.__file="level-3-1.vue";t["default"]=l.exports},"10fd":function(e,t,a){"use strict";a.d(t,"a",function(){return i}),a.d(t,"b",function(){return r});a("28a5"),a("6b54");function i(e){var t=/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/;return t.test(e)}function r(e){var t=/^[1][3,4,5,7,8][0-9]{9}$/;return t.test(e)}},"13aa":function(e,t,a){"use strict";a.r(t);var i=a("6bde"),r=(a("7f7f"),a("cadf"),a("551c"),a("097d"),a("f121")),n=r["a"].plugin;t["default"]=function(e){for(var t in n){var r=n[t];e.use(a("0f29")("./".concat(t)).default,"object"===Object(i["a"])(r)?r:void 0)}}},14:function(e,t){},15:function(e,t){},1511:function(e,t,a){"use strict";a.r(t);var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"dooya-container"},[e._v("\n  log\n")])},r=[],n=(a("96cf"),a("3040")),s={data:function(){var e=this;return{roleList:[],tableDataOrg:[],tableData:[],tableColumns:[{title:"账号",key:"name",align:"center",minWidth:120},{title:"姓名",key:"displayName",align:"center",minWidth:120},{title:"电话",key:"phone",align:"center",minWidth:120},{title:"角色",key:"access",align:"center",render:function(t,a){return t("div",[a.row.access.map(function(a){return t("Tag",{props:{color:"blue"}},getValueByKey(e.roleList,"name",a,"title"))})])},minWidth:120},{title:"操作",key:"action",fixed:"right",minWidth:180,align:"center",render:function(t,a){return t("div",[t("Tooltip",{props:{trigger:"hover",content:"修改",placement:"top",transfer:!0}},[t("Button",{props:{type:"primary",size:"small",icon:"ios-create-outline"},style:{marginRight:"5px"},on:{click:function(){e.edit(a.row)}}})]),t("Tooltip",{props:{trigger:"hover",content:"删除",placement:"top",transfer:!0}},[t("Button",{props:{type:"error",size:"small",icon:"md-close"},on:{click:function(){e.delete(a.row)}}})])])}}],total:0,pageNum:1,pageSize:10,tableLoading:!1,buttonLoading:!1,modalShow:!1,modalDataType:"",modalData:{name:"",displayName:"",phone:"",access:[]},modalDataOrg:{},formModalRule:{name:[{required:!0,message:"请输入账户名",trigger:"change"},{type:"string",max:20,message:"账户名过长",trigger:"change"}],displayName:[{required:!0,message:"请输入姓名",trigger:"change"},{type:"string",max:10,message:"姓名过长",trigger:"change"}],phone:[{required:!0,trigger:"change",validator:function(e,t,a){validateTel(t)?a():a(new Error("手机号格式不正确"))}}],access:[{required:!0,validator:function(e,t,a){0===t.length?a(new Error("请选择用户角色")):a()},message:"请选择用户角色",trigger:"change"}]}}},created:function(){var e=Object(n["a"])(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}(),methods:{}},o=s,l=(a("01d7"),a("2877")),c=Object(l["a"])(o,i,r,!1,null,"38e0a1c0",null);c.options.__file="log.vue";t["default"]=c.exports},"16e0":function(e,t,a){},"17be":function(e,t){e.exports="data:image/jpeg;base64,iVBORw0KGgoAAAANSUhEUgAAATgAAABVCAYAAADdYvhaAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAADJhJREFUeNrsnU2MFMcVx3s/mF0SLeYQLBnbElKQlsh2hGzvIeTAxyU+BfngnHxIYvmAFAlbQs7FVizFl1iOZE57iIhRTC7OIdmcnAusD7EPuyZIBAkkDisZOEAssbvYMMCu0/+eKWhmql5VdU9PVff8f1ILsfPV9fWvV69evR5PCCGkoYyzCgghFDhCCKHAEUIIBY4QQihwhBBShEnfDzz3wc1fpv/sT68D6bWLVUgIqZCV9FpMr8/OH9t+0vfDYx7C9m76z9H02s46J4QE4GZ6HU+F7t2BCVwqbHvTfz5Kr72sX0JIBJxLr5dToVuxvXHcQdzOUNwIIREBPfpPV5+KCVxO3LgkJYTEBnTpTKpTu4pacB9R3AghkYvc370FrruhwGUpIST65WqqV2/4WnBHWW+EkJrwO2eB68a5cWlKCKnNUrWrW04W3H7WFyGkZux3FbgDrCtCSM3Y6ypwu1hXhJCmChwhhDQCChwhhAJHCCEUOEIIocARQki1TA7sm35wO0laG/1//3prkrQnHvx3Zmos2fP4RCWFubq6mVxb2xxKxc2mZdg2pc82tfTVfe3fd24bT558TD+nXLy+kay3v2OPJCRKgfvplXQEr/f/HeL2tx8lyXorE4U//+L7mchVwfwX7WT+8ztDqbjfHphOXnxaX30//uOq9u+Hn20lR34ypX3ttU++MQojISS0wJmYSq26PV+nZs0TyaHdWyoTN/KQI/umjUIqCfAoIFnRsawOSJ0EjpCIkKxoF5ZTK/vijY1k4cK95NL1DVYoBY6Q5gC3BK5Xn5/KBA5ukdOX77FiKHCENAv4lD88/L3Mqju68G30m0Twf+uARfr+mTuNbKPBCVxb2Bldaw2lMNdW6SMhYay6T1+fSX79yTdRL1tNm2JNZnBxcMtPZDul/aozkyQrnfRyp75sZ7NdFWCZwKUCCQU2z2AhzVYUAkVCW3D/25oq2LPiW2DCY5bLI+34MXSi4FyT1tk8qyGIyB1Pl6yv/OUWYxobJ3AkGjApcGIoNjH0TsAqoBvLu0M/nLRaaAhDObJvqrE+rdFdohLSQOBTw2SBAPJXPr6VrSpsfjbssELoCAWO1BhYM3OpZVNV8Da+F98fk19rqWvlWUXuhRY7CJeo1YDZEx1s7qn+wYFlyOnL95OFC3cf+EkOP9NKdmqi27Eri/eFBhbBzPSYuLTKL0lRfgS06jCVaa4b36Vj4b93syh+CA7q6vAzW/rqFXWJTZ5/XrhXanmM7z+4e1IrnBAVBNjm2w4+XJc6GSTKl4ydU5O4oxw+y1Sc8lHlzlt/unqV2le1Vf4+dlpObuB1XT32fpdpEsJvHNrdGWv5+sis3yv3k1NfPvweqZ9VccyyUQKHyn3r4HRW4SZUoCb8JO98ejvrPBiwukrHIAktcLZjV+hE2J3Og6NIps+YypTVifAZCCwc6Kal10PxayWnzra9fVDo+L9/aau4tMMAeiu90HZvLHybDXjTPc8nSaV+SAjPqbN3jb+vrE/bPdjKna9XFW9na99HBW6LNTwk8xtqvq/3u3R989XnW0aRR3vhwgStzolL/awKgWvMEhUViRlVErfejoMgTdf3hwD3ZhM3WBJV79jN7ugkSXD1K6FDY9D6iPgJj+9H2+H9sHpC0jux6CaNQZYb31dlsgofQwL3gb7pei94r0+foAXXI25FGx6VHuMhaoib1CFwz8MQNwCruMj9X1v7zjor2yxUW9uFBHWPScbkI5zdMS7WKSaCIn09ZLnLxPt1+sRwx1rtLTgVe1RmVottx8smbhhYdTgaJC1f1PKszMH3GDLT4JiTCVO+QFieRcQthnJDmMts+gx7rNVe4OCPcak0zBw2n0IMKJ+MJG6xHwnKD0TJBeBqiaCsy5HG9cFKlawtXZ3Utdzom64uHdx3DH201ktUdBbbTIhNBDg485UNQcRMFNqHoxsQ8AvGKm69dal2q6U2wO4aNh10Vqo0MSknPvxceUsVbYa2q0Ocmc7SQrklC8xU7swfu88/vu4Pi3ceWJInDIft0Z7vL/a7Ei729DObta3LrpKN0RemSlnqIytwttkEu4XYKdVZc9iFw0wayyYDHPnowKbOH1rcdHWJelS7pSaRMznasXwtIuQYPNiZrOu5Tyk+Tio36h9l9y23S3/B79p2e/Gb0qaJacML/4cfFq9LkzeXqAbrQDKRdeKWB6/HsgSAVRKruOH3pbCP+c/bXpYMrBBpkOK3pLLWxQepEwnJAnMp99v/uh1orG2xCrPUHsr6p8B5IM0orpWJ5UDMxOBzywfWmu5Rmih6HzI0J7QbrEKX2EO8L/bsMb3+3j07JkqXG/0gRLnnnpoo3D8ejLWeZTcFTsDmv3EN8ox9kOD+QjtrL123b8yseXRcKbLepz0Q3R++H5r9ab35CQdV7jOXh7/qkPyGrvfjMy5HXuCkB4f4CsJyxJk3Osdgwm6GuOw8X7oxmN1pFzFVXIxgl06yyq567Ngvf7Ux0PaoYnltwke0BtVPRmKJOipgM2RUEin6DN7QPjibL9FHrJk/jgIXxPyO5f7e+9nWkXjkok9a7dCibzrwXmTZyfRKFDjn5YnPIIFoxGIdSbN4dtC8wJGpuiEdb+oF2WJCTjpSqAssUR9rdPbxcY86Gn5/ldw4cx7jDUlDKXADMOld49tiCfbFbP/Sn9bFjoQylTniEwtSGdEezof6A+Zcg9tAsqiRIqh/ybpRur923jv8PittIv3c8X5sS3oKnMdAkYJm87NwLFbRX8/edYrvwv3O1fzpSLbNAZc2wSH9EMs6lYXGFhemC/mQyo3vNeW2e0TU0wlu0CLhsuKRNkEgzi739F6AJAG1FrjTwva0Oo5lEjmVFSE2vxYGB05ZSHxYMrlADGWU/FMQD8lCKpOBpCidZy1MZym5bFY/Ap91kxSWrJIVhzJJlhxeq2pCtk2aNn8iEl5IIof2DPHYwlqbApglJUsNHQINhw631D1or7Kh2jJdhCR7BsAXbTGZIsQZzwioK7BYJaFQ4TFoY+xGQjBefHrCawnri0q71Sduj407/2aWgPRsW+iz97KknZIQILOvyuCLcqMPYxlY9lihlNoJk2YnYFf1sc4usLJEVbIKk0ihflB3CJxXsZvop53MKa1gfu5aC5wtq6qq+NB5w4qA83twuJtEQOUFsx1HixUMXmnAKCEfps9xpvv0rDL98ajF+oZgwHcoCSbavArfMFI7mYRGV9e9p4Hw/xOW9sJYDHWwvnFLVIDjH3VIHVQEiJe0E6dSWdeVt9PyNSX+Sx2ps+2c2s71VknZExCYlCTrNEbGm9CxcAC56EBRWVljLZvNIiibgDAkZbMSx9JuuA887Nn1frCEK2N5Fy33II79wd1T5juWeVSrWIO7zJ6mWTdmKyLL1SXM+IPIaFzHtlOfCz0BYdkGX6jv/ZtSebl8Tpe7zRVMmGWOeqkxU+QMN8q7dGW4k1JjwqfVLOpqQqu4szosb1EmKdNEXf2MvW0HsbBNNnlRCTUxqUkH/afMk6DQpiiHi1WjlrZlfa4QN9R1mafFqZ3+dxxdDNlvfnwryBPq+qb95z64OdReg8FpOjiPuKEinVilysau25Pd4MIssnx1M3O0YicrL2x4XZc/f23Ay9cyZUWZ9liWourQs/ReU5nKtsMg2xEO9k7utLGs/bJ7vrHZlyoI5fz3b7YZrQXdgFLPdfUBfQa7i+op91UIK8qL+8LhffV8UQgfyg7fGcqtfldqX5+6Vt+DkxHqubvrd1DXG17fkx9r2KRRbh8kG1D37tJPymYaOX9s+1h0AkdIUSCEpiyxr6XLqKWIs8SQwaMTOJ7wJbXl4O5JVgIRocCRWtJZ0rWsy3VCgSMkKNgg8Tl+ZjpxoIg9SzMZHrTxSVDgR1OW2Nzrk9nGQO8mkML1mF2IlN6EAkdIn2Dlw1vUcSFcvQHYrnn78JkQ4QiEAkfII0gBykXPhYZ6rB6JE/rgSDDrTXrKVBEQ+9bUc8mEAkdqBAKvcRJgEBsCKrKeS1PCJSqJBiVMyHeGFDtFlqQQNRwAD/EoPUKBI8QKYtZwYRMBu6p4iro6rqQTxc6Rrc4RIAob6bJCgSNRA+HCNZ/7mzq7eHV1k2JGJM5R4Ejt8H38HhlZPtP9kZsMhJAmcJICRwhppLidP7b9JgWOENI0IGxvml6kwBFC6szLJuuNAkcIqTO/SsVtUXoDBY4QUsdlKcTtpO2NDBMhhNSJxa64rbi8mQJHCKmDxfaP9DqeCts5nw/qBO4g65MQEgkrrtYaIYSMFNxkIIRQ4AghpG78X4ABAGNTqkEx2CwAAAAAAElFTkSuQmCC"},"1a88":function(e,t,a){},"1b1f":function(e,t,a){"use strict";a.r(t);var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"dooya-container"},[a("Card",[a("div",{staticStyle:{margin:"10px 0"}},[a("Button",{attrs:{type:"success",icon:"md-add"},on:{click:e.insert}},[e._v("新增角色")])],1),a("Table",{attrs:{data:e.tableData,loading:e.tableLoading,columns:e.tableColumns,stripe:""}}),a("div",{staticStyle:{margin:"10px",overflow:"hidden"}},[a("div",{staticStyle:{float:"right"}},[a("Page",{attrs:{"show-sizer":"",transfer:"",placement:"top",total:e.tableDataOrg.length,current:e.pageNum,"page-size-opts":[10,50,100,200],"page-size":e.pageSize},on:{"update:current":function(t){e.pageNum=t},"on-change":e.changePage,"on-page-size-change":e.changePageSize}})],1)])],1),a("Modal",{attrs:{"mask-closable":!1,closable:!1,"footer-hide":"",title:"edit"===e.modalDataRoleType?"编辑角色":"新增角色"},on:{"on-ok":e.handleSubmitRole},model:{value:e.modalShowRole,callback:function(t){e.modalShowRole=t},expression:"modalShowRole"}},[a("Form",{ref:"formModalDataRole",attrs:{model:e.modalDataRole,rules:e.formModalRule,"label-width":100},nativeOn:{submit:function(e){e.preventDefault()}}},[a("FormItem",{attrs:{label:"标识：",prop:"name"}},[a("Input",{attrs:{type:"text",disabled:"super_admin"===e.modalDataRoleOrg.name},model:{value:e.modalDataRole.name,callback:function(t){e.$set(e.modalDataRole,"name","string"===typeof t?t.trim():t)},expression:"modalDataRole.name"}})],1),a("FormItem",{attrs:{label:"名称：",prop:"title"}},[a("Input",{attrs:{type:"text"},model:{value:e.modalDataRole.title,callback:function(t){e.$set(e.modalDataRole,"title","string"===typeof t?t.trim():t)},expression:"modalDataRole.title"}})],1),a("FormItem",{attrs:{label:"描述：",prop:"description"}},[a("Input",{attrs:{type:"text"},model:{value:e.modalDataRole.description,callback:function(t){e.$set(e.modalDataRole,"description","string"===typeof t?t.trim():t)},expression:"modalDataRole.description"}})],1),a("FormItem",[a("Button",{attrs:{type:"primary",loading:e.buttonLoading},on:{click:function(t){e.handleSubmitRole("formModalDataRole")}}},[e._v("确定")]),a("Button",{staticStyle:{"margin-left":"8px"},on:{click:function(t){e.modalShowRole=!1}}},[e._v("取消")])],1)],1)],1),a("Modal",{attrs:{"mask-closable":!1,closable:!1,"footer-hide":"",title:"关联菜单"},on:{"on-ok":e.handleSubmitMenu},model:{value:e.modalShowMenu,callback:function(t){e.modalShowMenu=t},expression:"modalShowMenu"}},[a("Form",{ref:"formModalDataMenu",attrs:{model:e.modalDataMenu,"label-width":60},nativeOn:{submit:function(e){e.preventDefault()}}},[a("FormItem",{staticClass:"menu-function",attrs:{label:"菜单：",prop:"menus"}},e._l(e.menuList,function(e,t){return a("div",{key:t},[a("Tree",{ref:"menu"+t,refInFor:!0,attrs:{data:[e],"show-checkbox":""}})],1)})),a("FormItem",[a("Button",{attrs:{type:"primary",loading:e.buttonLoading},on:{click:function(t){e.handleSubmitMenu("formModalDataMenu")}}},[e._v("确定")]),a("Button",{staticStyle:{"margin-left":"8px"},on:{click:function(t){e.modalShowMenu=!1,e.menuSelectedId=[],e.menuList=JSON.parse(JSON.stringify(e.menuListOrg))}}},[e._v("取消")])],1)],1)],1)],1)},r=[],n=(a("6b54"),a("ac6a"),a("96cf"),a("3040")),s=(a("7f7f"),a("4360")),o=a("f7a0"),l=a("f11f"),c=a("7e1e"),u=a("a18c"),d={data:function(){var e=this;return{menuListNotComputed:[],menuListOrg:[],menuList:[],roleSubList:[],roleId:"",tableDataOrg:[],tableData:[],tableColumns:[{title:"标识",key:"name",align:"center",minWidth:120},{title:"名称",key:"title",align:"center",minWidth:120},{title:"功能",key:"menus",render:function(t,a){return t("div",[a.row.menus.map(function(a){return t("Tag",{props:{color:"blue"},style:{display:""!==Object(l["c"])(e.menuListNotComputed,"id",a,"path")?"inline-block":"none"}},Object(l["c"])(e.menuListNotComputed,"id",a,"title"))})])},minWidth:500},{title:"操作",key:"action",fixed:"right",minWidth:150,align:"center",render:function(t,a){return t("div",[t("Tooltip",{props:{trigger:"hover",content:"修改",placement:"top",transfer:!0}},[t("Button",{props:{type:"primary",size:"small",icon:"ios-create-outline"},style:{marginRight:"5px"},on:{click:function(){e.edit(a.row)}}})]),t("Tooltip",{props:{trigger:"hover",content:"关联菜单",placement:"top",transfer:!0}},[t("Button",{props:{type:"info",size:"small",icon:"ios-menu-outline"},style:{marginRight:"5px"},on:{click:function(){e.relateMenus(a.row)}}})]),t("Tooltip",{props:{trigger:"hover",content:"删除",placement:"top",transfer:!0}},[t("Button",{props:{type:"error",size:"small",icon:"md-close",disabled:"super_admin"===a.row.name},on:{click:function(){e.delete(a.row)}}})])])}}],pageNum:1,pageSize:10,tableLoading:!1,buttonLoading:!1,modalShowRole:!1,modalShowMenu:!1,modalDataRole:{name:"",title:"",description:""},modalDataMenu:{menus:[]},modalDataRoleOrg:{},menuSelectList:[],menuSelectedId:[],formModalRule:{name:[{required:!0,message:"请输入角色标识",trigger:"change"},{type:"string",max:30,message:"角色标识过长",trigger:"change"}],title:[{required:!0,message:"请输入角色名称",trigger:"change"},{type:"string",max:10,message:"角色名称过长",trigger:"change"}],description:[{type:"string",max:100,message:"描述过长",trigger:"change"}]},modalDataRoleType:""}},created:function(){var e=Object(n["a"])(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:this.getMenuData(),this.getData();case 2:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}(),methods:{getMenuData:function(){var e=Object(n["a"])(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Object(c["a"])();case 2:if(e.t0=e.sent.data.data,e.t0){e.next=5;break}e.t0=[];case 5:this.menuListNotComputed=e.t0,this.menuListOrg=Object(l["b"])(this.menuListNotComputed),this.menuList=JSON.parse(JSON.stringify(this.menuListOrg));case 8:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}(),getData:function(){var e=Object(n["a"])(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return this.tableLoading=!0,e.next=3,Object(c["b"])();case 3:this.tableDataOrg=e.sent.data.data,this.refreshData(),this.buttonLoading=!1,this.tableLoading=!1;case 7:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}(),refreshData:function(){this.tableDataOrg.forEach(function(e){}),this.tableData=this.tableDataOrg.slice((this.pageNum-1)*this.pageSize,this.pageNum*this.pageSize),0===this.tableData.length&&0!==this.tableDataOrg.length&&(this.pageNum--,this.getData())},changePage:function(e){this.pageNum=e,this.refreshData()},changePageSize:function(e){this.pageSize=e,this.pageNum=1,this.refreshData()},insert:function(){this.modalDataRoleType="insert",this.$refs.formModalDataRole.resetFields(),this.modalDataRoleOrg=JSON.parse(JSON.stringify(this.modalDataRole)),this.modalShowRole=!0},edit:function(){var e=Object(n["a"])(regeneratorRuntime.mark(function e(t){return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:this.modalDataRoleType="edit",this.roleId=t.id,this.modalDataRoleOrg=t,this.modalDataRole=JSON.parse(JSON.stringify(t)),this.modalShowRole=!0;case 5:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}(),handleSubmitRole:function(){var e=this;this.$refs.formModalDataRole.validate(function(){var t=Object(n["a"])(regeneratorRuntime.mark(function t(a){var i;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:if(!a){t.next=9;break}e.buttonLoading=!0,t.t0=e.modalDataRoleType,t.next="insert"===t.t0?5:"edit"===t.t0?7:9;break;case 5:return e.tableDataOrg.some(function(t){return t.name===e.modalDataRole.name})||e.tableDataOrg.some(function(t){return t.title===e.modalDataRole.title})?(e.$Message.error("角色标识或名称已存在！"),e.buttonLoading=!1):(i="1",e.tableDataOrg.forEach(function(e){i===e.id&&(i=(parseInt(i)+1).toString())}),e.modalDataRole.id=i,e.modalDataRole.menus=[],e.modalDataRole.users=[],o["b"].push(JSON.parse(JSON.stringify(e.modalDataRole))),Object(l["d"])(200,"添加成功！",function(){e.getData(),e.buttonLoading=!1,e.modalShowRole=!1})),t.abrupt("break",9);case 7:return e.tableDataOrg.some(function(t){return t.name===e.modalDataRole.name})&&e.modalDataRole.name!==e.modalDataRoleOrg.name||e.tableDataOrg.some(function(t){return t.title===e.modalDataRole.title})&&e.modalDataRole.title!==e.modalDataRoleOrg.title?(e.$Message.error("角色标识或名称已存在！"),e.buttonLoading=!1):(e.$set(o["b"],(e.pageNum-1)*e.pageSize+e.modalDataRole._index,JSON.parse(JSON.stringify(e.modalDataRole))),e.modalDataRole.name!==e.modalDataRoleOrg.name&&o["c"].forEach(function(t){t.access.forEach(function(a,i){a===e.modalDataRoleOrg.name&&e.$set(t.access,i,e.modalDataRole.name)})}),Object(l["d"])(200,"修改成功！",function(){e.getData(),e.buttonLoading=!1,e.modalShowRole=!1})),t.abrupt("break",9);case 9:case"end":return t.stop()}},t,this)}));return function(e){return t.apply(this,arguments)}}())},delete:function(e){var t=this;this.$Modal.confirm({title:"已绑定该角色的用户将失去关联，确定删除？",onOk:function(){var a=Object(n["a"])(regeneratorRuntime.mark(function a(){return regeneratorRuntime.wrap(function(a){while(1)switch(a.prev=a.next){case 0:t.tableDataOrg.slice((t.pageNum-1)*t.pageSize,t.pageNum*t.pageSize).forEach(function(t,a){e.id===t.id&&o["b"].splice(a,1)}),o["c"].forEach(function(t){t.access.forEach(function(a,i){a===e.name&&t.access.splice(i,1)})}),Object(l["d"])(200,"删除成功！",function(){t.getData()});case 3:case"end":return a.stop()}},a,this)}));return function(){return a.apply(this,arguments)}}(),closable:!0})},relateMenus:function(){var e=Object(n["a"])(regeneratorRuntime.mark(function e(t){var a,i=this;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:this.roleId=t.id,this.menuSelectList=JSON.parse(JSON.stringify(t.menus)),a=function e(t){t.forEach(function(t){0===t.children.length&&i.menuSelectList.some(function(e){return t.id===e})&&i.$set(t,"checked",!0),e(t.children)})},this.menuList.length>0&&this.menuList.forEach(function(e){0===e.children.length?i.menuSelectList.some(function(t){return e.id===t})&&i.$set(e,"checked",!0):a(e.children)}),this.modalShowMenu=!0;case 5:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}(),handleSubmitMenu:function(){var e=Object(n["a"])(regeneratorRuntime.mark(function e(){var t,a=this;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:this.buttonLoading=!0,t=[],this.menuList.forEach(function(e,i){var r="menu"+i;t=t.concat(a.$refs[r][0].getCheckedAndIndeterminateNodes())}),this.menuSelected=[],t.forEach(function(e){a.menuSelected.push(e.id)}),o["b"].forEach(function(e,t){e.id===a.roleId&&a.$set(e,"menus",a.menuSelected)}),Object(l["d"])(200,"修改成功！",function(){a.buttonLoading=!1,a.modalShowMenu=!1,a.refreshRouteData(),a.getData(),a.menuList=JSON.parse(JSON.stringify(a.menuListOrg))});case 7:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}(),refreshRouteData:function(){var e=this;localStorage.setItem("dynamicRouter-template",[]),Object(u["b"])(),s["a"].dispatch("getRouters").then(function(t){e.getData()})}}},m=d,p=(a("d006"),a("2877")),f=Object(p["a"])(m,i,r,!1,null,"2b8f738b",null);f.options.__file="role.vue";t["default"]=f.exports},"1b49":function(e,t,a){},"1c69":function(e,t,a){},"1d24":function(e,t,a){"use strict";var i=a("a458"),r=a.n(i);r.a},"221c":function(e,t,a){},"245a":function(e,t,a){"use strict";a.r(t);a("cadf"),a("551c"),a("097d");var i=a("96eb"),r=a.n(i),n=(a("ac6a"),a("4360")),s=a("f7a0"),o=function(e){var t={};return e.forEach(function(e){t[e.userName]=e}),t},l=function(e){e=JSON.parse(e.body);var t=o(s["c"]);return void 0!==t[e.userName]?{success:"200",message:"成功！",data:t[e.userName]}:{success:"500",message:"用户名或密码错误！",data:null}},c=function(e){var t=o(s["c"]);if(void 0!==n["a"].state.user.token)return{success:200,message:"成功！",data:t[n["a"].state.user.token]}},u=function(e){return null},d=a("c276"),m=r.a.Random,p=function(e){var t=[];return Object(d["b"])(5,function(){t.push(r.a.mock({name:"@name",email:"@email",createTime:"@date"}))}),t},f=function(e){var t=[];return Object(d["b"])(5,function(){t.push(r.a.mock({name:m.csentence(10,13),id:m.increment(10)}))}),t},h=function(e){return{success:200,message:"成功！",data:s["c"]}},g=function(e){return{success:200,message:"成功！",data:s["b"]}},b=function(e){return{success:200,message:"成功！",data:s["a"]}};r.a.mock(/\/login/,l),r.a.mock(/\/get_info/,c),r.a.mock(/\/logout/,u),r.a.mock(/\/get_table_data/,p),r.a.mock(/\/get_drag_list/,f),r.a.mock(/\/get_user_list/,h),r.a.mock(/\/get_role_list/,g),r.a.mock(/\/get_all_menus/,b),r.a.mock(/\/save_error_logger/,"success");t["default"]=r.a},"24f4":function(e,t,a){},2785:function(e,t,a){},3026:function(e,t,a){e.exports=a.p+"img/error-401.98bba5b1.svg"},"33ec":function(e,t,a){},3547:function(e,t,a){"use strict";var i=a("75e1"),r=a.n(i);r.a},"35f5":function(e,t,a){"use strict";a.r(t);var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("error-content",{attrs:{code:"404",desc:"Oh~~您的页面好像飞走了~",src:e.src}})},r=[],n=a("c436"),s=a.n(n),o=a("9454"),l={name:"error_404",components:{errorContent:o["default"]},data:function(){return{src:s.a}}},c=l,u=a("2877"),d=Object(u["a"])(c,i,r,!1,null,null,null);d.options.__file="404.vue";t["default"]=d.exports},3737:function(e,t,a){},"37a8":function(e,t,a){"use strict";var i=a("c13c"),r=a.n(i);r.a},"39ae":function(e,t,a){e.exports=a.p+"img/userAvatar.b084b818.jpg"},"3ac6":function(e,t,a){},"3b9e":function(e,t,a){"use strict";var i=a("d476"),r=a.n(i);r.a},"3d00":function(e,t,a){},"3daa":function(e,t,a){},"3e9a":function(e,t,a){"use strict";a.r(t);var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"table-tree-container"},[a("el-container",[a("el-header",[a("Header",{ref:"header",attrs:{handleType:e.handleType,level:e.level,id:e.id,"id-factory":e.idFactory,"tree-data":e.treeData,"factory-data":e.factoryData,"pass-list":e.passList,"plugin-list":e.pluginList,"pass-type-list":e.passTypeList,"sata-list":e.sataList,"baud-list":e.baudList,"data-list":e.dataList,"check-list":e.checkList,"equipment-list":e.equipmentList},on:{"item-add":e.itemAdd,"items-copy":e.itemsCopy,"item-delete":function(t){e.itemHandle("del")},"item-submit":e.itemSubmit,"factory-select":e.factorySelect}})],1),a("el-container",[a("el-aside",{staticClass:"left-panel",style:{height:e.contentHeight}},[a("div",{staticClass:"left-panel-title"},[e._v("服务导航")]),0!==e.treeData.length?a("left-tree",{staticClass:"left-panel-tree",attrs:{data:e.treeData,id:e.id},on:{"item-click":e.itemClick,"item-handle":e.itemHandle}}):a("div",{staticClass:"left-panel-tree"},[e._v("未选中工程")])],1),a("el-container",{staticClass:"right-panel is-vertical"},[1===e.level?a("Group",{ref:"group",attrs:{"service-id":e.serviceId,"factory-data":e.factoryData,"service-data":e.serviceData,"pass-list":e.passList,"equipment-list":e.equipmentList,"pass-type-list":e.passTypeList,"sata-list":e.sataList,"baud-list":e.baudList,"data-list":e.dataList,"check-list":e.checkList,"stop-list":e.stopList}}):e._e(),2===e.level?a("Pass",{ref:"pass",attrs:{id:e.id,"tree-data":e.treeData,"pass-list":e.passList,"equipment-list":e.equipmentList,"plugin-list":e.pluginList,"pass-type-list":e.passTypeList,"sata-list":e.sataList,"baud-list":e.baudList,"data-list":e.dataList,"check-list":e.checkList,"stop-list":e.stopList}}):e._e(),3===e.level?a("Equipment",{ref:"equipment",attrs:{id:e.id,"tree-data":e.treeData,"equipment-list":e.equipmentList}}):e._e()],1)],1)],1)],1)},r=[],n=(a("6b54"),a("ac6a"),function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"header"},[a("div",{staticClass:"btns"},[a("el-button",{attrs:{size:"small",icon:"el-icon-plus",type:"primary",disabled:3===e.level},on:{click:e.newBuild}},[e._v("新建")]),a("el-button",{attrs:{size:"small",icon:"el-icon-close",type:"danger",disabled:1===e.level},on:{click:e.itemDelete}},[e._v("删除")]),a("el-button",{attrs:{size:"small",icon:"el-icon-caret-right"},on:{click:e.localOperate}},[e._v("本地运行")]),a("el-button",{attrs:{size:"small",icon:"el-icon-suitcase"},on:{click:e.factoryManage}},[e._v("工程管理")]),a("el-button",{attrs:{size:"small",icon:"el-icon-data-board"},on:{click:e.remoteMonitor}},[e._v("远程监视")]),a("el-button",{attrs:{size:"small",icon:"el-icon-download",type:"info"}},[e._v("上传下载")]),a("el-button",{attrs:{size:"small",icon:"el-icon-check",type:"success",disabled:1===e.level},on:{click:e.itemSubmit}},[e._v("保存")]),a("Button",{staticStyle:{float:"right"},attrs:{icon:"ios-log-out"},on:{click:e.logOut}},[e._v("退出登录")])],1),a("el-dialog",{staticClass:"dispose-dialog",attrs:{title:e.dialogDisposeTitle,visible:e.dialogDisposeVisible},on:{"update:visible":function(t){e.dialogDisposeVisible=t}}},[1===e.level?a("el-form",{ref:"formPass",attrs:{model:e.formPass,rules:e.formPassRule,"label-position":"left"}},[a("el-row",{attrs:{gutter:20}},[a("el-col",{attrs:{span:8}},[a("el-form-item",{attrs:{"label-width":"105px",label:"名称(英文)：",prop:"passName"}},[a("el-input",{model:{value:e.formPass.passName,callback:function(t){e.$set(e.formPass,"passName",t)},expression:"formPass.passName"}})],1)],1),a("el-col",{attrs:{span:8}},[a("el-form-item",{attrs:{"label-width":"65px",label:"描述：",prop:"passDescribe"}},[a("el-input",{model:{value:e.formPass.passDescribe,callback:function(t){e.$set(e.formPass,"passDescribe",t)},expression:"formPass.passDescribe"}})],1)],1),a("el-button",{staticStyle:{margin:"0 0 20px 5px"},on:{click:e.setParamsPass}},[e._v("其他参数")])],1),a("el-row",{attrs:{gutter:20}},[a("el-col",{attrs:{span:8}},[a("el-form-item",{attrs:{"label-width":"55px",label:"厂家："}},[a("el-input",{attrs:{disabled:""},model:{value:e.formPass.plugin.factory,callback:function(t){e.$set(e.formPass.plugin,"factory",t)},expression:"formPass.plugin.factory"}})],1)],1),a("el-col",{attrs:{span:8}},[a("el-form-item",{attrs:{"label-width":"55px",label:"描述："}},[a("el-input",{attrs:{disabled:""},model:{value:e.formPass.plugin.describe,callback:function(t){e.$set(e.formPass.plugin,"describe",t)},expression:"formPass.plugin.describe"}})],1)],1),a("el-button",{staticStyle:{margin:"0 0 20px 5px"},on:{click:e.pluginSelect}},[e._v("选择插件")]),a("el-button",{staticStyle:{"margin-bottom":"20px"}},[e._v("帮助")])],1),a("el-row",[a("el-col",{attrs:{span:22}},[a("el-form-item",{attrs:{"label-width":"55px",label:"路径："}},[a("el-input",{attrs:{disabled:""},model:{value:e.formPass.plugin.path,callback:function(t){e.$set(e.formPass.plugin,"path",t)},expression:"formPass.plugin.path"}})],1)],1)],1),a("el-row",[a("el-col",[a("el-form-item",{attrs:{"label-width":"85px",label:"通道类型：",prop:"passType"}},[a("el-select",{attrs:{placeholder:"请选择"},model:{value:e.formPass.passType,callback:function(t){e.$set(e.formPass,"passType",t)},expression:"formPass.passType"}},e._l(e.passTypeList,function(e){return a("el-option",{key:e,attrs:{label:e,value:e}})}))],1)],1)],1),"串口"===e.formPass.passType?a("el-row",{attrs:{gutter:20}},[a("el-col",{staticStyle:{width:"180px"}},[a("el-form-item",{attrs:{"label-width":"55px",label:"串口：",prop:"sata"}},[a("el-select",{attrs:{placeholder:"请选择"},model:{value:e.formPass.sata,callback:function(t){e.$set(e.formPass,"sata",t)},expression:"formPass.sata"}},e._l(e.sataList,function(e){return a("el-option",{key:e,attrs:{label:e,value:e}})}))],1)],1),a("el-col",{staticStyle:{width:"180px"}},[a("el-form-item",{attrs:{"label-width":"75px",label:"波特率：",prop:"baudRate"}},[a("el-select",{attrs:{placeholder:"请选择"},model:{value:e.formPass.baudRate,callback:function(t){e.$set(e.formPass,"baudRate",t)},expression:"formPass.baudRate"}},e._l(e.baudList,function(e){return a("el-option",{key:e,attrs:{label:e,value:e}})}))],1)],1),a("el-col",{staticStyle:{width:"160px"}},[a("el-form-item",{attrs:{"label-width":"75px",label:"数据位：",prop:"dataBits"}},[a("el-select",{attrs:{placeholder:"请选择"},model:{value:e.formPass.dataBits,callback:function(t){e.$set(e.formPass,"dataBits",t)},expression:"formPass.dataBits"}},e._l(e.dataList,function(e){return a("el-option",{key:e,attrs:{label:e,value:e}})}))],1)],1),a("el-col",{staticStyle:{width:"200px"}},[a("el-form-item",{attrs:{"label-width":"75px",label:"校验位：",prop:"checkBits"}},[a("el-select",{attrs:{placeholder:"请选择"},model:{value:e.formPass.checkBits,callback:function(t){e.$set(e.formPass,"checkBits",t)},expression:"formPass.checkBits"}},e._l(e.checkList,function(e){return a("el-option",{key:e,attrs:{label:e,value:e}})}))],1)],1),a("el-col",{staticStyle:{width:"180px"}},[a("el-form-item",{attrs:{"label-width":"75px",label:"停止位：",prop:"stopBits"}},[a("el-select",{attrs:{placeholder:"请选择"},model:{value:e.formPass.stopBits,callback:function(t){e.$set(e.formPass,"stopBits",t)},expression:"formPass.stopBits"}},e._l(e.stopList,function(e){return a("el-option",{key:e,attrs:{label:e,value:e}})}))],1)],1)],1):e._e(),"串口"!==e.formPass.passType&&"虚拟端口"!==e.formPass.passType?a("el-row",{attrs:{gutter:20}},[a("el-col",{staticStyle:{width:"300px"}},[a("el-form-item",{attrs:{"label-width":"70px",label:"TCP客户端"===e.formPass.passType?"远程IP：":"本地IP：",prop:"ip"}},[a("el-input",{model:{value:e.formPass.ip,callback:function(t){e.$set(e.formPass,"ip",t)},expression:"formPass.ip"}})],1)],1),a("el-col",{staticStyle:{width:"300px"}},[a("el-form-item",{attrs:{"label-width":"85px",label:"TCP客户端"===e.formPass.passType?"远程端口：":"本地端口：",prop:"port"}},[a("el-input",{model:{value:e.formPass.port,callback:function(t){e.$set(e.formPass,"port",t)},expression:"formPass.port"}})],1)],1),"TCP客户端"===e.formPass.passType?a("el-button",{staticStyle:{"margin-left":"20px"},on:{click:e.bindingIP}},[e._v("需要绑定本地IP")]):e._e()],1):e._e(),e.id&&"2"===e.id.slice(0,1)?a("el-collapse",{model:{value:e.disposeActiveNames,callback:function(t){e.disposeActiveNames=t},expression:"disposeActiveNames"}},[a("el-collapse-item",{attrs:{title:"基本参数",name:"1"}},[a("div",{staticClass:"collapse-content"},[e._v("延迟回复（秒）：\n            "),a("el-input",{staticStyle:{"max-width":"400px"},model:{value:e.formPass.delayTime,callback:function(t){e.$set(e.formPass,"delayTime",t)},expression:"formPass.delayTime"}})],1)])],1):e._e()],1):e._e(),2===e.level?a("el-form",{ref:"formEquipment",attrs:{model:e.formEquipment,rules:e.formEquipmentRule,"label-position":"left"}},[a("el-row",{attrs:{gutter:20}},[a("el-col",{attrs:{span:8}},[a("el-form-item",{attrs:{"label-width":"105px",label:"名称(英文)：",prop:"equipmentName"}},[a("el-input",{model:{value:e.formEquipment.equipmentName,callback:function(t){e.$set(e.formEquipment,"equipmentName",t)},expression:"formEquipment.equipmentName"}})],1)],1),a("el-col",{attrs:{span:8}},[a("el-form-item",{attrs:{"label-width":"65px",label:"描述：",prop:"equipmentDescribe"}},[a("el-input",{model:{value:e.formEquipment.equipmentDescribe,callback:function(t){e.$set(e.formEquipment,"equipmentDescribe",t)},expression:"formEquipment.equipmentDescribe"}})],1)],1),a("el-button",{staticStyle:{margin:"0 0 20px 5px"},on:{click:e.setParamsEquipment}},[e._v("其他参数")])],1),a("el-row",[a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{"label-width":"125px",label:"用户参数(如:型)：",prop:"userParam"}},[a("el-input",{model:{value:e.formEquipment.userParam,callback:function(t){e.$set(e.formEquipment,"userParam",t)},expression:"formEquipment.userParam"}})],1)],1)],1),a("el-collapse",{attrs:{accordion:""},model:{value:e.activeNames,callback:function(t){e.activeNames=t},expression:"activeNames"}},[a("el-collapse-item",{attrs:{title:"基本参数",name:"1"}},[a("div",{staticClass:"collapse-content"},[e._v("MODBUS设备地址：\n            "),a("el-input",{staticStyle:{"max-width":"400px"},model:{value:e.formEquipment.MODBUSAdd,callback:function(t){e.$set(e.formEquipment,"MODBUSAdd",t)},expression:"formEquipment.MODBUSAdd"}})],1),a("div",[e._v("查询帧查询的最大字数：\n            "),a("el-input",{staticStyle:{"max-width":"400px"},model:{value:e.formEquipment.searchNum,callback:function(t){e.$set(e.formEquipment,"searchNum",t)},expression:"formEquipment.searchNum"}})],1)]),a("el-collapse-item",{attrs:{title:"写寄存器",name:"2"}},[a("div",{staticClass:"collapse-content"},[e._v("单寄存器写是否按6号指令？\n            "),a("el-radio",{attrs:{label:!0},model:{value:e.formEquipment.singleRegister,callback:function(t){e.$set(e.formEquipment,"singleRegister",t)},expression:"formEquipment.singleRegister"}},[e._v("YES")]),a("el-radio",{attrs:{label:!1},model:{value:e.formEquipment.singleRegister,callback:function(t){e.$set(e.formEquipment,"singleRegister",t)},expression:"formEquipment.singleRegister"}},[e._v("NO")])],1),a("div",[e._v("多寄存器写是否按16号指令？\n            "),a("el-radio",{attrs:{label:!0},model:{value:e.formEquipment.multiRegister,callback:function(t){e.$set(e.formEquipment,"multiRegister",t)},expression:"formEquipment.multiRegister"}},[e._v("YES")]),a("el-radio",{attrs:{label:!1},model:{value:e.formEquipment.multiRegister,callback:function(t){e.$set(e.formEquipment,"multiRegister",t)},expression:"formEquipment.multiRegister"}},[e._v("NO")])],1)]),a("el-collapse-item",{attrs:{title:"高级参数",name:"3"}},[a("div",{staticClass:"collapse-content"},[e._v("合对应的值：\n            "),a("el-input",{staticStyle:{"max-width":"400px"},model:{value:e.formEquipment.correspondingValue,callback:function(t){e.$set(e.formEquipment,"correspondingValue",t)},expression:"formEquipment.correspondingValue"}})],1),a("div",{staticClass:"collapse-content"},[e._v("分对应的值：\n            "),a("el-input",{staticStyle:{"max-width":"400px"},model:{value:e.formEquipment.subCorrespondingValue,callback:function(t){e.$set(e.formEquipment,"subCorrespondingValue",t)},expression:"formEquipment.subCorrespondingValue"}})],1),a("div",[e._v("双字节校验CRC传送顺序，先低后高？\n            "),a("el-radio",{attrs:{label:!0},model:{value:e.formEquipment.doubleByteCheck,callback:function(t){e.$set(e.formEquipment,"doubleByteCheck",t)},expression:"formEquipment.doubleByteCheck"}},[e._v("YES")]),a("el-radio",{attrs:{label:!1},model:{value:e.formEquipment.doubleByteCheck,callback:function(t){e.$set(e.formEquipment,"doubleByteCheck",t)},expression:"formEquipment.doubleByteCheck"}},[e._v("NO")])],1)])],1)],1):e._e(),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(t){e.dialogDisposeVisible=!1}}},[e._v("取 消")]),a("el-button",{attrs:{type:"primary"},on:{click:e.itemAdd}},[e._v("确 定")])],1)],1),a("pass-params",{ref:"passParams",attrs:{id:e.id,"form-pass":e.formPass,"pass-type-list":e.passTypeList,"sata-list":e.sataList,"baud-list":e.baudList,"data-list":e.dataList,"check-list":e.checkList,"stop-list":e.stopList}}),a("equipment-params",{ref:"equipmentParams",attrs:{id:e.id,"form-equipment":e.formEquipment}}),a("plugin-select",{ref:"pluginSelect",attrs:{id:e.id,"form-pass":e.formPass,"plugin-list":e.pluginList},on:{"plugin-click":e.pluginClick}}),a("el-dialog",{staticClass:"copy-dialog",attrs:{title:e.dialogCopyTitle,visible:e.dialogCopyVisible},on:{"update:visible":function(t){e.dialogCopyVisible=t}}},[a("el-table",{ref:"multipleTable",staticStyle:{width:"100%"},attrs:{data:e.dialogCopyData,"tooltip-effect":"dark"},on:{"selection-change":e.handleSelectionChange}},[a("el-table-column",{attrs:{type:"selection",width:"55"}}),a("el-table-column",{attrs:{type:"index",label:"序号",width:"55"}}),a("el-table-column",{attrs:{prop:1===e.level?"passName":"equipmentName",label:"对象名称",width:"130"}}),a("el-table-column",{attrs:{prop:1===e.level?"passDescribe":"equipmentDescribe",label:"对象描述"}})],1),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(t){e.multipleSubmit("cancel")}}},[e._v("取 消")]),a("el-button",{attrs:{type:"primary"},on:{click:function(t){e.multipleSubmit("submit")}}},[e._v("确 定")])],1)],1),a("factory-manage",{ref:"factoryManage",attrs:{"id-factory":e.idFactory,"factory-data":e.factoryData,"pass-list":e.passList,"equipment-list":e.equipmentList},on:{"factory-select":e.factorySelect}}),a("remote-monitor",{ref:"remoteMonitor",attrs:{"id-factory":e.idFactory,"factory-data":e.factoryData,"tree-data":e.treeData}}),a("el-dialog",{staticClass:"bind-dialog",attrs:{title:"IP地址框",visible:e.bindingIPVisible},on:{"update:visible":function(t){e.bindingIPVisible=t}}},[a("el-row",[e._v("\n      本地IP：\n      "),a("el-input",{staticStyle:{width:"300px"},model:{value:e.formPass.bindingIp,callback:function(t){e.$set(e.formPass,"bindingIp",t)},expression:"formPass.bindingIp"}})],1),a("el-row",{staticStyle:{"margin-top":"20px"}},[e._v("\n      注：本地IP，主要用来网卡绑定，以方便使用固定路由，为空的话，系统自己匹配路由。\n    ")]),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(t){e.bindingIPVisible=!1,e.formPass.bindingIp=e.bindingIpOrg}}},[e._v("取 消")]),a("el-button",{attrs:{type:"primary"},on:{click:function(t){e.bindingIPVisible=!1}}},[e._v("确 定")])],1)],1)],1)}),s=[],o=a("c93e"),l=(a("c5f6"),a("2f62")),c=function(){var e=this,t=e.$createElement,a=e._self._c||t;return e.dialogVisible?a("el-dialog",{staticClass:"plugin-dialog",attrs:{title:e.dialogTitle,visible:e.dialogVisible},on:{"update:visible":function(t){e.dialogVisible=t}}},[a("el-container",[a("el-aside",{staticClass:"left-panel"},[a("left-tree",{staticClass:"left-panel-tree",attrs:{data:e.pluginList,contextmenu:!1,collapse:!1},on:{"item-click":e.pluginClick}})],1),a("el-container",{staticClass:"right-panel is-vertical"},[a("el-form",{attrs:{"label-position":"left"}},[a("el-row",{attrs:{gutter:10}},[a("el-col",{attrs:{span:11}},[a("el-form-item",{attrs:{"label-width":"55px",label:"名称："}},[a("el-input",{attrs:{disabled:""},model:{value:e.formPass.plugin.name,callback:function(t){e.$set(e.formPass.plugin,"name",t)},expression:"formPass.plugin.name"}})],1)],1),a("el-col",{attrs:{span:11}},[a("el-form-item",{attrs:{"label-width":"55px",label:"描述："}},[a("el-input",{attrs:{disabled:""},model:{value:e.formPass.plugin.describe,callback:function(t){e.$set(e.formPass.plugin,"describe",t)},expression:"formPass.plugin.describe"}})],1)],1)],1),a("el-row",{attrs:{gutter:10}},[a("el-col",{attrs:{span:11}},[a("el-form-item",{attrs:{"label-width":"55px",label:"分类："}},[a("el-input",{attrs:{disabled:""},model:{value:e.formPass.plugin.classification,callback:function(t){e.$set(e.formPass.plugin,"classification",t)},expression:"formPass.plugin.classification"}})],1)],1),a("el-col",{attrs:{span:11}},[a("el-form-item",{attrs:{"label-width":"55px",label:"厂家："}},[a("el-input",{attrs:{disabled:""},model:{value:e.formPass.plugin.factory,callback:function(t){e.$set(e.formPass.plugin,"factory",t)},expression:"formPass.plugin.factory"}})],1)],1)],1),a("el-table",{attrs:{data:e.formPass.plugin.plugins,"tooltip-effect":"dark"}},[a("el-table-column",{attrs:{type:"index",label:"序号",width:"55"}}),a("el-table-column",{attrs:{prop:"name",label:"插件名称",width:"200"}}),a("el-table-column",{attrs:{prop:"platform",label:"平台",width:"120"}}),a("el-table-column",{attrs:{prop:"edition",label:"版本",width:"120"}}),a("el-table-column",{attrs:{prop:"lastModifiedDate",label:"最后修改日期",width:"160"}})],1)],1)],1)],1),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(t){e.dialogVisible=!1,e.formPass.plugin=e.pluginOrg}}},[e._v("取 消")]),a("el-button",{attrs:{type:"primary"},on:{click:function(t){e.dialogVisible=!1}}},[e._v("确 定")])],1)],1):e._e()},u=[],d=(a("7f7f"),function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[e.contextmenu?a("div",{on:{contextmenu:function(t){t.preventDefault(),e.$refs.ctx.open(t)}}},[a("v-jstree",{attrs:{data:e.data,collapse:e.collapse},on:{"item-click":e.itemClick,"item-toggle":e.itemClick}})],1):a("v-jstree",{attrs:{data:e.data,collapse:e.collapse},on:{"item-click":e.itemClick}}),a("context-menu",{ref:"ctx",attrs:{id:"ctx"}},[a("li",{staticClass:"ctx-header"}),1===e.level||2===e.level&&e.id&&"1"===e.id.slice(0,1)?a("li",{staticClass:"ctx-item",on:{click:function(t){e.itemHandle("add")}}},[e._v("新建"+e._s(1===e.level?"通道":"设备"))]):e._e(),1!==e.level?a("li",{staticClass:"ctx-item",on:{click:function(t){e.itemHandle("del")}}},[e._v("删除"+e._s(2===e.level?"通道":"设备"))]):e._e(),1===e.level||2===e.level&&e.id&&"1"===e.id.slice(0,1)?a("li",{staticClass:"ctx-sperator"},[a("hr")]):e._e(),1===e.level||2===e.level&&e.id&&"1"===e.id.slice(0,1)?a("li",{staticClass:"ctx-item",on:{click:function(t){e.itemHandle("copy")}}},[e._v("复制"+e._s(1===e.level?"通道":"设备"))]):e._e(),1!==e.level&&e.id&&"1"===e.id.slice(0,1)?a("li",{staticClass:"ctx-sperator"},[a("hr")]):e._e(),1!==e.level&&e.id&&"1"===e.id.slice(0,1)?a("li",{staticClass:"ctx-item",on:{click:function(t){e.itemHandle("up")}}},[e._v(e._s(2===e.level?"通道":"设备")+"上移")]):e._e(),1!==e.level&&e.id&&"1"===e.id.slice(0,1)?a("li",{staticClass:"ctx-item",on:{click:function(t){e.itemHandle("down")}}},[e._v(e._s(2===e.level?"通道":"设备")+"下移")]):e._e()])],1)}),m=[],p=a("d3c8"),f=a.n(p),h=a("05da"),g=a.n(h),b={name:"VueTree",components:{VJstree:f.a,contextMenu:g.a},props:{data:{type:Array,default:function(){return[]}},id:{type:String},contextmenu:{type:Boolean,default:!0},collapse:{type:Boolean,default:!0}},data:function(){return{level:1,dialogVisible:!1,dialogTitle:"",isAdd:!0}},methods:{itemClick:function(e){this.level=e.model.level,this.$emit("item-click",e.model)},itemHandle:function(e){this.$emit("item-handle",e)}}},v=b,y=(a("3547"),a("2877")),x=Object(y["a"])(v,d,m,!1,null,"61ebd83e",null);x.options.__file="Tree.vue";var D=x.exports,P={components:{LeftTree:D},props:{id:{type:String},formPass:{type:Object,default:function(){}},pluginList:{type:Array,default:function(){return[]}}},data:function(){return{dialogVisible:!1,dialogTitle:""}},methods:{pluginSelect:function(){this.dialogVisible=!0,this.pluginOrg=JSON.parse(JSON.stringify(this.formPass.plugin)),this.dialogTitle="插件选择-".concat("1"===this.id.slice(0,1)?"采集":"数据服务")},pluginClick:function(e){this.$emit("plugin-click",e)}},watch:{dialogVisible:function(e){var t=this;!0===e&&this.pluginList.forEach(function(e){e.opened=!1,t.formPass.plugin.classification===e.text&&(e.opened=!0),e.children.forEach(function(e){e.selected=!1,t.formPass.plugin.name===e.name&&(e.selected=!0)})})}}},_=P,w=(a("e674"),Object(y["a"])(_,c,u,!1,null,"6c5ced3e",null));w.options.__file="pluginSelect.vue";var T=w.exports,S=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-dialog",{staticClass:"params-dialog",attrs:{title:e.dialogTitle,visible:e.dialogVisible},on:{"update:visible":function(t){e.dialogVisible=t}}},[a("el-row",{staticClass:"params-dialog-row"},[a("el-checkbox",{model:{value:e.formPass.otherParams.scanDelay,callback:function(t){e.$set(e.formPass.otherParams,"scanDelay",t)},expression:"formPass.otherParams.scanDelay"}},[e._v("启用扫描间延迟")]),a("div",{staticClass:"params-dialog-row-div"},[e._v("\n      延迟时间（毫秒）\n      "),a("el-input",{staticStyle:{width:"100px"},attrs:{disabled:!e.formPass.otherParams.scanDelay},model:{value:e.formPass.otherParams.delayTime,callback:function(t){e.$set(e.formPass.otherParams,"delayTime",t)},expression:"formPass.otherParams.delayTime"}}),a("el-popover",{staticStyle:{"margin-left":"5px"},attrs:{placement:"top-start",title:"提示",width:"200",trigger:"hover",content:"该参数使用一些比较慢的设备，帧与帧之间需要有一定的间隔，否则设备不能正常工作"}},[a("el-button",{attrs:{slot:"reference",type:"primary",plain:""},slot:"reference"},[e._v("?")])],1)],1)],1),e.id&&"1"===e.id.slice(0,1)?a("el-row",{staticClass:"params-dialog-row"},[a("el-checkbox",{model:{value:e.formPass.otherParams.linkReset,callback:function(t){e.$set(e.formPass.otherParams,"linkReset",t)},expression:"formPass.otherParams.linkReset"}},[e._v("启用链路复位机制")]),a("div",{staticClass:"params-dialog-row-div"},[e._v("\n      端口无接收数据时间（秒）\n      "),a("el-input",{staticStyle:{width:"100px"},attrs:{disabled:!e.formPass.otherParams.linkReset},model:{value:e.formPass.otherParams.linkNoDataTime,callback:function(t){e.$set(e.formPass.otherParams,"linkNoDataTime",t)},expression:"formPass.otherParams.linkNoDataTime"}}),e._v("\n       超过该时间，端口将重新关闭、打开（>=60）\n    ")],1)],1):e._e(),a("el-row",{staticClass:"params-dialog-row"},[a("el-checkbox",{staticStyle:{"margin-bottom":"10px"},model:{value:e.formPass.otherParams.faultDiagnosis,callback:function(t){e.$set(e.formPass.otherParams,"faultDiagnosis",t)},expression:"formPass.otherParams.faultDiagnosis"}},[e._v("启用故障诊断")]),a("div",{staticClass:"params-dialog-row-div"},[e._v("\n      端口无接收数据时间（秒）\n      "),a("el-input",{staticStyle:{width:"100px"},attrs:{disabled:!e.formPass.otherParams.faultDiagnosis},model:{value:e.formPass.otherParams.faultNoDataTime,callback:function(t){e.$set(e.formPass.otherParams,"faultNoDataTime",t)},expression:"formPass.otherParams.faultNoDataTime"}}),e._v("\n       超过该时间，"+e._s(e.id&&"1"===e.id.slice(0,1)?"端口为":"进入")+"故障状态（设定值>="+e._s(e.id&&"1"===e.id.slice(0,1)?"5秒":"120秒")+"）\n      "),e.id&&"2"===e.id.slice(0,1)?a("div",{staticStyle:{margin:"10px 0"}},[e._v("\n        故障处理模式：\n        "),a("el-radio",{attrs:{label:"1",disabled:!e.formPass.otherParams.faultDiagnosis},model:{value:e.formPass.otherParams.faultShooting,callback:function(t){e.$set(e.formPass.otherParams,"faultShooting",t)},expression:"formPass.otherParams.faultShooting"}},[e._v("端口将重新关闭、打开")]),a("el-radio",{attrs:{label:"2",disabled:!e.formPass.otherParams.faultDiagnosis},model:{value:e.formPass.otherParams.faultShooting,callback:function(t){e.$set(e.formPass.otherParams,"faultShooting",t)},expression:"formPass.otherParams.faultShooting"}},[e._v("重启系统")])],1):e._e()],1)],1),e.id&&"1"===e.id.slice(0,1)?a("el-row",{staticClass:"params-dialog-row"},[e._v("\n    设备间数据包扫描方：\n    "),a("div",{staticClass:"params-dialog-row-div",staticStyle:{"margin-top":"10px"}},[a("el-radio",{attrs:{label:"1",disabled:""},model:{value:e.formPass.otherParams.packetScanning,callback:function(t){e.$set(e.formPass.otherParams,"packetScanning",t)},expression:"formPass.otherParams.packetScanning"}},[e._v("扫面完一个包后，立刻进入下一个设备")]),a("el-radio",{attrs:{label:"2",disabled:""},model:{value:e.formPass.otherParams.packetScanning,callback:function(t){e.$set(e.formPass.otherParams,"packetScanning",t)},expression:"formPass.otherParams.packetScanning"}},[e._v("设备所有包扫描完后，再进入下一个设备")])],1)]):e._e(),e.id&&"1"===e.id.slice(0,1)?a("el-row",{staticClass:"params-dialog-row"},[a("el-checkbox",{model:{value:e.formPass.otherParams.alternatePass,callback:function(t){e.$set(e.formPass.otherParams,"alternatePass",t)},expression:"formPass.otherParams.alternatePass"}},[e._v("启用备用通道")])],1):e._e(),e.id&&"1"===e.id.slice(0,1)&&e.formPass.otherParams.alternatePass?a("div",[a("el-row",{staticClass:"params-dialog-row"},[a("el-col",[e._v("\n        通道类型：\n        "),a("el-select",{attrs:{placeholder:"请选择"},model:{value:e.formPass.otherParams.passType,callback:function(t){e.$set(e.formPass.otherParams,"passType",t)},expression:"formPass.otherParams.passType"}},e._l(e.passTypeList,function(e){return a("el-option",{key:e,attrs:{label:e,value:e}})}))],1)],1),"串口"===e.formPass.otherParams.passType?a("el-row",{staticClass:"params-dialog-row",attrs:{gutter:20}},[a("el-col",{staticClass:"params-dialog-row-select",attrs:{span:8}},[e._v("\n        串口：\n        "),a("el-select",{attrs:{placeholder:"请选择"},model:{value:e.formPass.otherParams.sata,callback:function(t){e.$set(e.formPass.otherParams,"sata",t)},expression:"formPass.otherParams.sata"}},e._l(e.sataList,function(e){return a("el-option",{key:e,attrs:{label:e,value:e}})}))],1),a("el-col",{staticClass:"params-dialog-row-select",attrs:{span:8}},[e._v("\n        波特率：\n        "),a("el-select",{attrs:{placeholder:"请选择"},model:{value:e.formPass.otherParams.baudRate,callback:function(t){e.$set(e.formPass.otherParams,"baudRate",t)},expression:"formPass.otherParams.baudRate"}},e._l(e.baudList,function(e){return a("el-option",{key:e,attrs:{label:e,value:e}})}))],1),a("el-col",{staticClass:"params-dialog-row-select",attrs:{span:8}},[e._v("\n        数据位：\n        "),a("el-select",{attrs:{placeholder:"请选择"},model:{value:e.formPass.otherParams.dataBits,callback:function(t){e.$set(e.formPass.otherParams,"dataBits",t)},expression:"formPass.otherParams.dataBits"}},e._l(e.dataList,function(e){return a("el-option",{key:e,attrs:{label:e,value:e}})}))],1),a("el-col",{attrs:{span:8}},[e._v("\n        校验位：\n        "),a("el-select",{attrs:{placeholder:"请选择"},model:{value:e.formPass.otherParams.checkBits,callback:function(t){e.$set(e.formPass.otherParams,"checkBits",t)},expression:"formPass.otherParams.checkBits"}},e._l(e.checkList,function(e){return a("el-option",{key:e,attrs:{label:e,value:e}})}))],1),a("el-col",{attrs:{span:8}},[e._v("\n        停止位：\n        "),a("el-select",{attrs:{placeholder:"请选择"},model:{value:e.formPass.otherParams.stopBits,callback:function(t){e.$set(e.formPass.otherParams,"stopBits",t)},expression:"formPass.otherParams.stopBits"}},e._l(e.stopList,function(e){return a("el-option",{key:e,attrs:{label:e,value:e}})}))],1)],1):e._e(),"串口"!==e.formPass.otherParams.passType&&"虚拟端口"!==e.formPass.otherParams.passType?a("el-row",{staticClass:"params-dialog-row",attrs:{gutter:20}},[a("el-col",[e._v("\n        "+e._s("TCP客户端"===e.formPass.otherParams.passType?"远程IP：":"本地IP：")+"\n        "),a("el-input",{staticStyle:{width:"150px","margin-right":"10px"},model:{value:e.formPass.otherParams.ip,callback:function(t){e.$set(e.formPass.otherParams,"ip",t)},expression:"formPass.otherParams.ip"}}),e._v("\n        "+e._s("TCP客户端"===e.formPass.otherParams.passType?"远程端口：":"本地端口：")+"\n        "),a("el-input",{staticStyle:{width:"100px","margin-right":"10px"},model:{value:e.formPass.otherParams.port,callback:function(t){e.$set(e.formPass.otherParams,"port",t)},expression:"formPass.otherParams.port"}})],1)],1):e._e()],1):e._e(),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(t){e.dialogVisible=!1,e.formPass.otherParams=e.paramsOrg}}},[e._v("取 消")]),a("el-button",{attrs:{type:"primary"},on:{click:function(t){e.dialogVisible=!1}}},[e._v("确 定")])],1)],1)},k=[],O={props:{id:{type:String},formPass:{type:Object},passTypeList:{type:Array},sataList:{type:Array},baudList:{type:Array},dataList:{type:Array},checkList:{type:Array},stopList:{type:Array}},data:function(){return{dialogVisible:!1,dialogTitle:""}},methods:{setParams:function(){this.dialogVisible=!0,this.paramsOrg=JSON.parse(JSON.stringify(this.formPass.otherParams)),this.dialogTitle="".concat("1"===this.id.slice(0,1)?"采集":"数据服务","通道 其他参数")}}},C=O,L=(a("836b"),Object(y["a"])(C,S,k,!1,null,"e7610b64",null));L.options.__file="passParams.vue";var N=L.exports,I=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-dialog",{staticClass:"params-dialog",attrs:{title:"采集设备 其他参数",visible:e.dialogVisible},on:{"update:visible":function(t){e.dialogVisible=t}}},[a("el-row",{staticClass:"params-dialog-row"},[e._v("\n    查询等待时间（毫秒）：\n    "),a("el-input",{staticStyle:{width:"100px"},model:{value:e.formEquipment.otherParams.delayTime,callback:function(t){e.$set(e.formEquipment.otherParams,"delayTime",t)},expression:"formEquipment.otherParams.delayTime"}})],1),a("el-row",{staticClass:"params-dialog-row"},[a("el-checkbox",{model:{value:e.formEquipment.otherParams.failedTryAgain,callback:function(t){e.$set(e.formEquipment.otherParams,"failedTryAgain",t)},expression:"formEquipment.otherParams.failedTryAgain"}},[e._v("启用查询失败重试机制")]),a("div",{staticClass:"params-dialog-row-div"},[e._v("\n      查询失败后再次重试次数 \n      "),a("el-input",{staticStyle:{width:"100px"},attrs:{disabled:!e.formEquipment.otherParams.failedTryAgain},model:{value:e.formEquipment.otherParams.failedTryTimes,callback:function(t){e.$set(e.formEquipment.otherParams,"failedTryTimes",t)},expression:"formEquipment.otherParams.failedTryTimes"}})],1)],1),a("el-row",{staticClass:"params-dialog-row"},[a("el-checkbox",{staticStyle:{"margin-bottom":"10px"},model:{value:e.formEquipment.otherParams.faultDiagnosis,callback:function(t){e.$set(e.formEquipment.otherParams,"faultDiagnosis",t)},expression:"formEquipment.otherParams.faultDiagnosis"}},[e._v("启用故障诊断")]),a("div",{staticClass:"params-dialog-row-div"},[e._v("\n      引起故障的原因\n      "),a("div",{staticClass:"params-dialog-row-div"},[e._v("\n        连续查询失败次数（包含第一次查询）\n        "),a("el-input",{staticStyle:{width:"100px",margin:"5px 0"},attrs:{disabled:!e.formEquipment.otherParams.faultDiagnosis},model:{value:e.formEquipment.otherParams.continuousQueryFailed,callback:function(t){e.$set(e.formEquipment.otherParams,"continuousQueryFailed",t)},expression:"formEquipment.otherParams.continuousQueryFailed"}})],1),a("div",{staticClass:"params-dialog-row-div"},[e._v("\n        设备长时间未接收完整帧时间 \n        "),a("el-input",{staticStyle:{width:"100px"},attrs:{disabled:!e.formEquipment.otherParams.faultDiagnosis},model:{value:e.formEquipment.otherParams.noReceivedLongTime,callback:function(t){e.$set(e.formEquipment.otherParams,"noReceivedLongTime",t)},expression:"formEquipment.otherParams.noReceivedLongTime"}}),e._v("\n        （设定值>=30秒）\n      ")],1)]),a("div",{staticClass:"params-dialog-row-div"},[e._v("\n      故障时数据处理方 \n      "),a("el-select",{staticStyle:{margin:"5px 0",width:"280px"},attrs:{placeholder:"请选择",disabled:!e.formEquipment.otherParams.faultDiagnosis},model:{value:e.formEquipment.otherParams.faultDataProcess,callback:function(t){e.$set(e.formEquipment.otherParams,"faultDataProcess",t)},expression:"formEquipment.otherParams.faultDataProcess"}},e._l(e.dataProcessList,function(e){return a("el-option",{key:e,attrs:{label:e,value:e}})}))],1),a("div",{staticClass:"params-dialog-row-div"},[e._v("\n      故障时数据扫描方 \n      "),a("el-select",{staticStyle:{width:"240px"},attrs:{placeholder:"请选择",disabled:!e.formEquipment.otherParams.faultDiagnosis},model:{value:e.formEquipment.otherParams.faultScanProcess,callback:function(t){e.$set(e.formEquipment.otherParams,"faultScanProcess",t)},expression:"formEquipment.otherParams.faultScanProcess"}},e._l(e.scanProcessList,function(e){return a("el-option",{key:e,attrs:{label:e,value:e}})})),e._v("\n       查询周期（秒）\n      "),a("el-input",{staticStyle:{width:"100px"},attrs:{disabled:!e.formEquipment.otherParams.faultDiagnosis||"正常扫描"===e.formEquipment.otherParams.faultScanProcess},model:{value:e.formEquipment.otherParams.queryPeriod,callback:function(t){e.$set(e.formEquipment.otherParams,"queryPeriod",t)},expression:"formEquipment.otherParams.queryPeriod"}})],1)],1),a("el-row",{staticClass:"params-dialog-row"},[a("el-checkbox",{staticStyle:{"margin-right":"20px"},model:{value:e.formEquipment.otherParams.equipmentFactor,callback:function(t){e.$set(e.formEquipment.otherParams,"equipmentFactor",t)},expression:"formEquipment.otherParams.equipmentFactor"}},[e._v("使用设备系数")]),e._v("\n     设备层系数R1 \n    "),a("el-input",{staticStyle:{width:"100px"},attrs:{disabled:!e.formEquipment.otherParams.equipmentFactor},model:{value:e.formEquipment.otherParams.factorR1,callback:function(t){e.$set(e.formEquipment.otherParams,"factorR1",t)},expression:"formEquipment.otherParams.factorR1"}}),e._v("\n     设备层系数R2 \n    "),a("el-input",{staticStyle:{width:"100px"},attrs:{disabled:!e.formEquipment.otherParams.equipmentFactor},model:{value:e.formEquipment.otherParams.factorR2,callback:function(t){e.$set(e.formEquipment.otherParams,"factorR2",t)},expression:"formEquipment.otherParams.factorR2"}})],1),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(t){e.dialogVisible=!1,e.formEquipment.otherParams=e.paramsOrg}}},[e._v("取 消")]),a("el-button",{attrs:{type:"primary"},on:{click:function(t){e.dialogVisible=!1}}},[e._v("确 定")])],1)],1)},E=[],q={props:{id:{type:String},formEquipment:{type:Object}},data:function(){return{dialogVisible:!1,dataProcessList:["保持之前值，质量戳为GOOD","保持之前值，质量戳为BAD","设备数据全部置0，质量戳为GOOD","设备数据全部置0，质量戳为BAD"],scanProcessList:["正常扫描","停止扫描，进入鼓掌查询周期"]}},methods:{setParams:function(){this.dialogVisible=!0,this.paramsOrg=JSON.parse(JSON.stringify(this.formEquipment.otherParams))}}},$=q,R=(a("a266"),Object(y["a"])($,I,E,!1,null,"0f75b247",null));R.options.__file="equipmentParams.vue";var B=R.exports,A=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("el-dialog",{staticClass:"factory-manage",attrs:{title:"工程管理",visible:e.dialogVisible},on:{"update:visible":function(t){e.dialogVisible=t}}},[a("div",{staticClass:"btns"},[a("el-button",{attrs:{size:"small",type:"primary",disabled:3===e.level},on:{click:e.newBuild}},[e._v("新建")]),a("el-button",{attrs:{size:"small",type:"success",disabled:1===e.level},on:{click:e.editFactory}},[e._v("修改")]),a("el-button",{attrs:{size:"small",type:"danger",disabled:1===e.level},on:{click:e.itemDelete}},[e._v("删除")]),a("el-button",{attrs:{size:"small",type:"info"}},[e._v("加载")])],1),a("left-tree",{staticClass:"left-panel-tree",attrs:{data:e.factoryData,id:e.id,contextmenu:!1},on:{"item-click":e.itemClick}})],1),a("el-dialog",{staticClass:"factory-operate",attrs:{title:e.dialogManageTitle,visible:e.dialogManageVisible},on:{"update:visible":function(t){e.dialogManageVisible=t}}},[1===e.level||2===e.level&&"edit"===e.handleType?a("el-form",{ref:"formGroup",attrs:{model:e.formGroup,"label-width":"100px","label-position":"right"}},[a("el-form-item",{attrs:{prop:"text",label:"项目组名："}},[a("el-input",{model:{value:e.formGroup.text,callback:function(t){e.$set(e.formGroup,"text",t)},expression:"formGroup.text"}})],1),a("el-form-item",{attrs:{prop:"describe",label:"项目组描述："}},[a("el-input",{model:{value:e.formGroup.describe,callback:function(t){e.$set(e.formGroup,"describe",t)},expression:"formGroup.describe"}})],1),a("el-form-item",{attrs:{prop:"creatTime",label:"创建时间："}},[a("el-input",{attrs:{disabled:""},model:{value:e.formGroup.creatTime,callback:function(t){e.$set(e.formGroup,"creatTime",t)},expression:"formGroup.creatTime"}})],1)],1):e._e(),3===e.level||2===e.level&&"insert"===e.handleType?a("el-form",{ref:"formFactory",attrs:{model:e.formFactory,"label-width":"90px","label-position":"right"}},[a("el-form-item",{attrs:{prop:"text",label:"工程名："}},[a("el-input",{model:{value:e.formFactory.text,callback:function(t){e.$set(e.formFactory,"text",t)},expression:"formFactory.text"}})],1),a("el-form-item",{attrs:{prop:"describe",label:"工程描述："}},[a("el-input",{model:{value:e.formFactory.describe,callback:function(t){e.$set(e.formFactory,"describe",t)},expression:"formFactory.describe"}})],1)],1):e._e(),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(t){e.dialogManageVisible=!1}}},[e._v("取 消")]),a("el-button",{attrs:{type:"primary",loading:e.submitLoading},on:{click:e.submit}},[e._v("确 定")])],1)],1)],1)},M=[],j=a("c276"),F=[{text:"采集服务",icon:"fa fa-folder",id:"1",level:1,selected:!0,children:[{text:"C1[通道1]",icon:"fa fa-laptop",id:"1-1",level:2,children:[{text:"D1[设备1]",icon:"fa fa-edit",id:"1-1-1",level:3},{text:"D2[设备2]",icon:"fa fa-edit",id:"1-1-2",level:3}]},{text:"C2[通道2]",icon:"fa fa-laptop",id:"1-2",level:2,children:[{text:"D3[设备3]",icon:"fa fa-edit",id:"1-2-1",level:3},{text:"D4[设备4]",icon:"fa fa-edit",id:"1-2-2",level:3}]}]},{text:"数据服务",icon:"fa fa-database",id:"2",level:1,children:[{text:"C3[通道3]",icon:"fa fa-laptop",id:"2-1",level:2}]}],V=[{text:"采集服务",icon:"fa fa-folder",id:"1",level:1,selected:!0,opened:!0,children:[]},{text:"数据服务",icon:"fa fa-database",id:"2",level:1,opened:!0,selected:!1,children:[]}],J=[{text:"工程组列表",icon:"fa fa-folder",id:"root",level:1,children:[{text:"工程组1",describe:"第一工程组",creatTime:"2020-06-20 18:25:20",icon:"fa fa-laptop",id:"group-1",level:2,children:[{text:"采集器工程1",describe:"第一工程",creatTime:"2020-06-20 18:25:20",icon:"fa fa-edit",id:"factory-1",selected:!0,level:3,treeData:F,parentId:"group-1"},{text:"采集器工程2",describe:"第二工程",creatTime:"2020-06-20 18:25:20",icon:"fa fa-edit",id:"factory-2",level:3,treeData:V,parentId:"group-1"}]},{text:"工程组2",describe:"第二工程组",creatTime:"2020-08-25 18:25:20",icon:"fa fa-laptop",id:"group-2",level:2,children:[]}]}],z={components:{LeftTree:D},props:{factoryData:{type:Array,default:function(){return[]}},idFactory:{type:String},passList:{type:Array},equipmentList:{type:Array}},data:function(){return{dialogVisible:!1,dialogManageVisible:!1,dialogManageTitle:"",level:3,id:null,dialogType:"",handleType:"",formGroup:{text:"",describe:"",creatTime:Object(j["n"])(new Date)},formGroupOrg:{},formFactory:{text:"",describe:"",creatTime:Object(j["n"])(new Date)},formFactoryOrg:{},submitLoading:!1}},methods:{factoryManage:function(){this.dialogVisible=!0,this.getSelectedFactory(this.idFactory)},getSelectedFactory:function(e){var t=this;this.factoryData[0].selected=!1,null===e&&this.refreshSelect(),this.factoryData[0].children.forEach(function(a){a.selected=!1,a.children.forEach(function(a){a.selected=!1,a.id===e&&(a.selected=!0),t.level=3,t.id=e,t.formFactoryOrg=a})})},itemClick:function(e){var t=e.id,a=e.level;this.id=t,this.level=a,2===this.level&&(this.formGroupOrg=e),3===this.level&&(this.formFactoryOrg=e),this.$emit("factory-select",e)},newBuild:function(){var e=this;this.dialogManageVisible=!0,this.handleType="insert",this.dialogManageTitle="新建".concat(1===this.level?"项目组":"采集工程"),this.dialogType=1===this.level?"group":"factory",this.$nextTick(function(){1===e.level&&e.$refs.formGroup.resetFields(),2===e.level&&e.$refs.formFactory.resetFields()})},editFactory:function(){var e=this;this.dialogManageVisible=!0,this.handleType="edit",this.dialogManageTitle="修改".concat(2===this.level?"项目组":"采集工程"),this.dialogType=2===this.level?"group":"factory",this.$nextTick(function(){2===e.level&&(e.formGroup=JSON.parse(JSON.stringify(e.formGroupOrg))),3===e.level&&(e.formFactory=JSON.parse(JSON.stringify(e.formFactoryOrg)))})},submit:function(){var e=this,t="group"===this.dialogType?JSON.parse(JSON.stringify(this.formGroup)):JSON.parse(JSON.stringify(this.formFactory));switch(this.submitLoading=!0,this.handleType){case"insert":t.id=Math.random().toString(36).substr(-10),t.icon="group"===this.dialogType?"fa fa-laptop":"fa fa-edit",t.level="group"===this.dialogType?2:3,t.selected=!1,t.opened=!0,"group"===this.dialogType?(t.children=[],this.factoryData[0].children.push(t)):(t.treeData=JSON.parse(JSON.stringify(V)),t.parentId=this.id,this.factoryData[0].children.forEach(function(a,i){e.id===a.id&&a.children.push(t)})),this.submitLoading=!1,this.dialogManageVisible=!1;break;case"edit":this.factoryData[0].children.forEach(function(a,i){"group"===e.dialogType&&t.id===a.id&&e.$set(e.factoryData[0].children,i,JSON.parse(JSON.stringify(t))),"factory"===e.dialogType&&a.children.forEach(function(i,r){t.id===i.id&&e.$set(a.children,r,JSON.parse(JSON.stringify(t)))})}),this.submitLoading=!1,this.dialogManageVisible=!1;break}this.getSelectedFactory("root"),this.refreshSelect()},refreshSelect:function(){var e=this;this.$nextTick(function(){e.level=1,e.id="root",e.$set(e.factoryData[0],"selected",!0)})},itemDelete:function(){var e=this;this.$confirm("将删除该".concat(2===this.level?"工程组":"工程",", 是否继续?"),"提示",{type:"warning"}).then(function(){if(e.factoryData[0].children.forEach(function(t,a){2===e.level&&e.id===t.id&&e.factoryData[0].children.splice(a,1),3===e.level&&t.children.forEach(function(a,i){e.id===a.id&&t.children.splice(i,1)})}),0===e.factoryData[0].children.length||e.factoryData[0].children.every(function(e){return e&&0===e.children.length}))e.$emit("factory-select",{level:3,id:null,treeData:[]}),e.refreshSelect();else if(e.factoryData[0].children.some(function(e){return e&&0!==e.children.length})){var t=!0;e.factoryData[0].children.forEach(function(a,i){t&&a&&0!==a.children.length&&(e.level=3,e.id=a.children[0].id,e.$set(a.children[0],"selected",!0),e.$emit("factory-select",{level:3,id:a.children[0].id,parentId:a.children[0].parentId,treeData:a.children[0].treeData}),t=!1)})}}).catch(function(){})}}},W=z,G=(a("605e"),Object(y["a"])(W,A,M,!1,null,"394d6511",null));G.options.__file="factoryManage.vue";var H=G.exports,U=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("el-dialog",{staticClass:"ip-select",attrs:{title:"IP选择",visible:e.dialogVisibleIP},on:{"update:visible":function(t){e.dialogVisibleIP=t}}},[a("el-row",{staticStyle:{"margin-bottom":"20px"}},[a("el-button",{attrs:{type:"warning",size:"small",plain:""},on:{click:e.searchEquipment}},[e._v("搜索设备")]),a("el-button",{attrs:{type:"primary",size:"small",plain:""},on:{click:e.insertIP}},[e._v("添加")]),a("el-button",{attrs:{type:"danger",size:"small",plain:""},on:{click:e.deleteIPs}},[e._v("删除")]),a("el-button",{attrs:{type:"success",size:"small",plain:""},on:{click:e.updateStatus}},[e._v("更新状态")])],1),a("el-table",{attrs:{data:e.IPList,"tooltip-effect":"dark","max-height":e.tableMaxHeight},on:{"row-dblclick":e.remoteMonitor,"selection-change":e.handleSelectionChange}},[a("el-table-column",{attrs:{type:"selection",width:"30"}}),a("el-table-column",{attrs:{label:"",width:"30"},scopedSlots:e._u([{key:"default",fn:function(e){return[a("i",{class:e.row.operate?"el-icon-check":"el-icon-close"})]}}])}),a("el-table-column",{attrs:{type:"index",label:"序号",width:"50"}}),a("el-table-column",{attrs:{prop:"address",label:"IP地址","min-width":"100"}}),a("el-table-column",{attrs:{prop:"system",label:"系统平台","min-width":"100"}}),a("el-table-column",{attrs:{prop:"productName",label:"产品名称","min-width":"80"}}),a("el-table-column",{attrs:{prop:"factoryDescribe",label:"工程描述","min-width":"120"}}),a("el-table-column",{attrs:{prop:"kernelEdition",label:"内核版本","min-width":"80"}}),a("el-table-column",{attrs:{prop:"faultTimes",label:"故障次数","min-width":"80"}}),a("el-table-column",{attrs:{prop:"createTime",label:"工程创建时间","min-width":"140"}}),a("el-table-column",{attrs:{prop:"status",label:"状态","min-width":"60"}})],1)],1),a("el-dialog",{staticClass:"factory-operate",attrs:{title:"IP维护",visible:e.dialogVisibleIPInsert},on:{"update:visible":function(t){e.dialogVisibleIPInsert=t}}},[a("el-form",{ref:"IPform",attrs:{model:e.IPform,"label-width":"90px","label-position":"right"}},[a("el-form-item",{attrs:{prop:"address",label:"IP："}},[a("el-input",{model:{value:e.IPform.address,callback:function(t){e.$set(e.IPform,"address",t)},expression:"IPform.address"}})],1),a("el-form-item",{attrs:{prop:"factoryDescribe",label:"工程描述："}},[a("el-input",{model:{value:e.IPform.factoryDescribe,callback:function(t){e.$set(e.IPform,"factoryDescribe",t)},expression:"IPform.factoryDescribe"}})],1)],1),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(t){e.dialogVisibleIPInsert=!1}}},[e._v("取 消")]),a("el-button",{attrs:{type:"primary",loading:e.submitLoading},on:{click:e.submitIP}},[e._v("确 定")])],1)],1),a("el-dialog",{staticClass:"monitor-dialog",attrs:{title:e.dialogTitleMonitor,visible:e.dialogVisibleMonitor,top:"10vh"},on:{"update:visible":function(t){e.dialogVisibleMonitor=t}}},[a("el-container",[a("el-aside",{staticClass:"left-panel"},[a("left-tree",{staticClass:"left-panel-tree",attrs:{data:e.monitorTree,contextmenu:!1,collapse:!1},on:{"item-click":e.itemClick}})],1),a("el-container",{staticClass:"right-panel is-vertical"},[a("el-form",{attrs:{"label-position":"left"}},[a("el-table",{attrs:{data:e.monitorTable,"tooltip-effect":"dark","empty-text":" ","max-height":e.tableMaxHeight}},[a("el-table-column",{attrs:{type:"index",label:"序号",width:"40"}}),a("el-table-column",{attrs:{prop:"name",label:"名称(英文)","min-width":"150"}}),a("el-table-column",{attrs:{prop:"describe",label:"描述(中文)","min-width":"160"}}),a("el-table-column",{attrs:{prop:"curValue",label:"当前值","min-width":"180"}}),a("el-table-column",{attrs:{prop:"curTime",label:"时间","min-width":"160"}}),a("el-table-column",{attrs:{prop:"qualityStamp",label:"质量戳","min-width":"80"}}),a("el-table-column",{attrs:{prop:"changeTimes",label:"变化次数","min-width":"80"}}),a("el-table-column",{attrs:{prop:"handle",label:"HANDLE","min-width":"80"}}),a("el-table-column",{attrs:{prop:"dataType",label:"数据类型","min-width":"80"}}),a("el-table-column",{attrs:{prop:"direction",label:"读写方向","min-width":"80"}})],1)],1)],1)],1)],1)],1)},X=[],Y=(a("456d"),[{address:"172.15.19.109",system:"",productName:"",factoryDescribe:"",kernelEdition:"",faultTimes:0,createTime:"",status:"离线",id:"1",operate:!1}]),Q=[{name:"_kernal_version",describe:"应用程序内核版本",curValue:"5.0.0.1",dataType:"字符串"},{name:"_cpu",describe:"CPU负荷",curValue:"0.000000",dataType:"浮点"},{name:"_mem_total",describe:"内存总数(k)",curValue:0,dataType:"整形"},{name:"_mem_used",describe:"已经使用内存(k)",curValue:0,dataType:"整形"},{name:"_m_run_time",describe:"机器运行时间(小时)",curValue:"0.000000",dataType:"浮点"},{name:"_p_run_time",describe:"采集程序运行时间(小时)",curValue:"0.000000",dataType:"浮点"},{name:"_m_sn",describe:"本机编号",curValue:"123456",dataType:"字符串"},{name:"_time_zone",describe:"时区",curValue:8,dataType:"整形"},{name:"_local_time",describe:"网关本地时间",curValue:Object(j["n"])(new Date),dataType:"字符串"},{name:"_product_name",describe:"产品名称",curValue:"本地运行",dataType:"字符串"},{name:"_project_name",describe:"工程名称",curValue:"",dataType:"字符串"},{name:"_project_create_time",describe:"工程创建时间",curValue:"",dataType:"字符串"},{name:"_plat_desc",describe:"平台描述",curValue:"dll",dataType:"字符串"},{name:"_machine_code",describe:"授权机器码",curValue:"18309394CC4BC966",dataType:"字符串"},{name:"_license_info",describe:"授权信息",curValue:"未授权",dataType:"字符串"},{name:"_io_list",describe:"支持的采集插件列表",curValue:"支持全部采集插件",dataType:"字符串"},{name:"_ds_list",describe:"支持的转发插件列表",curValue:"支持全部转发插件",dataType:"字符串"},{name:"_left_time",describe:"运行剩余时间(小时)",curValue:"1.47332",dataType:"字符串"},{name:"_max_db_count",describe:"支持的采集标签数",curValue:999999999,dataType:"整形"},{name:"_vendor",describe:"授权单位",curValue:"中国电子系统技术有限公司",dataType:"字符串"},{name:"_device_type",describe:"设备类型",curValue:"采集网关",dataType:"字符串"},{name:"_machine_active",describe:"采集系统状态",curValue:1,dataType:"布尔"},{name:"_tag_count",describe:"数据标签总数",curValue:0,dataType:"整形"},{name:"_api_client_count",describe:"当前客户端个数",curValue:0,dataType:"整形"}],Z=[{name:"_scan_count",describe:"通道扫描计数器",curValue:"631",dataType:"字符串",type:"collect"},{name:"_ds_scan_count",describe:"通道扫描计数器",curValue:"0",dataType:"字符串",type:"data"},{name:"_send_byte",describe:"发送字节数(BYTE)",curValue:0,dataType:"整形",type:"collect"},{name:"_rev_byte",describe:"接收字节数(BYTE)",curValue:0,dataType:"整形",type:"collect"},{name:"_io_status",describe:"通道打开状态",curValue:1,dataType:"布尔",type:"collect"},{name:"_ds_io_status",describe:"通道打开状态",curValue:0,dataType:"布尔",type:"data"},{name:"_plug_name",describe:"插件名称",curValue:"",dataType:"字符串",type:"collect"},{name:"_ds_plug_name",describe:"插件名称",curValue:"",dataType:"字符串",type:"data"},{name:"_plug_license",describe:"插件授权状态",curValue:"已经授权",dataType:"字符串",type:"collect_data"},{name:"_write_count",describe:"缓存下行点个数",curValue:0,dataType:"整形",type:"collect"}],K=[{name:"_send_package",describe:"发送帧个数",curValue:0,dataType:"整形"},{name:"_rev_package",describe:"接收帧个数",curValue:0,dataType:"整形"},{name:"_success_rate",describe:"通信成功率",curValue:"0.000000",dataType:"浮点"},{name:"_io_status",describe:"设备状态",curValue:0,dataType:"布尔"}],ee={components:{LeftTree:D},props:{factoryData:{type:Array,default:function(){return[]}},idFactory:{type:String},treeData:{type:Array}},data:function(){return{operate:!1,ipOperate:!1,dialogVisibleIP:!1,dialogVisibleIPInsert:!1,IPList:[],multipleSelection:[],IPform:{address:"192.168.0.253",system:"",productName:"",factoryDescribe:"",kernelEdition:"",faultTimes:null,createTime:"",status:"离线",operate:!1},dialogVisibleMonitor:!1,dialogTitleMonitor:"",monitorTree:[],monitorTable:[],handle:0,tableMaxHeight:0,submitLoading:!1}},created:function(){var e=document.documentElement.clientHeight;this.tableMaxHeight=e-54-20-20-.2*e},methods:{ipSelect:function(){this.dialogVisibleIP=!0,this.IPList=Y,this.refreshIPTable()},refreshIPTable:function(){var e=this;this.operate&&(this.$set(this.IPList[0],"system","windows"),this.$set(this.IPList[0],"productName","本地运行"),this.$set(this.IPList[0],"kernelEdition","5"),this.$set(this.IPList[0],"faultTimes",0),this.factoryData[0].children.forEach(function(t){t.children.forEach(function(t){t.id===e.idFactory&&(e.$set(e.IPList[0],"factoryDescribe",t.text),e.$set(e.IPList[0],"createTime",t.creatTime))})}),this.$set(this.IPList[0],"status","在线"),this.$set(this.IPList[0],"operate",!0))},handleSelectionChange:function(e){this.multipleSelection=e},insertIP:function(){var e=this;this.dialogVisibleIPInsert=!0,this.$nextTick(function(){e.$refs.IPform.resetFields()})},submitIP:function(){var e=this,t=JSON.parse(JSON.stringify(this.IPform));this.submitLoading=!0,Y.some(function(t){return t.address===e.IPform.address})?(this.$message.error("IP地址已存在！"),this.submitLoading=!1):(t.id=Math.random().toString(36).substr(-10),Y.push(t),this.submitLoading=!1,this.dialogVisibleIPInsert=!1)},deleteIPs:function(){var e=this;if(0===this.multipleSelection.length)return this.$message({message:"未选择IP",type:"warning",duration:1e3}),!1;this.$confirm("将删除IP, 是否继续?","提示",{type:"warning"}).then(function(){for(var t=function(t){e.multipleSelection.forEach(function(a){e.IPList[t].id===a.id&&e.IPList.splice(t,1)})},a=0;a<e.IPList.length;a++)t(a)}).catch(function(){})},localOperate:function(){this.operate=!0},searchEquipment:function(){this.refreshIPTable()},updateStatus:function(){this.refreshIPTable()},remoteMonitor:function(e){var t=this;this.handle=0,this.ipOperate=e.operate,this.dialogTitleMonitor=e.address,this.dialogVisibleMonitor=!0,this.$nextTick(function(){t.getTreeData(),t.getTableData(t.monitorTree[0].tableData)})},getTreeData:function(){var e=JSON.parse(JSON.stringify(this.treeData));this.monitorTree=[{text:"系统",icon:"fa fa-folder",id:"root",level:0,selected:!0,opened:!0,children:this.operate&&this.ipOperate?e:V}],this.handleRecursion(this.monitorTree)},getTableData:function(e){var t=this;this.monitorTable=this.operate&&this.ipOperate?e:[],this.monitorTable.forEach(function(e,a){t.$set(e,"curTime",Object(j["n"])(new Date)),t.$set(e,"qualityStamp","good"),t.$set(e,"changeTimes",Math.floor(-100*Math.random()+101)),t.$set(e,"direction","只读"),"_project_name"===e.name&&t.factoryData[0].children.forEach(function(a){a.children.forEach(function(a){a.id===t.idFactory&&t.$set(e,"curValue",a.text)})}),"_project_create_time"===e.name&&t.factoryData[0].children.forEach(function(a){a.children.forEach(function(a){a.id===t.idFactory&&t.$set(e,"curValue",a.creatTime)})})})},itemClick:function(e){console.log(e),this.getTableData(e.tableData)},handleRecursion:function(e){var t=this;e.forEach(function(e){var a={opened:!0,selected:0===e.level,tableData:0===e.level?JSON.parse(JSON.stringify(Q)):1===e.level?[]:3===e.level?JSON.parse(JSON.stringify(K)):"1"===e.id.slice(0,1)?JSON.parse(JSON.stringify(Z.filter(function(e){return e.type.indexOf("collect")>-1}))):JSON.parse(JSON.stringify(Z.filter(function(e){return e.type.indexOf("data")>-1})))};t.dataPackage(e,a),e.children&&t.handleRecursion(e.children)})},dataPackage:function(e,t){var a=this;Object.keys(t).forEach(function(i){a.$set(e,i,t[i])}),e.tableData.forEach(function(e){a.$set(e,"handle",a.handle),a.handle++})}}},te=ee,ae=(a("a964"),Object(y["a"])(te,U,X,!1,null,"55ad1b1c",null));ae.options.__file="remoteMonitor.vue";var ie=ae.exports,re={components:{PluginSelect:T,PassParams:N,EquipmentParams:B,FactoryManage:H,RemoteMonitor:ie},props:{treeData:{type:Array},factoryData:{type:Array},handleType:{type:String,default:""},level:{type:Number,default:3},id:{type:String},idFactory:{type:String},passList:{type:Array},pluginList:{type:Array},passTypeList:{type:Array},sataList:{type:Array},baudList:{type:Array},dataList:{type:Array},checkList:{type:Array},stopList:{type:Array},equipmentList:{type:Array}},data:function(){return{dialogDisposeVisible:!1,dialogDisposeTitle:"",dialogCopyTitle:"",dialogCopyVisible:!1,dialogCopyData:[],multipleSelection:[],bindingIPVisible:!1,formPass:{otherParams:{},plugin:{}},formPassRule:{passName:[{required:!0,message:"请输入名称",trigger:"blur"}],passDescribe:[{required:!0,message:"请输入描述",trigger:"blur"}]},disposeActiveNames:["1"],formEquipment:{otherParams:{}},formEquipmentRule:{equipmentName:[{required:!0,message:"请输入名称",trigger:"blur"}],equipmentDescribe:[{required:!0,message:"请输入描述",trigger:"blur"}]},activeNames:["1"]}},watch:{handleType:function(e){}},methods:Object(o["a"])({},Object(l["b"])(["handleLogOut"]),{newBuild:function(e){this.dialogDisposeVisible=!0,this.dialogDisposeTitle="采集".concat(1===this.level?"通道":"设备","配置"),1===this.level?this.formPass={passName:"C1",passDescribe:"通道1",plugin:{name:"IND_MODBUS_TCP",describe:"MODBUS TCP",factory:"莫迪康",classification:"通用标准",path:"C:\\Users\\43577\\Desktop\\软件\\CESTC\\PluginIo\\IND_MODBUS_RTU",plugins:[{name:"BA_BACNET_IP.335x",platform:"335x",edition:"5.0.0.1",lastModifiedDate:"2017-11-08 07:55:30"},{name:"BA_BACNET_IP.dll",platform:"dll",edition:"5.0.0.1",lastModifiedDate:"2019-02-19 03:45:30"},{name:"BA_BACNET_IP.xt",platform:"xt",edition:"",lastModifiedDate:"2020-02-22 08:47:32"}]},passType:"串口",sata:"COM01",baudRate:"9600",dataBits:"8",checkBits:"无校验",stopBits:"1",ip:"192.168.0.253",port:"50001",bindingIp:"192.168.200.161",otherParams:{scanDelay:!1,delayTime:100,linkReset:!1,linkNoDataTime:60,faultDiagnosis:!1,faultNoDataTime:60,faultShooting:"1",packetScanning:"1",alternatePass:!1,passType:"串口",sata:"COM01",baudRate:"9600",dataBits:"8",checkBits:"无校验",stopBits:"1",ip:"192.168.0.253",port:"50001"},delayTime:10,dataTags:[]}:this.formEquipment={equipmentName:"D1",equipmentDescribe:"设备1",userParam:"",MODBUSAdd:"1",searchNum:32,singleRegister:!0,multiRegister:!0,correspondingValue:"FF00",subCorrespondingValue:"0000",doubleByteCheck:!0,otherParams:{delayTime:3e3,failedTryAgain:!1,failedTryTimes:1,faultDiagnosis:!1,continuousQueryFailed:5,noReceivedLongTime:120,faultDataProcess:"保持之前值，质量戳为GOOD",faultScanProcess:"正常扫描",queryPeriod:30,equipmentFactor:!1,factorR1:"1.000",factorR2:"1.000"},dataTags:[]}},itemAdd:function(){var e=this;1===this.level&&this.$refs.formPass.validate(function(t){t&&e.$emit("item-add",e.formPass)}),2===this.level&&this.$refs.formEquipment.validate(function(t){t&&e.$emit("item-add",e.formEquipment)})},copyItems:function(){var e=this;this.dialogCopyVisible=!0,this.dialogCopyTitle="".concat(1===this.level?"通道":"设备","复制（采集）-创建多个").concat(1===this.level?"通道":"设备");var t=[],a=[];this.treeData.forEach(function(i){i.children.forEach(function(r){i.id===e.id&&e.passList.forEach(function(e){r.id===e.id&&t.push(e)}),r.id===e.id&&r.children.forEach(function(t){e.equipmentList.forEach(function(e){t.id===e.id&&a.push(e)})})})}),this.dialogCopyData=1===this.level?t:a},handleSelectionChange:function(e){this.multipleSelection=e},multipleSubmit:function(e){"cancel"===e?(this.$refs.multipleTable.clearSelection(),this.dialogCopyVisible=!1):(this.$emit("items-copy",this.multipleSelection),this.dialogCopyVisible=!1)},itemDelete:function(){this.$emit("item-delete",this.formPass)},localOperate:function(){var e=this;this.$confirm("执行该操作，WINDOWS系统下会运行采集程序，确定运行吗？","提示",{type:"warning"}).then(function(){e.$refs.remoteMonitor.localOperate()}).catch(function(){})},setParamsPass:function(){this.$refs.passParams.setParams()},pluginSelect:function(){this.$refs.pluginSelect.pluginSelect()},pluginClick:function(e){var t=e.level;2===t&&(this.formPass.plugin=e),console.log(this.formPass)},setParamsEquipment:function(){this.$refs.equipmentParams.setParams()},factoryManage:function(){this.$refs.factoryManage.factoryManage()},factorySelect:function(e){this.$emit("factory-select",e)},remoteMonitor:function(){this.$refs.remoteMonitor.ipSelect()},bindingIP:function(){this.bindingIPVisible=!0,this.bindingIpOrg=JSON.parse(JSON.stringify(this.formPass.bindingIp))},itemSubmit:function(){this.$emit("item-submit",this.level)},logOut:function(){var e=this;this.handleLogOut().then(function(){e.$router.push({name:"login"})})}})},ne=re,se=(a("dd0f"),Object(y["a"])(ne,n,s,!1,null,"fc8460ee",null));se.options.__file="Header.vue";var oe=se.exports,le=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"content"},[null!==e.serviceData.id?a("el-form",{attrs:{model:e.formGroup,"label-position":"right"}},[a("el-row",[a("el-col",{staticStyle:{width:"400px"}},[a("el-form-item",{attrs:{"label-width":"80px",label:"所在组：",prop:"groupName"}},[a("el-input",{attrs:{disabled:""},model:{value:e.formGroup.groupName,callback:function(t){e.$set(e.formGroup,"groupName",t)},expression:"formGroup.groupName"}})],1)],1),a("el-col",{staticStyle:{width:"440px"}},[a("el-form-item",{attrs:{"label-width":"120px",label:"当前工程名称：",prop:"projectName"}},[a("el-input",{attrs:{disabled:""},model:{value:e.formGroup.projectName,callback:function(t){e.$set(e.formGroup,"projectName",t)},expression:"formGroup.projectName"}})],1)],1)],1),a("el-row",[a("el-col",{staticStyle:{width:"400px"}},[a("el-form-item",{attrs:{"label-width":"80px",label:"版本号：",prop:"editionNum"}},[a("el-input",{attrs:{disabled:""},model:{value:e.formGroup.editionNum,callback:function(t){e.$set(e.formGroup,"editionNum",t)},expression:"formGroup.editionNum"}})],1)],1),a("el-col",{staticStyle:{width:"440px"}},[a("el-form-item",{attrs:{"label-width":"120px",label:"采集标签个数：",prop:"collectTabNum"}},[a("el-input",{attrs:{disabled:""},model:{value:e.formGroup.collectTabNum,callback:function(t){e.$set(e.formGroup,"collectTabNum",t)},expression:"formGroup.collectTabNum"}})],1)],1)],1)],1):e._e(),null!==e.serviceData.id?a("el-table",{attrs:{data:e.tableGroup,"row-key":"id",border:"","default-expand-all":"","tree-props":{children:"children",hasChildren:"hasChildren"},"max-height":e.tableMaxHeight}},[a("el-table-column",{attrs:{label:"序号","min-width":"100"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v("\n        "+e._s(t.row.isPass?"通道":"设备")+"["+e._s(t.row.index)+"]\n      ")]}}])}),a("el-table-column",{attrs:{prop:"name",label:"名称(英文)","min-width":"120"}}),a("el-table-column",{attrs:{prop:"describe",label:"描述(中文)","min-width":"160"}}),a("el-table-column",{attrs:{label:"参数","min-width":"520"},scopedSlots:e._u([{key:"default",fn:function(t){return[t.row.isPass?a("div",[e._v("\n          "+e._s(t.row.params.pluginName)+";\n          "+e._s(t.row.params.passType)+",\n          "+e._s("串口"===t.row.params.passType?t.row.params.sata:t.row.params.ip)+",\n          "+e._s("串口"===t.row.params.passType?t.row.params.baudRate:t.row.params.port)+",\n          "+e._s("串口"===t.row.params.passType?t.row.params.dataBits:t.row.params.bindingIp)+",\n          "+e._s("串口"===t.row.params.passType?t.row.params.checkBits:"")+",\n          "+e._s("串口"===t.row.params.passType?t.row.params.stopBits:"")+";\n        ")]):a("div",[e._v("\n          temp=;\n        ")])]}}])})],1):a("div",[e._v("未选中工程")])],1)},ce=[],ue=(a("20d6"),{props:{factoryData:{type:Array,default:function(){return[]}},serviceData:{type:Object,default:function(){}},serviceId:{type:String},passList:{type:Array,default:function(){return[]}},equipmentList:{type:Array,default:function(){return[]}},passTypeList:{type:Array},sataList:{type:Array},baudList:{type:Array},dataList:{type:Array},checkList:{type:Array},stopList:{type:Array}},data:function(){return{formGroup:{groupName:"",projectName:"",editionNum:"",collectTabNum:0},tableGroup:[],tableMaxHeight:0}},created:function(){var e=document.documentElement.clientHeight;this.tableMaxHeight=e-73-40-55-60-40,this.getServiceData()},methods:{getServiceData:function(){var e=this;this.factoryData[0].children.forEach(function(t){t.id===e.serviceData.parentId&&(e.formGroup.groupName=t.text,t.children.forEach(function(t){if(t.id===e.serviceData.id){e.formGroup.projectName=t.text,e.formGroup.editionNum=t.id;var a=0;t.treeData[0].children.forEach(function(t){t.children.forEach(function(t){e.equipmentList.forEach(function(e){t.id===e.id&&(a+=e.dataTags.length)})})}),e.formGroup.collectTabNum=a;var i=JSON.parse(JSON.stringify(t));i.treeData.forEach(function(t){var a=0;t.children.forEach(function(t){e.passList.forEach(function(a){t.id===a.id&&(t.name=a.passName,t.describe=a.passDescribe,t.params={pluginName:a.plugin.name,passType:a.passType,sata:e.sataList.findIndex(function(e){return e===a.sata}),baudRate:e.baudList.findIndex(function(e){return e===a.baudRate}),dataBits:e.dataList.findIndex(function(e){return e===a.dataBits}),checkBits:e.checkList.findIndex(function(e){return e===a.checkBits}),stopBits:e.stopList.findIndex(function(e){return e===a.stopBits}),ip:a.ip,port:a.port,bindingIp:a.bindingIp})}),t.index=(++a).toString(),1===t.index.length&&(t.index="0"+t.index),t.isPass=!0;var i=0;t.children.forEach(function(t){e.equipmentList.forEach(function(e){t.id===e.id&&(t.name=e.equipmentName,t.describe=e.equipmentDescribe)}),t.index=(++i).toString(),1===t.index.length&&(t.index="0"+t.index)})})}),e.tableGroup=i.treeData[0].children.concat(i.treeData[1].children)}}))})}},watch:{serviceId:function(e){this.getServiceData()}}}),de=ue,me=(a("1d24"),Object(y["a"])(de,le,ce,!1,null,"15ffd292",null));me.options.__file="Group.vue";var pe=me.exports,fe=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"content"},["1"===e.id.slice(0,1)?a("el-form",{ref:"formPass",attrs:{model:e.formPass,rules:e.formPassRule,"label-position":"left"}},[a("el-row",[a("el-col",{staticStyle:{width:"420px"}},[a("el-form-item",{attrs:{"label-width":"105px",label:"名称(英文)：",prop:"passName"}},[a("el-input",{model:{value:e.formPass.passName,callback:function(t){e.$set(e.formPass,"passName",t)},expression:"formPass.passName"}})],1)],1),a("el-col",{staticStyle:{width:"380px"}},[a("el-form-item",{attrs:{"label-width":"65px",label:"描述：",prop:"passDescribe"}},[a("el-input",{model:{value:e.formPass.passDescribe,callback:function(t){e.$set(e.formPass,"passDescribe",t)},expression:"formPass.passDescribe"}})],1)],1),a("el-button",{staticStyle:{margin:"0 0 20px 20px"},on:{click:e.setParams}},[e._v("其他参数")])],1),a("el-row",[a("el-col",{staticStyle:{width:"358px"}},[a("el-form-item",{attrs:{"label-width":"55px",label:"厂家："}},[a("el-input",{attrs:{disabled:""},model:{value:e.formPass.plugin.factory,callback:function(t){e.$set(e.formPass.plugin,"factory",t)},expression:"formPass.plugin.factory"}})],1)],1),a("el-col",{staticStyle:{width:"358px"}},[a("el-form-item",{attrs:{"label-width":"55px",label:"描述："}},[a("el-input",{attrs:{disabled:""},model:{value:e.formPass.plugin.describe,callback:function(t){e.$set(e.formPass.plugin,"describe",t)},expression:"formPass.plugin.describe"}})],1)],1),a("el-button",{staticStyle:{margin:"0 0 20px 20px"},on:{click:e.pluginSelect}},[e._v("选择插件")]),a("el-button",{staticStyle:{"margin-bottom":"20px"}},[e._v("帮助")])],1),a("el-row",[a("el-col",{staticStyle:{width:"940px"}},[a("el-form-item",{attrs:{"label-width":"55px",label:"路径："}},[a("el-input",{attrs:{disabled:""},model:{value:e.formPass.plugin.path,callback:function(t){e.$set(e.formPass.plugin,"path",t)},expression:"formPass.plugin.path"}})],1)],1)],1),a("el-row",[a("el-col",[a("el-form-item",{attrs:{"label-width":"85px",label:"通道类型：",prop:"passType"}},[a("el-select",{attrs:{placeholder:"请选择"},model:{value:e.formPass.passType,callback:function(t){e.$set(e.formPass,"passType",t)},expression:"formPass.passType"}},e._l(e.passTypeList,function(e){return a("el-option",{key:e,attrs:{label:e,value:e}})}))],1)],1)],1),"串口"===e.formPass.passType?a("el-row",[a("el-col",{staticStyle:{width:"160px"}},[a("el-form-item",{attrs:{"label-width":"55px",label:"串口：",prop:"sata"}},[a("el-select",{attrs:{placeholder:"请选择"},model:{value:e.formPass.sata,callback:function(t){e.$set(e.formPass,"sata",t)},expression:"formPass.sata"}},e._l(e.sataList,function(e){return a("el-option",{key:e,attrs:{label:e,value:e}})}))],1)],1),a("el-col",{staticStyle:{width:"180px"}},[a("el-form-item",{attrs:{"label-width":"75px",label:"波特率：",prop:"baudRate"}},[a("el-select",{attrs:{placeholder:"请选择"},model:{value:e.formPass.baudRate,callback:function(t){e.$set(e.formPass,"baudRate",t)},expression:"formPass.baudRate"}},e._l(e.baudList,function(e){return a("el-option",{key:e,attrs:{label:e,value:e}})}))],1)],1),a("el-col",{staticStyle:{width:"160px"}},[a("el-form-item",{attrs:{"label-width":"75px",label:"数据位：",prop:"dataBits"}},[a("el-select",{attrs:{placeholder:"请选择"},model:{value:e.formPass.dataBits,callback:function(t){e.$set(e.formPass,"dataBits",t)},expression:"formPass.dataBits"}},e._l(e.dataList,function(e){return a("el-option",{key:e,attrs:{label:e,value:e}})}))],1)],1),a("el-col",{staticStyle:{width:"180px"}},[a("el-form-item",{attrs:{"label-width":"75px",label:"校验位：",prop:"checkBits"}},[a("el-select",{attrs:{placeholder:"请选择"},model:{value:e.formPass.checkBits,callback:function(t){e.$set(e.formPass,"checkBits",t)},expression:"formPass.checkBits"}},e._l(e.checkList,function(e){return a("el-option",{key:e,attrs:{label:e,value:e}})}))],1)],1),a("el-col",{staticStyle:{width:"180px"}},[a("el-form-item",{attrs:{"label-width":"75px",label:"停止位：",prop:"stopBits"}},[a("el-select",{attrs:{placeholder:"请选择"},model:{value:e.formPass.stopBits,callback:function(t){e.$set(e.formPass,"stopBits",t)},expression:"formPass.stopBits"}},e._l(e.stopList,function(e){return a("el-option",{key:e,attrs:{label:e,value:e}})}))],1)],1)],1):e._e(),"串口"!==e.formPass.passType&&"虚拟端口"!==e.formPass.passType?a("el-row",[a("el-col",{staticStyle:{width:"300px"}},[a("el-form-item",{attrs:{"label-width":"70px",label:"TCP客户端"===e.formPass.passType?"远程IP：":"本地IP：",prop:"ip"}},[a("el-input",{model:{value:e.formPass.ip,callback:function(t){e.$set(e.formPass,"ip",t)},expression:"formPass.ip"}})],1)],1),a("el-col",{staticStyle:{width:"300px"}},[a("el-form-item",{attrs:{"label-width":"85px",label:"TCP客户端"===e.formPass.passType?"远程端口：":"本地端口：",prop:"port"}},[a("el-input",{model:{value:e.formPass.port,callback:function(t){e.$set(e.formPass,"port",t)},expression:"formPass.port"}})],1)],1),"TCP客户端"===e.formPass.passType?a("el-button",{staticStyle:{"margin-left":"20px"},on:{click:e.bindingIP}},[e._v("需要绑定本地IP")]):e._e()],1):e._e()],1):a("el-tabs",{model:{value:e.activeName,callback:function(t){e.activeName=t},expression:"activeName"}},[a("el-tab-pane",{attrs:{name:"first"}},[a("span",{attrs:{slot:"label"},slot:"label"},[a("i",{staticClass:"el-icon-setting"}),e._v(" 配置参数\n      ")]),a("el-form",{ref:"formPass",attrs:{model:e.formPass,rules:e.formPassRule,"label-position":"left"}},[a("el-row",[a("el-col",{staticStyle:{width:"420px"}},[a("el-form-item",{attrs:{"label-width":"105px",label:"名称(英文)：",prop:"passName"}},[a("el-input",{model:{value:e.formPass.passName,callback:function(t){e.$set(e.formPass,"passName",t)},expression:"formPass.passName"}})],1)],1),a("el-col",{staticStyle:{width:"380px"}},[a("el-form-item",{attrs:{"label-width":"65px",label:"描述：",prop:"passDescribe"}},[a("el-input",{model:{value:e.formPass.passDescribe,callback:function(t){e.$set(e.formPass,"passDescribe",t)},expression:"formPass.passDescribe"}})],1)],1),a("el-button",{staticStyle:{margin:"0 0 20px 20px"},on:{click:e.setParams}},[e._v("其他参数")])],1),a("el-row",[a("el-col",{staticStyle:{width:"358px"}},[a("el-form-item",{attrs:{"label-width":"55px",label:"厂家："}},[a("el-input",{attrs:{disabled:""},model:{value:e.formPass.plugin.factory,callback:function(t){e.$set(e.formPass.plugin,"factory",t)},expression:"formPass.plugin.factory"}})],1)],1),a("el-col",{staticStyle:{width:"358px"}},[a("el-form-item",{attrs:{"label-width":"55px",label:"描述："}},[a("el-input",{attrs:{disabled:""},model:{value:e.formPass.plugin.describe,callback:function(t){e.$set(e.formPass.plugin,"describe",t)},expression:"formPass.plugin.describe"}})],1)],1),a("el-button",{staticStyle:{margin:"0 0 20px 20px"},on:{click:e.pluginSelect}},[e._v("选择插件")]),a("el-button",{staticStyle:{"margin-bottom":"20px"}},[e._v("帮助")])],1),a("el-row",[a("el-col",{staticStyle:{width:"940px"}},[a("el-form-item",{attrs:{"label-width":"55px",label:"路径："}},[a("el-input",{attrs:{disabled:""},model:{value:e.formPass.plugin.path,callback:function(t){e.$set(e.formPass.plugin,"path",t)},expression:"formPass.plugin.path"}})],1)],1)],1),a("el-row",[a("el-col",[a("el-form-item",{attrs:{"label-width":"85px",label:"通道类型：",prop:"passType"}},[a("el-select",{attrs:{placeholder:"请选择"},model:{value:e.formPass.passType,callback:function(t){e.$set(e.formPass,"passType",t)},expression:"formPass.passType"}},e._l(e.passTypeList,function(e){return a("el-option",{key:e,attrs:{label:e,value:e}})}))],1)],1)],1),"串口"===e.formPass.passType?a("el-row",[a("el-col",{staticStyle:{width:"160px"}},[a("el-form-item",{attrs:{"label-width":"55px",label:"串口：",prop:"sata"}},[a("el-select",{attrs:{placeholder:"请选择"},model:{value:e.formPass.sata,callback:function(t){e.$set(e.formPass,"sata",t)},expression:"formPass.sata"}},e._l(e.sataList,function(e){return a("el-option",{key:e,attrs:{label:e,value:e}})}))],1)],1),a("el-col",{staticStyle:{width:"180px"}},[a("el-form-item",{attrs:{"label-width":"75px",label:"波特率：",prop:"baudRate"}},[a("el-select",{attrs:{placeholder:"请选择"},model:{value:e.formPass.baudRate,callback:function(t){e.$set(e.formPass,"baudRate",t)},expression:"formPass.baudRate"}},e._l(e.baudList,function(e){return a("el-option",{key:e,attrs:{label:e,value:e}})}))],1)],1),a("el-col",{staticStyle:{width:"160px"}},[a("el-form-item",{attrs:{"label-width":"75px",label:"数据位：",prop:"dataBits"}},[a("el-select",{attrs:{placeholder:"请选择"},model:{value:e.formPass.dataBits,callback:function(t){e.$set(e.formPass,"dataBits",t)},expression:"formPass.dataBits"}},e._l(e.dataList,function(e){return a("el-option",{key:e,attrs:{label:e,value:e}})}))],1)],1),a("el-col",{staticStyle:{width:"180px"}},[a("el-form-item",{attrs:{"label-width":"75px",label:"校验位：",prop:"checkBits"}},[a("el-select",{attrs:{placeholder:"请选择"},model:{value:e.formPass.checkBits,callback:function(t){e.$set(e.formPass,"checkBits",t)},expression:"formPass.checkBits"}},e._l(e.checkList,function(e){return a("el-option",{key:e,attrs:{label:e,value:e}})}))],1)],1),a("el-col",{staticStyle:{width:"180px"}},[a("el-form-item",{attrs:{"label-width":"75px",label:"停止位：",prop:"stopBits"}},[a("el-select",{attrs:{placeholder:"请选择"},model:{value:e.formPass.stopBits,callback:function(t){e.$set(e.formPass,"stopBits",t)},expression:"formPass.stopBits"}},e._l(e.stopList,function(e){return a("el-option",{key:e,attrs:{label:e,value:e}})}))],1)],1)],1):e._e(),"串口"!==e.formPass.passType&&"虚拟端口"!==e.formPass.passType?a("el-row",[a("el-col",{staticStyle:{width:"300px"}},[a("el-form-item",{attrs:{"label-width":"70px",label:"TCP客户端"===e.formPass.passType?"远程IP：":"本地IP：",prop:"ip"}},[a("el-input",{model:{value:e.formPass.ip,callback:function(t){e.$set(e.formPass,"ip",t)},expression:"formPass.ip"}})],1)],1),a("el-col",{staticStyle:{width:"300px"}},[a("el-form-item",{attrs:{"label-width":"85px",label:"TCP客户端"===e.formPass.passType?"远程端口：":"本地端口：",prop:"port"}},[a("el-input",{model:{value:e.formPass.port,callback:function(t){e.$set(e.formPass,"port",t)},expression:"formPass.port"}})],1)],1),"TCP客户端"===e.formPass.passType?a("el-button",{staticStyle:{"margin-left":"20px"},on:{click:e.bindingIP}},[e._v("需要绑定本地IP")]):e._e(),"TCP服务端"===e.formPass.passType?a("el-button",{staticStyle:{"margin-left":"20px"}},[e._v("允许客户端接入列表")]):e._e()],1):e._e(),a("el-collapse",{model:{value:e.activeNames,callback:function(t){e.activeNames=t},expression:"activeNames"}},[a("el-collapse-item",{attrs:{title:"基本参数",name:"1"}},[a("div",[e._v("延迟回复："+e._s(e.formPass.delayTime))])])],1)],1)],1),a("el-tab-pane",{attrs:{name:"second"}},[a("span",{attrs:{slot:"label"},slot:"label"},[a("i",{staticClass:"el-icon-edit-outline"}),e._v(" 数据标签\n      ")]),a("pass-tags",{attrs:{id:e.id,"tree-data":e.treeData,"pass-list":e.passList,"equipment-list":e.equipmentList,"data-tags-org":e.formPass.dataTags}})],1)],1),a("pass-params",{ref:"passParams",attrs:{id:e.id,"form-pass":e.formPass,"pass-type-list":e.passTypeList,"sata-list":e.sataList,"baud-list":e.baudList,"data-list":e.dataList,"check-list":e.checkList,"stop-list":e.stopList}}),a("plugin-select",{ref:"pluginSelect",attrs:{id:e.id,"form-pass":e.formPass,"plugin-list":e.pluginList},on:{"plugin-click":e.pluginClick}}),a("el-dialog",{staticClass:"bind-dialog",attrs:{title:"IP地址框",visible:e.bindingIPVisible},on:{"update:visible":function(t){e.bindingIPVisible=t}}},[a("el-row",[e._v("\n      本地IP：\n      "),a("el-input",{staticStyle:{width:"300px"},model:{value:e.formPass.bindingIp,callback:function(t){e.$set(e.formPass,"bindingIp",t)},expression:"formPass.bindingIp"}})],1),a("el-row",{staticStyle:{"margin-top":"20px"}},[e._v("\n      注：本地IP，主要用来网卡绑定，以方便使用固定路由，为空的话，系统自己匹配路由。\n    ")]),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(t){e.bindingIPVisible=!1,e.formPass.bindingIp=e.bindingIpOrg}}},[e._v("取 消")]),a("el-button",{attrs:{type:"primary"},on:{click:function(t){e.bindingIPVisible=!1}}},[e._v("确 定")])],1)],1)],1)},he=[],ge=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"table-component"},[a("el-row",{staticStyle:{"margin-bottom":"20px"}},[a("el-select",{staticStyle:{width:"150px","margin-right":"10px"},attrs:{placeholder:"请选择"},on:{change:e.refreshData},model:{value:e.dataTypeSelect,callback:function(t){e.dataTypeSelect=t},expression:"dataTypeSelect"}},e._l(e.dataTypeList,function(e){return a("el-option",{key:e,attrs:{label:e,value:e}})})),a("el-button",{attrs:{type:"primary",size:"small",plain:""},on:{click:e.insertTag}},[e._v("新增")]),a("el-button",{attrs:{type:"success",size:"small",plain:""},on:{click:e.loadTags}},[e._v("加载")]),a("el-button",{attrs:{type:"danger",size:"small",plain:""},on:{click:e.deleteTags}},[e._v("删除")]),a("el-button",{attrs:{type:"info",size:"small",plain:"",loading:e.downloadLoading},on:{click:e.downloadTable}},[e._v("导出")]),a("el-button",{attrs:{type:"info",size:"small",plain:""},on:{click:e.uploadTable}},[e._v("导入")]),a("input",{ref:"excel-upload-input",staticClass:"excel-upload-input",attrs:{type:"file",accept:".xlsx, .xls"},on:{change:e.handleClick}})],1),a("el-table",{attrs:{data:e.dataTags,border:"","current-row-key":"","empty-text":"暂无标签","max-height":e.tableMaxHeight},on:{"selection-change":e.handleSelectionChange}},[a("el-table-column",{attrs:{type:"selection",width:"30"}}),a("el-table-column",{attrs:{prop:"index",label:"序号",width:"40"}}),e._l(e.dataColumns,function(e,t){return a("el-table-column",{key:t,attrs:{prop:e.prop,label:e.label,width:e.width?e.width:"","min-width":e.minWidth?e.minWidth:""}})}),a("el-table-column",{attrs:{label:"操作","min-width":"160"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{attrs:{type:"primary",size:"mini",plain:"",icon:"el-icon-edit"},on:{click:function(a){e.editTag(t.row)}}}),a("el-button",{staticStyle:{"margin-left":"3px"},attrs:{type:"danger",size:"mini",plain:"",icon:"el-icon-delete"},on:{click:function(a){e.deleteTag(t.row.id)}}}),a("el-button",{staticStyle:{"margin-left":"3px"},attrs:{type:"success",size:"mini",plain:"",icon:"el-icon-top",disabled:1===t.row.index},on:{click:function(a){e.tagToggle(t.row.index-1,"up")}}}),a("el-button",{staticStyle:{"margin-left":"3px"},attrs:{type:"success",size:"mini",plain:"",icon:"el-icon-bottom",disabled:t.row.index===e.dataTags.length},on:{click:function(a){e.tagToggle(t.row.index-1,"down")}}})]}}])})],2),a("el-dialog",{staticClass:"tag-dialog",attrs:{title:e.dialogTitle,visible:e.dialogVisible},on:{"update:visible":function(t){e.dialogVisible=t}}},[a("el-form",{ref:"dialogForm",attrs:{model:e.formData,rules:e.formRule,"label-position":"left"}},[a("el-row",{attrs:{gutter:0}},[a("el-col",{attrs:{span:9}},[a("el-form-item",{attrs:{"label-width":"65px",label:"名称：",prop:"name"}},[a("el-input",{model:{value:e.formData.name,callback:function(t){e.$set(e.formData,"name",t)},expression:"formData.name"}})],1)],1),a("el-col",{attrs:{span:9}},[a("el-form-item",{attrs:{"label-width":"65px",label:"描述：",prop:"describe"}},[a("el-input",{model:{value:e.formData.describe,callback:function(t){e.$set(e.formData,"describe",t)},expression:"formData.describe"}})],1)],1),a("el-button",{staticStyle:{margin:"0 0 20px 10px"},on:{click:e.setParams}},[e._v("其他参数")])],1),a("el-row",{attrs:{gutter:0}},[a("el-col",{attrs:{span:9}},[a("el-form-item",{attrs:{label:"数据类型：",prop:"dataType"}},[a("el-select",{staticStyle:{width:"203px"},attrs:{placeholder:"请选择"},model:{value:e.formData.dataType,callback:function(t){e.$set(e.formData,"dataType",t)},expression:"formData.dataType"}},e._l(e.dataTypeList,function(e){return a("el-option",{key:e,attrs:{label:e,value:e}})}))],1)],1),a("el-col",{attrs:{span:10}},[a("el-form-item",{attrs:{label:"读写方向：",prop:"direction"}},[a("el-select",{attrs:{placeholder:"请选择"},model:{value:e.formData.direction,callback:function(t){e.$set(e.formData,"direction",t)},expression:"formData.direction"}},e._l(e.directionList,function(e){return a("el-option",{key:e,attrs:{label:e,value:e}})}))],1)],1)],1),a("el-row",{attrs:{gutter:0}},[a("el-col",{attrs:{span:9}},[a("el-form-item",{attrs:{"label-width":"155px",label:"采集周期（毫秒）：",prop:"acquisitionCycle"}},[a("el-input",{model:{value:e.formData.acquisitionCycle,callback:function(t){e.$set(e.formData,"acquisitionCycle",t)},expression:"formData.acquisitionCycle"}})],1)],1),a("el-col",{attrs:{span:10}},[a("el-form-item",{attrs:{"label-width":"100px",label:"IO标签链接：",prop:"IOTag"}},[a("el-input",{staticStyle:{width:"fit-content"},attrs:{disabled:""},model:{value:e.formData.IOTag,callback:function(t){e.$set(e.formData,"IOTag",t)},expression:"formData.IOTag"}})],1)],1),a("el-button",{staticStyle:{margin:"0 0 20px 10px"},on:{click:e.tagSelect}},[e._v("选择标签")])],1),a("el-row",{attrs:{gutter:0}},[a("el-col",{attrs:{span:9}},[a("el-form-item",{attrs:{"label-width":"70px",label:"从站ID：",prop:"slaveStationID"}},[a("el-input",{model:{value:e.formData.slaveStationID,callback:function(t){e.$set(e.formData,"slaveStationID",t)},expression:"formData.slaveStationID"}})],1)],1),a("el-col",{attrs:{span:10}},[a("el-form-item",{attrs:{"label-width":"100px",label:"寄存器类型：",prop:"registerType"}},[a("el-select",{staticStyle:{width:"250px"},attrs:{placeholder:"请选择"},model:{value:e.formData.registerType,callback:function(t){e.$set(e.formData,"registerType",t)},expression:"formData.registerType"}},e._l(e.registerTypeList,function(e){return a("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})}))],1)],1)],1),a("el-row",{attrs:{gutter:0}},[a("el-col",{attrs:{span:9}},[a("el-form-item",{attrs:{"label-width":"100px",label:"寄存器地址：",prop:"registerAddr"}},[a("el-input",{model:{value:e.formData.registerAddr,callback:function(t){e.$set(e.formData,"registerAddr",t)},expression:"formData.registerAddr"}})],1)],1),a("el-col",{attrs:{span:10}},[a("el-form-item",{attrs:{"label-width":"90px",label:"数据格式：",prop:"dataFormat"}},[a("el-select",{staticStyle:{width:"250px"},attrs:{placeholder:"请选择"},model:{value:e.formData.dataFormat,callback:function(t){e.$set(e.formData,"dataFormat",t)},expression:"formData.dataFormat"}},e._l(e.dataFormatList,function(e){return a("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})}))],1)],1)],1)],1),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(t){e.dialogVisible=!1}}},[e._v("取 消")]),a("el-button",{attrs:{type:"primary",loading:e.submitLoading},on:{click:e.tagSubmit}},[e._v("确 定")])],1)],1),a("el-dialog",{attrs:{title:"其他参数 浮点",visible:e.dialogVisibleParam},on:{"update:visible":function(t){e.dialogVisibleParam=t}}},[a("el-checkbox",{staticStyle:{"margin-right":"20px"},model:{value:e.formData.ratioCalculation,callback:function(t){e.$set(e.formData,"ratioCalculation",t)},expression:"formData.ratioCalculation"}},[e._v("系数计算")]),a("div",{staticClass:"params-dialog-row-div"},[e._v("\n       倍率（a）\n      "),a("el-input",{staticStyle:{width:"100px"},attrs:{disabled:!e.formData.ratioCalculation},model:{value:e.formData.magnification,callback:function(t){e.$set(e.formData,"magnification",t)},expression:"formData.magnification"}}),e._v("\n       基数（b）\n      "),a("el-input",{staticStyle:{width:"100px","margin-right":"20px"},attrs:{disabled:!e.formData.ratioCalculation},model:{value:e.formData.base,callback:function(t){e.$set(e.formData,"base",t)},expression:"formData.base"}}),e._v("\n      形如：y = ax + b\n    ")],1),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(t){e.dialogVisibleParam=!1,e.formData.ratioCalculation=e.otherParamsOrg.ratioCalculation,e.formData.magnification=e.otherParamsOrg.magnification,e.formData.base=e.otherParamsOrg.base}}},[e._v("取 消")]),a("el-button",{attrs:{type:"primary"},on:{click:function(t){e.dialogVisibleParam=!1}}},[e._v("确 定")])],1)],1),a("tag-select",{ref:"tagSelect",attrs:{id:e.id,"tag-describe":e.tagDescribe,"tree-data":e.treeData,"form-data":e.formData,"pass-list":e.passList,"equipment-list":e.equipmentList},on:{"tag-click":e.tagClick}}),a("tag-load",{ref:"tagLoad",attrs:{"tree-data":e.treeData,"data-tags":e.dataTags,"pass-list":e.passList,"equipment-list":e.equipmentList}})],1)},be=[],ve=(a("55dd"),a("f11f")),ye=a("1146"),xe=a.n(ye),De=[{prop:"name",label:"名称（英文）",minWidth:120},{prop:"describe",label:"描述（中文）",minWidth:160},{prop:"dataType",label:"数据类型",minWidth:70},{prop:"direction",label:"读写方向",minWidth:70},{prop:"acquisitionCycle",label:"采集周期",minWidth:70},{prop:"IOTag",label:"IO标签链接",minWidth:170},{prop:"slaveStationID",label:"从站ID",minWidth:55},{prop:"registerType",label:"寄存器类型",minWidth:85},{prop:"registerAddr",label:"寄存器地址",minWidth:85},{prop:"dataFormat",label:"数据格式",minWidth:70}],Pe=[{prop:"name",label:"名称（英文）",minWidth:110},{prop:"describe",label:"描述（中文）",minWidth:140},{prop:"dataType",label:"数据类型",minWidth:70},{prop:"direction",label:"读写方向",minWidth:70},{prop:"acquisitionCycle",label:"采集周期",minWidth:70},{prop:"registerType",label:"寄存器类型",minWidth:85},{prop:"registerAddr",label:"寄存器地址",minWidth:85},{prop:"analyticalMethod",label:"解析方式",minWidth:70},{prop:"displacementDeviation",label:"位移偏量",minWidth:70}],_e={tHeader:["序号","名称（英文）","描述（中文）","数据类型","读写方向","采集周期","IO标签链接","从站ID","寄存器类型","寄存器地址","数据格式"],filterVal:["index","name","describe","dataType","direction","acquisitionCycle","IOTag","slaveStationID","registerType","registerAddr","dataFormat"]},we={tHeader:["序号","名称（英文）","描述（中文）","数据类型","读写方向","采集周期","寄存器类型","寄存器地址","解析方式","位移偏量","按BCD"],filterVal:["index","name","describe","dataType","direction","acquisitionCycle","registerType","registerAddr","analyticalMethod","displacementDeviation","useBCD"]},Te={index:"序号",name:"名称（英文）",describe:"描述（中文）",dataType:"数据类型",direction:"读写方向",acquisitionCycle:"采集周期",IOTag:"IO标签链接",slaveStationID:"从站ID",registerType:"寄存器类型",registerAddr:"寄存器地址",dataFormat:"数据格式",analyticalMethod:"解析方式",displacementDeviation:"位移偏量",useBCD:"按BCD"},Se=function(){var e=this,t=e.$createElement,a=e._self._c||t;return e.dialogVisible?a("el-dialog",{staticClass:"tag-select-dialog",attrs:{title:"标签变量字典",visible:e.dialogVisible},on:{"update:visible":function(t){e.dialogVisible=t}}},[a("el-container",[a("el-aside",{staticClass:"left-panel"},[a("left-tree",{staticClass:"left-panel-tree",attrs:{data:e.tagTreeData,contextmenu:!1,collapse:!1},on:{"item-click":e.itemClick}})],1),a("el-container",{staticClass:"right-panel is-vertical"},[a("el-form",{attrs:{"label-position":"left"}},[a("el-form-item",{attrs:{"label-width":"55px",label:"名称："}},[a("el-input",{attrs:{disabled:""},model:{value:e.formData.IOTag,callback:function(t){e.$set(e.formData,"IOTag",t)},expression:"formData.IOTag"}})],1),a("el-form-item",{attrs:{"label-width":"55px",label:"描述："}},[e._v("\n          "+e._s(e.tagDescribe)+"\n        ")]),a("el-table",{ref:"tagListTable",attrs:{data:e.tableData,height:"350","tooltip-effect":"dark","highlight-current-row":""},on:{"current-change":e.tagClick}},[a("el-table-column",{attrs:{type:"index",label:"序号",width:"40"}}),a("el-table-column",{attrs:{prop:"name",label:"名称",width:"110"}}),a("el-table-column",{attrs:{prop:"describe",label:"描述",width:"140"}}),a("el-table-column",{attrs:{prop:"dataType",label:"类型",width:"70"}}),a("el-table-column",{attrs:{prop:"direction",label:"方向",width:"60"}}),a("el-table-column",{attrs:{prop:"source",label:"来源",width:"70"}})],1)],1)],1)],1),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(t){e.dialogVisible=!1,e.formData.IOTag=e.IOTagOrg,e.formData.IOTagParentId=e.IOTagParentIdOrg,e.formData.IOTagSelectId=e.IOTagSelectIdOrg}}},[e._v("取 消")]),a("el-button",{attrs:{type:"primary"},on:{click:function(t){e.dialogVisible=!1}}},[e._v("确 定")])],1)],1):e._e()},ke=[],Oe={components:{LeftTree:D},props:{id:{type:String},formData:{type:Object,default:function(){}},treeData:{type:Array,default:function(){return[]}},passList:{type:Array,default:function(){return[]}},equipmentList:{type:Array,default:function(){return[]}},tagDescribe:{type:String}},data:function(){return{dialogVisible:!1,tableData:[]}},methods:{tagSelect:function(){this.dialogVisible=!0,this.getTagTreeData(),this.IOTagOrg=JSON.parse(JSON.stringify(this.formData.IOTag)),this.IOTagParentIdOrg=this.formData.IOTagParentId?JSON.parse(JSON.stringify(this.formData.IOTagParentId)):"",this.IOTagSelectIdOrg=this.formData.IOTagSelectId?JSON.parse(JSON.stringify(this.formData.IOTagSelectId)):""},getTagTreeData:function(){var e=this;this.tagTreeData=JSON.parse(JSON.stringify(this.treeData)),this.tagTreeData.forEach(function(t){"1"===t.id?(t.text="IO标签",t.tagSelectList=[{name:"_kernal_version",describe:"应用程序内核版本",dataType:"整型",direction:"读写",source:"IO属性",parentId:t.id,id:"0"},{name:"_cpu",describe:"CPU负荷",dataType:"整型",direction:"只读",source:"IO属性",parentId:t.id,id:"1"},{name:"_mem_total",describe:"内存总数(k)",dataType:"整型",direction:"只读",source:"IO属性",parentId:t.id,id:"2"}]):"2"===t.id&&(t.text="系统变量标签",t.children=[]),t.children.forEach(function(t){e.passList.forEach(function(a){t.id===a.id&&(t.tagSelectList=[{name:"_send_byte",describe:"发送字节数(BYTE)",dataType:"整型",direction:"只读",source:"IO属性",passName:a.passName,passDescribe:a.passDescribe,parentId:t.id,id:"0"},{name:"_rev_byte",describe:"接收字节数(BYTE)",dataType:"整型",direction:"只读",source:"IO属性",passName:a.passName,passDescribe:a.passDescribe,parentId:t.id,id:"1"},{name:"_io_status",describe:"通道状态",dataType:"整型",direction:"只读",source:"IO属性",passName:a.passName,passDescribe:a.passDescribe,parentId:t.id,id:"2"}],t.children.forEach(function(t){e.equipmentList.forEach(function(e){t.id===e.id&&(t.tagSelectList=[{name:"_send_package",describe:"发送帧个数",dataType:"整型",direction:"只读",source:"IO属性",passName:a.passName,passDescribe:a.passDescribe,equpimentName:e.equipmentName,equipmentDescribe:e.equipmentDescribe,parentId:t.id,id:"0"},{name:"_rev_package",describe:"接收帧个数",dataType:"整型",direction:"只读",source:"IO属性",passName:a.passName,passDescribe:a.passDescribe,equpimentName:e.equipmentName,equipmentDescribe:e.equipmentDescribe,parentId:t.id,id:"1"},{name:"_success_rate",describe:"通信成功率",dataType:"浮点",direction:"只读",source:"IO属性",passName:a.passName,passDescribe:a.passDescribe,equpimentName:e.equipmentName,equipmentDescribe:e.equipmentDescribe,parentId:t.id,id:"2"},{name:"_io_status",describe:"设备状态",dataType:"布尔",direction:"只读",source:"IO属性",passName:a.passName,passDescribe:a.passDescribe,equpimentName:e.equipmentName,equipmentDescribe:e.equipmentDescribe,parentId:t.id,id:"3"}],e.dataTags.forEach(function(i){t.tagSelectList.push({name:i.name,describe:i.describe,dataType:i.dataType,direction:i.direction,source:"IO采集",passName:a.passName,passDescribe:a.passDescribe,equpimentName:e.equipmentName,equipmentDescribe:e.equipmentDescribe,parentId:t.id,id:i.id})}))})}))})})})},itemClick:function(e){this.tableData=e.tagSelectList},tagClick:function(e){this.$emit("tag-click",e)},visibleSelect:function(e){var t=this;e.selected=!1,e.id===this.formData.IOTagParentId&&(e.selected=!0,this.tableData=e.tagSelectList,this.$nextTick(function(){t.tableData.forEach(function(e,a){e.id===t.formData.IOTagSelectId&&t.$refs.tagListTable.setCurrentRow(t.tableData[a])})}))}},watch:{dialogVisible:function(e){var t=this;!0===e&&this.tagTreeData.forEach(function(e){t.visibleSelect(e),e.children.forEach(function(e){t.visibleSelect(e),e.children.forEach(function(e){t.visibleSelect(e)})})})}}},Ce=Oe,Le=(a("c5ee"),Object(y["a"])(Ce,Se,ke,!1,null,"638f4476",null));Le.options.__file="tagSelect.vue";var Ne=Le.exports,Ie=function(){var e=this,t=e.$createElement,a=e._self._c||t;return e.dialogVisible?a("el-dialog",{staticClass:"tag-load-dialog",attrs:{title:"IO标签映射操作",visible:e.dialogVisible},on:{"update:visible":function(t){e.dialogVisible=t}}},[a("el-row",{staticClass:"params-dialog-row"},[a("el-checkbox",{model:{value:e.filterForm.passDescribe,callback:function(t){e.$set(e.filterForm,"passDescribe",t)},expression:"filterForm.passDescribe"}},[e._v("保留通道描述")]),a("el-checkbox",{model:{value:e.filterForm.equipmentDescribe,callback:function(t){e.$set(e.filterForm,"equipmentDescribe",t)},expression:"filterForm.equipmentDescribe"}},[e._v("保留设备描述")]),a("el-checkbox",{model:{value:e.filterForm.equipmentStatusTag,callback:function(t){e.$set(e.filterForm,"equipmentStatusTag",t)},expression:"filterForm.equipmentStatusTag"}},[e._v("添加设备状态标签")])],1),a("el-row",{staticClass:"params-dialog-row"},[a("el-checkbox",{model:{value:e.filterForm.floatingPoint,callback:function(t){e.$set(e.filterForm,"floatingPoint",t)},expression:"filterForm.floatingPoint"}},[e._v("浮点")]),a("el-checkbox",{model:{value:e.filterForm.parseInt,callback:function(t){e.$set(e.filterForm,"parseInt",t)},expression:"filterForm.parseInt"}},[e._v("整型")]),a("el-checkbox",{model:{value:e.filterForm.boolean,callback:function(t){e.$set(e.filterForm,"boolean",t)},expression:"filterForm.boolean"}},[e._v("布尔")]),a("el-checkbox",{model:{value:e.filterForm.string,callback:function(t){e.$set(e.filterForm,"string",t)},expression:"filterForm.string"}},[e._v("字符串")]),a("el-checkbox",{model:{value:e.filterForm.binary,callback:function(t){e.$set(e.filterForm,"binary",t)},expression:"filterForm.binary"}},[e._v("二进制")])],1),a("el-table",{attrs:{data:e.tableData,"current-row-key":"","empty-text":"暂无标签"},on:{"selection-change":e.handleSelectionChange}},[a("el-table-column",{attrs:{type:"selection","min-width":"30"}}),a("el-table-column",{attrs:{type:"index",label:"序号","min-width":"40"}}),a("el-table-column",{attrs:{label:"名称","min-width":"110"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v("\n        "+e._s(t.row.passName+"."+t.row.equipmentName)+"\n      ")]}}])}),a("el-table-column",{attrs:{label:"描述","min-width":"140"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v("\n        "+e._s(t.row.passDescribe+"."+t.row.equipmentDescribe)+"\n      ")]}}])})],1),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(t){e.dialogVisible=!1}}},[e._v("取 消")]),a("el-button",{attrs:{type:"primary"},on:{click:e.submit}},[e._v("确 定")])],1)],1):e._e()},Ee=[],qe={props:{id:{type:String},formData:{type:Object,default:function(){}},treeData:{type:Array,default:function(){return[]}},passList:{type:Array,default:function(){return[]}},equipmentList:{type:Array,default:function(){return[]}},dataTags:{type:Array,default:function(){return[]}}},data:function(){return{dialogVisible:!1,tableData:[],multipleSelection:[],filterForm:{}}},methods:{tagLoad:function(){this.dialogVisible=!0,this.refreshData(),this.filterForm={passDescribe:!0,equipmentDescribe:!0,equipmentStatusTag:!0,floatingPoint:!0,parseInt:!0,boolean:!0,string:!0,binary:!0}},refreshData:function(){var e=this;this.copyTreeData=JSON.parse(JSON.stringify(this.treeData)),this.copyEquipmentList=JSON.parse(JSON.stringify(this.equipmentList)),this.copyTreeData.forEach(function(t){"2"===t.id&&(t.children=[]),t.children.forEach(function(t){e.passList.forEach(function(a){t.id===a.id&&t.children.forEach(function(t){e.copyEquipmentList.forEach(function(e){t.id===e.id&&(e.passName=a.passName,e.passDescribe=a.passDescribe)})})})})}),this.tableData=this.copyEquipmentList},handleSelectionChange:function(e){this.multipleSelection=e},submit:function(){var e=this;console.log(this.multipleSelection);var t=[];this.multipleSelection.forEach(function(a){e.filterForm.equipmentStatusTag&&t.push({id:Math.random().toString(36).substr(-10),name:"".concat(a.passName,".").concat(a.equipmentName,"._io_status"),describe:"".concat(e.filterForm.passDescribe?a.passDescribe+" ":"").concat(e.filterForm.equipmentDescribe?a.equipmentDescribe+" ":"","设备状态"),ratioCalculation:!1,magnification:"2.0000",base:"0.0000",dataType:"布尔",direction:"只读",acquisitionCycle:"1000",IOTag:"at.".concat(a.passName,".").concat(a.equipmentName,"._io_status"),IOTagParentId:a.id,IOTagSelectId:"3",slaveStationID:"1",registerType:0,registerAddr:"0",dataFormat:0}),a.dataTags.forEach(function(i){(e.filterForm.floatingPoint&&"浮点"===i.dataType||e.filterForm.parseInt&&"整型"===i.dataType||e.filterForm.boolean&&"布尔"===i.dataType||e.filterForm.string&&"字符串"===i.dataType||e.filterForm.binary&&"二进制"===i.dataType)&&t.push({id:Math.random().toString(36).substr(-10),name:"".concat(a.passName,".").concat(a.equipmentName,".").concat(i.name),describe:"".concat(e.filterForm.passDescribe?a.passDescribe+" ":"").concat(e.filterForm.equipmentDescribe?a.equipmentDescribe+" ":"").concat(i.describe),ratioCalculation:!1,magnification:"2.0000",base:"0.0000",dataType:i.dataType,direction:i.direction,acquisitionCycle:i.acquisitionCycle,IOTag:"io.".concat(a.passName,".").concat(a.equipmentName,".").concat(i.name),IOTagParentId:a.id,IOTagSelectId:i.id,slaveStationID:"1",registerType:0,registerAddr:"0",dataFormat:0})})});var a=t.filter(function(t){return!e.dataTags.some(function(e){return e.name===t.name})});a.forEach(function(t){e.dataTags.push(t)}),this.dataTags.sort(Object(ve["a"])("name","asc")),this.dataTags.map(function(t,a){e.$set(t,"index",a+1)}),this.dialogVisible=!1}}},$e=qe,Re=(a("3b9e"),Object(y["a"])($e,Ie,Ee,!1,null,"7971c56a",null));Re.options.__file="tagLoad.vue";var Be=Re.exports,Ae={components:{TagSelect:Ne,TagLoad:Be},props:{treeData:{type:Array,default:function(){return[]}},passList:{type:Array,default:function(){return[]}},equipmentList:{type:Array,default:function(){return[]}},id:{type:String},dataTagsOrg:{type:Array,default:function(){return[]}}},data:function(){return{dataTags:[],dataColumns:De,dataTypeList:["全部","浮点","整型","布尔","字符串","二进制"],dataTypeSelect:"全部",multipleSelection:[],dialogVisible:!1,dialogVisibleParam:!1,dialogType:"",dialogTitle:"",formData:{name:"",describe:"",ratioCalculation:!1,magnification:"1.0000",base:"0.0000",dataType:"整型",direction:"只读",acquisitionCycle:"1000",IOTag:"at._kernal_version",IOTagParentId:"1",IOTagSelectId:"0",slaveStationID:"1",registerType:2,registerAddr:"0",dataFormat:0},formDataOrg:{},formRule:{name:[{required:!0,message:"请输入名称",trigger:"blur"}],describe:[{required:!0,message:"请输入描述",trigger:"blur"}],acquisitionCycle:[{required:!0,message:"请输入采集周期",trigger:"blur"}]},directionList:["只读","只写","读写"],registerTypeList:[{label:"1号命令：读、写开关量",value:0},{label:"2号命令：读开关量状态",value:1},{label:"3号命令：读、写保持寄存器",value:2},{label:"4号命令：读输入寄存器",value:3}],dataFormatList:[{label:"2字节整型 先高后低 顺序21",value:0},{label:"2字节整型 先高后低 顺序12",value:1},{label:"2字节整型 第1位",value:2},{label:"2字节整型 第2位",value:3},{label:"4字节整型 顺序4321",value:4},{label:"8字节浮点 顺序87654321",value:5}],submitLoading:!1,downloadLoading:!1,tagDescribe:"",tableMaxHeight:0}},created:function(){var e=document.documentElement.clientHeight;this.tableMaxHeight=e-73-40-55-60-40,this.getData()},methods:{getData:function(){this.refreshData()},refreshData:function(){var e=this;"全部"!==this.dataTypeSelect?this.dataTags=this.dataTagsOrg.filter(function(t){return t.dataType===e.dataTypeSelect}):this.dataTags=this.dataTagsOrg,this.dataTags.sort(Object(ve["a"])("name","asc")),this.dataTags.map(function(t,a){e.$set(t,"index",a+1)})},insertTag:function(){var e=this;this.dialogVisible=!0,this.dialogType="insert",this.$nextTick(function(){e.$refs.dialogForm.resetFields(),e.dialogTitle="数据服务标签-".concat("insert"===e.dialogType?"新建":"修改")})},loadTags:function(){this.$refs.tagLoad.tagLoad()},editTag:function(e){var t=this;this.dialogVisible=!0,this.dialogType="edit",this.$nextTick(function(){t.$refs.dialogForm.resetFields(),t.dialogTitle="数据服务标签-".concat("insert"===t.dialogType?"新建":"修改"),t.formDataOrg=e,t.formData=JSON.parse(JSON.stringify(e))})},setParams:function(){this.dialogVisibleParam=!0,this.otherParamsOrg=JSON.parse(JSON.stringify({ratioCalculation:this.formData.ratioCalculation,magnification:this.formData.magnification,base:this.formData.base}))},tagSelect:function(){this.$refs.tagSelect.tagSelect()},tagClick:function(e){console.log(e),e&&(this.formData.IOTag="".concat("IO属性"===e.source?"at.":"io.").concat(e.passName?e.passName+".":"").concat(e.equpimentName?e.equpimentName+".":"").concat(e.name),this.formData.IOTagParentId=e.parentId,this.formData.IOTagSelectId=e.id,this.tagDescribe="".concat(e.passDescribe?e.passDescribe+" ":"").concat(e.equipmentDescribe?e.equipmentDescribe+" ":"").concat(e.describe))},tagSubmit:function(){var e=this,t=JSON.parse(JSON.stringify(this.formData));this.$refs.dialogForm.validate(function(a){if(a)switch(e.submitLoading=!0,e.dialogType){case"insert":e.dataTags.some(function(t){return t.name===e.formData.name})?(e.$message.error("该标签已存在！"),e.submitLoading=!1):(t.id=Math.random().toString(36).substr(-10),e.dataTags.push(JSON.parse(JSON.stringify(t))),e.refreshData(),e.submitLoading=!1,e.dialogVisible=!1);break;case"edit":e.dataTags.some(function(t){return t.name===e.formData.name})&&e.formData.name!==e.formDataOrg.name?(e.$message.error("该标签已存在！"),e.submitLoading=!1):(e.$set(e.dataTags,e.formData.index-1,JSON.parse(JSON.stringify(t))),e.submitLoading=!1,e.dialogVisible=!1);break}})},deleteTag:function(e){var t=this;this.$confirm("将删除标签, 是否继续?","提示",{type:"warning"}).then(function(){t.dataTags.forEach(function(a,i){a.id===e&&t.dataTags.splice(i,1)}),t.refreshData()}).catch(function(){})},handleSelectionChange:function(e){this.multipleSelection=e},deleteTags:function(){var e=this;if(0===this.multipleSelection.length)return this.$message({message:"未选择标签",type:"warning",duration:1e3}),!1;this.$confirm("将删除标签, 是否继续?","提示",{type:"warning"}).then(function(){for(var t=function(t){e.multipleSelection.forEach(function(a){e.dataTags[t].id===a.id&&e.dataTags.splice(t,1)})},a=0;a<e.dataTags.length;a++)t(a);e.refreshData()}).catch(function(){})},tagToggle:function(e,t){if("up"===t){if(0!==e){var a=this.dataTags[e-1];this.$set(this.dataTags,e-1,this.dataTags[e]),this.$set(this.dataTags,e,a),this.refreshData()}}else if(e!==this.dataTags.length-1){var i=this.dataTags[e+1];this.$set(this.dataTags,e+1,this.dataTags[e]),this.$set(this.dataTags,e,i),this.refreshData()}},downloadTable:function(){var e=this;this.downloadLoading=!0,a.e("chunk-2889").then(a.bind(null,"4bf8d")).then(function(t){var a=_e.tHeader,i=_e.filterVal,r=e.dataTags,n=e.formatJson(i,r);t.export_json_to_excel({header:a,data:n,filename:"数据标签-通道",autoWidth:!0,bookType:"xlsx"}),e.downloadLoading=!1})},formatJson:function(e,t){return t.map(function(t){return e.map(function(e){return"timestamp"===e?Object(j["n"])(t[e]):t[e]})})},uploadTable:function(){this.$refs["excel-upload-input"].click()},handleClick:function(e){var t=e.target.files,a=t[0];a&&this.upload(a)},upload:function(e){this.$refs["excel-upload-input"].value=null;var t=this.beforeUpload(e);t&&this.readerData(e)},beforeUpload:function(e){var t=e.size/1024/1024<1;return!!t||(this.$message({message:"文件大小需小于1MB",type:"warning"}),!1)},readerData:function(e){var t=this;return this.loading=!0,new Promise(function(a,i){var r=new FileReader;r.onload=function(e){var i=e.target.result,r=xe.a.read(i,{type:"array"}),n=r.SheetNames[0],s=r.Sheets[n],o=t.getHeaderRow(s),l=xe.a.utils.sheet_to_json(s);t.generateData({header:o,results:l}),t.loading=!1,a()},r.readAsArrayBuffer(e)})},getHeaderRow:function(e){var t,a=[],i=xe.a.utils.decode_range(e["!ref"]),r=i.s.r;for(t=i.s.c;t<=i.e.c;++t){var n=e[xe.a.utils.encode_cell({c:t,r:r})],s="UNKNOWN "+t;n&&n.t&&(s=xe.a.utils.format_cell(n)),a.push(s)}return a},generateData:function(e){var t=this,a=(e.header,e.results);a.forEach(function(e){Object.keys(e).forEach(function(a){Object.keys(Te).forEach(function(i){a===Te[i]&&(t.$set(e,i,e[a]),t.$delete(e,a))})})}),this.dataTagsOrg.splice(0,this.dataTagsOrg.length),a.forEach(function(e){t.dataTagsOrg.push(e)}),this.refreshData()}},watch:{id:function(e){this.getData()}}},Me=Ae,je=(a("6b6a"),Object(y["a"])(Me,ge,be,!1,null,"3f43cd2d",null));je.options.__file="passTags.vue";var Fe=je.exports,Ve={components:{PluginSelect:T,PassParams:N,PassTags:Fe},props:{treeData:{type:Array,default:function(){return[]}},equipmentList:{type:Array,default:function(){return[]}},id:{type:String},passList:{type:Array,default:function(){return[]}},pluginList:{type:Array,default:function(){return[]}},passTypeList:{type:Array},sataList:{type:Array},baudList:{type:Array},dataList:{type:Array},checkList:{type:Array},stopList:{type:Array}},data:function(){return{formPass:{},formPassRule:{passName:[{required:!0,message:"请输入名称",trigger:"blur"}],passDescribe:[{required:!0,message:"请输入描述",trigger:"blur"}]},activeName:"first",activeNames:["1"],bindingIPVisible:!1}},created:function(){this.getData()},methods:{getData:function(){var e=this;this.passList.forEach(function(t,a){t.id===e.id&&(e.formPass=JSON.parse(JSON.stringify(e.passList[a])))}),this.activeName="first"},setParams:function(){this.$refs.passParams.setParams()},pluginSelect:function(){this.$refs.pluginSelect.pluginSelect()},pluginClick:function(e){var t=e.level;2===t&&(this.formPass.plugin=e)},bindingIP:function(){this.bindingIPVisible=!0,this.bindingIpOrg=JSON.parse(JSON.stringify(this.formPass.bindingIp))},passSubmit:function(){var e=this;this.$refs.formPass.validate(function(t){t&&(e.passList.forEach(function(t,a){t.id===e.id&&e.$set(e.passList,a,e.formPass)}),e.treeData.forEach(function(t){t.children.forEach(function(t,a){t.id===e.id&&e.$set(t,"text","".concat(e.formPass.passName,"[").concat(e.formPass.passDescribe,"]"))})}),e.$message({message:"保存成功",type:"success",duration:"1000"}))})}},watch:{id:function(e){this.getData()}}},Je=Ve,ze=(a("4c24"),Object(y["a"])(Je,fe,he,!1,null,"be04e9d6",null));ze.options.__file="Pass.vue";var We=ze.exports,Ge=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"content"},[a("el-tabs",{model:{value:e.activeName,callback:function(t){e.activeName=t},expression:"activeName"}},[a("el-tab-pane",{attrs:{name:"first"}},[a("span",{attrs:{slot:"label"},slot:"label"},[a("i",{staticClass:"el-icon-setting"}),e._v(" 配置参数\n      ")]),a("el-form",{ref:"formEquipment",attrs:{model:e.formEquipment,rules:e.formEquipmentRule,"label-position":"left"}},[a("el-row",[a("el-col",{staticStyle:{width:"420px"}},[a("el-form-item",{attrs:{"label-width":"105px",label:"名称(英文)：",prop:"equipmentName"}},[a("el-input",{model:{value:e.formEquipment.equipmentName,callback:function(t){e.$set(e.formEquipment,"equipmentName",t)},expression:"formEquipment.equipmentName"}})],1)],1),a("el-col",{staticStyle:{width:"380px"}},[a("el-form-item",{attrs:{"label-width":"65px",label:"描述：",prop:"equipmentDescribe"}},[a("el-input",{model:{value:e.formEquipment.equipmentDescribe,callback:function(t){e.$set(e.formEquipment,"equipmentDescribe",t)},expression:"formEquipment.equipmentDescribe"}})],1)],1),a("el-button",{staticStyle:{margin:"0 0 20px 20px"},on:{click:e.setParams}},[e._v("其他参数")])],1),a("el-row",[a("el-col",{staticStyle:{width:"450px"}},[a("el-form-item",{attrs:{"label-width":"125px",label:"用户参数(如:型)：",prop:"userParam"}},[a("el-input",{model:{value:e.formEquipment.userParam,callback:function(t){e.$set(e.formEquipment,"userParam",t)},expression:"formEquipment.userParam"}})],1)],1)],1)],1),a("el-collapse",{attrs:{accordion:""},model:{value:e.activeNames,callback:function(t){e.activeNames=t},expression:"activeNames"}},[a("el-collapse-item",{attrs:{title:"基本参数",name:"1"}},[a("div",[e._v("MODBUS设备地址："+e._s(e.formEquipment.MODBUSAdd))]),a("div",[e._v("查询帧查询的最大字数："+e._s(e.formEquipment.searchNum))])]),a("el-collapse-item",{attrs:{title:"写寄存器",name:"2"}},[a("div",[e._v("单寄存器写是否按6号指令？"+e._s(e.formEquipment.singleRegister?"YES":"NO"))]),a("div",[e._v("多寄存器写是否按16号指令？"+e._s(e.formEquipment.multiRegister?"YES":"NO"))])]),a("el-collapse-item",{attrs:{title:"高级参数",name:"3"}},[a("div",[e._v("合对应的值："+e._s(e.formEquipment.correspondingValue))]),a("div",[e._v("分对应的值："+e._s(e.formEquipment.subCorrespondingValue))]),a("div",[e._v("双字节校验CRC传送顺序，先低后高？"+e._s(e.formEquipment.doubleByteCheck?"YES":"NO"))])])],1)],1),a("el-tab-pane",{attrs:{name:"second"}},[a("span",{attrs:{slot:"label"},slot:"label"},[a("i",{staticClass:"el-icon-edit-outline"}),e._v(" 数据标签\n      ")]),a("equipment-tags",{attrs:{id:e.id,"data-tags-org":e.formEquipment.dataTags}})],1)],1),a("equipment-params",{ref:"equipmentParams",attrs:{id:e.id,"form-equipment":e.formEquipment}})],1)},He=[],Ue=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"table-component"},[a("el-row",{staticStyle:{"margin-bottom":"20px"}},[a("el-select",{staticStyle:{width:"150px","margin-right":"10px"},attrs:{placeholder:"请选择"},on:{change:e.refreshData},model:{value:e.dataTypeSelect,callback:function(t){e.dataTypeSelect=t},expression:"dataTypeSelect"}},e._l(e.dataTypeList,function(e){return a("el-option",{key:e,attrs:{label:e,value:e}})})),a("el-button",{attrs:{type:"primary",size:"small",plain:""},on:{click:e.insertTag}},[e._v("新增")]),a("el-button",{attrs:{type:"success",size:"small",plain:""},on:{click:e.loadTags}},[e._v("加载")]),a("el-button",{attrs:{type:"danger",size:"small",plain:""},on:{click:e.deleteTags}},[e._v("删除")]),a("el-button",{attrs:{type:"info",size:"small",plain:"",loading:e.downloadLoading},on:{click:e.downloadTable}},[e._v("导出")]),a("el-button",{attrs:{type:"info",size:"small",plain:""},on:{click:e.uploadTable}},[e._v("导入")]),a("input",{ref:"excel-upload-input",staticClass:"excel-upload-input",attrs:{type:"file",accept:".xlsx, .xls"},on:{change:e.handleClick}})],1),a("el-table",{attrs:{data:e.dataTags,border:"","current-row-key":"","empty-text":"暂无标签","max-height":e.tableMaxHeight},on:{"selection-change":e.handleSelectionChange}},[a("el-table-column",{attrs:{type:"selection",width:"30"}}),a("el-table-column",{attrs:{prop:"index",label:"序号",width:"40"}}),e._l(e.dataColumns,function(e,t){return a("el-table-column",{key:t,attrs:{prop:e.prop,label:e.label,width:e.width?e.width:"","min-width":e.minWidth?e.minWidth:""}})}),a("el-table-column",{attrs:{label:"按BCD",width:"60"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v("\n        "+e._s(t.row.useBCD?"1":"0")+"\n      ")]}}])}),a("el-table-column",{attrs:{label:"操作","min-width":"160"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{attrs:{type:"primary",size:"mini",plain:"",icon:"el-icon-edit"},on:{click:function(a){e.editTag(t.row)}}}),a("el-button",{staticStyle:{"margin-left":"3px"},attrs:{type:"danger",size:"mini",plain:"",icon:"el-icon-delete"},on:{click:function(a){e.deleteTag(t.row.id)}}}),a("el-button",{staticStyle:{"margin-left":"3px"},attrs:{type:"success",size:"mini",plain:"",icon:"el-icon-top",disabled:1===t.row.index},on:{click:function(a){e.tagToggle(t.row.index-1,"up")}}}),a("el-button",{staticStyle:{"margin-left":"3px"},attrs:{type:"success",size:"mini",plain:"",icon:"el-icon-bottom",disabled:t.row.index===e.dataTags.length},on:{click:function(a){e.tagToggle(t.row.index-1,"down")}}})]}}])})],2),a("el-dialog",{staticClass:"tag-dialog",attrs:{title:e.dialogTitle,visible:e.dialogVisible},on:{"update:visible":function(t){e.dialogVisible=t}}},[a("el-form",{ref:"dialogForm",attrs:{model:e.formData,rules:e.formRule,"label-position":"left"}},[a("el-row",{attrs:{gutter:0}},[a("el-col",{attrs:{span:9}},[a("el-form-item",{attrs:{"label-width":"65px",label:"名称：",prop:"name"}},[a("el-input",{model:{value:e.formData.name,callback:function(t){e.$set(e.formData,"name",t)},expression:"formData.name"}})],1)],1),a("el-col",{attrs:{span:9}},[a("el-form-item",{attrs:{"label-width":"65px",label:"描述：",prop:"describe"}},[a("el-input",{model:{value:e.formData.describe,callback:function(t){e.$set(e.formData,"describe",t)},expression:"formData.describe"}})],1)],1),a("el-button",{staticStyle:{margin:"0 0 20px 10px"},on:{click:e.setParams}},[e._v("其他参数")])],1),a("el-row",{attrs:{gutter:0}},[a("el-col",{attrs:{span:6}},[a("el-form-item",{attrs:{label:"数据类型：",prop:"dataType"}},[a("el-select",{staticStyle:{width:"105px"},attrs:{placeholder:"请选择"},model:{value:e.formData.dataType,callback:function(t){e.$set(e.formData,"dataType",t)},expression:"formData.dataType"}},e._l(e.dataTypeList,function(e){return a("el-option",{key:e,attrs:{label:e,value:e}})}))],1)],1),a("el-col",{attrs:{span:6}},[a("el-form-item",{attrs:{label:"读写方向：",prop:"direction"}},[a("el-select",{staticStyle:{width:"105px"},attrs:{placeholder:"请选择"},model:{value:e.formData.direction,callback:function(t){e.$set(e.formData,"direction",t)},expression:"formData.direction"}},e._l(e.directionList,function(e){return a("el-option",{key:e,attrs:{label:e,value:e}})}))],1)],1),a("el-col",{attrs:{span:9}},[a("el-form-item",{attrs:{"label-width":"155px",label:"采集周期（毫秒）：",prop:"acquisitionCycle"}},[a("el-input",{model:{value:e.formData.acquisitionCycle,callback:function(t){e.$set(e.formData,"acquisitionCycle",t)},expression:"formData.acquisitionCycle"}})],1)],1)],1),a("el-row",{attrs:{gutter:0}},[a("el-col",{attrs:{span:13}},[a("el-form-item",{attrs:{"label-width":"100px",label:"寄存器类型：",prop:"registerType"}},[a("el-select",{staticStyle:{width:"-webkit-fill-available"},attrs:{placeholder:"请选择"},model:{value:e.formData.registerType,callback:function(t){e.$set(e.formData,"registerType",t)},expression:"formData.registerType"}},e._l(e.registerTypeList,function(e){return a("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})}))],1)],1),a("el-col",{attrs:{span:9}},[a("el-form-item",{attrs:{"label-width":"100px",label:"寄存器地址：",prop:"registerAddr"}},[a("el-input",{model:{value:e.formData.registerAddr,callback:function(t){e.$set(e.formData,"registerAddr",t)},expression:"formData.registerAddr"}})],1)],1)],1),a("el-row",{attrs:{gutter:0}},[a("el-col",{attrs:{span:10}},[a("el-form-item",{attrs:{"label-width":"85px",label:"解析方式：",prop:"analyticalMethod"}},[a("el-select",{staticStyle:{width:"-webkit-fill-available"},attrs:{placeholder:"请选择"},model:{value:e.formData.analyticalMethod,callback:function(t){e.$set(e.formData,"analyticalMethod",t)},expression:"formData.analyticalMethod"}},e._l(e.analyticalMethodList,function(e){return a("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})}))],1)],1),a("el-col",{attrs:{span:9}},[a("el-form-item",{attrs:{"label-width":"125px",label:"位偏移（0-15）：",prop:"displacementDeviation"}},[a("el-input",{model:{value:e.formData.displacementDeviation,callback:function(t){e.$set(e.formData,"displacementDeviation",t)},expression:"formData.displacementDeviation"}})],1)],1)],1),a("el-row",{staticClass:"params-dialog-row"},[a("el-checkbox",{model:{value:e.formData.useBCD,callback:function(t){e.$set(e.formData,"useBCD",t)},expression:"formData.useBCD"}},[e._v("使用BCD")])],1)],1),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(t){e.dialogVisible=!1}}},[e._v("取 消")]),a("el-button",{attrs:{type:"primary",loading:e.submitLoading},on:{click:e.tagSubmit}},[e._v("确 定")])],1)],1),a("equipment-tag-params",{ref:"equipmentTagParams",attrs:{"form-data":e.formData}})],1)},Xe=[],Ye=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-dialog",{attrs:{title:e.dialogTitle,visible:e.dialogVisible},on:{"update:visible":function(t){e.dialogVisible=t}}},[a("el-row",{staticClass:"params-dialog-row"},[a("el-checkbox",{staticStyle:{"margin-right":"20px"},model:{value:e.formData.otherParams.takeAbsoluteValue,callback:function(t){e.$set(e.formData.otherParams,"takeAbsoluteValue",t)},expression:"formData.otherParams.takeAbsoluteValue"}},[e._v("取绝对值")]),e._v("\n     单位 \n    "),a("el-input",{staticStyle:{width:"100px","margin-right":"20px"},model:{value:e.formData.otherParams.absoluteValue,callback:function(t){e.$set(e.formData.otherParams,"absoluteValue",t)},expression:"formData.otherParams.absoluteValue"}}),e._v("\n     设备系数计算 \n    "),a("el-select",{staticStyle:{width:"200px","margin-right":"20px"},attrs:{placeholder:"请选择"},model:{value:e.formData.otherParams.calculation,callback:function(t){e.$set(e.formData.otherParams,"calculation",t)},expression:"formData.otherParams.calculation"}},e._l(e.calculationList,function(e){return a("el-option",{key:e,attrs:{label:e,value:e}})}))],1),a("el-row",{staticClass:"params-dialog-row"},[a("el-checkbox",{model:{value:e.formData.otherParams.ratioCalculation,callback:function(t){e.$set(e.formData.otherParams,"ratioCalculation",t)},expression:"formData.otherParams.ratioCalculation"}},[e._v("系数计算")]),a("div",{staticClass:"params-dialog-row-div"},[e._v("\n      倍率（a）\n      "),a("el-input",{staticStyle:{width:"100px"},attrs:{disabled:!e.formData.otherParams.ratioCalculation},model:{value:e.formData.otherParams.magnification,callback:function(t){e.$set(e.formData.otherParams,"magnification",t)},expression:"formData.otherParams.magnification"}}),e._v("\n      基数（b）\n      "),a("el-input",{staticStyle:{width:"100px","margin-right":"20px"},attrs:{disabled:!e.formData.otherParams.ratioCalculation},model:{value:e.formData.otherParams.base,callback:function(t){e.$set(e.formData.otherParams,"base",t)},expression:"formData.otherParams.base"}}),e._v("\n      形如：y = ax + b\n      "),a("el-checkbox",{staticStyle:{"margin-left":"20px"},attrs:{disabled:!e.formData.otherParams.ratioCalculation},model:{value:e.formData.otherParams.reverseCoefficient,callback:function(t){e.$set(e.formData.otherParams,"reverseCoefficient",t)},expression:"formData.otherParams.reverseCoefficient"}},[e._v("写使用反向系数")])],1)],1),a("el-row",{staticClass:"params-dialog-row"},[a("el-checkbox",{model:{value:e.formData.otherParams.rangeConversion,callback:function(t){e.$set(e.formData.otherParams,"rangeConversion",t)},expression:"formData.otherParams.rangeConversion"}},[e._v("量程转换")]),a("div",{staticClass:"params-dialog-row-div"},[e._v("\n      量程最大 \n      "),a("el-input",{staticStyle:{width:"100px","margin-right":"20px"},attrs:{disabled:!e.formData.otherParams.rangeConversion},model:{value:e.formData.otherParams.maxRange,callback:function(t){e.$set(e.formData.otherParams,"maxRange",t)},expression:"formData.otherParams.maxRange"}}),e._v("\n      采集值最大 \n      "),a("el-input",{staticStyle:{width:"100px"},attrs:{disabled:!e.formData.otherParams.rangeConversion},model:{value:e.formData.otherParams.maxGather,callback:function(t){e.$set(e.formData.otherParams,"maxGather",t)},expression:"formData.otherParams.maxGather"}})],1),a("div",{staticClass:"params-dialog-row-div",staticStyle:{"margin-top":"10px"}},[e._v("\n      量程最小 \n      "),a("el-input",{staticStyle:{width:"100px","margin-right":"20px"},attrs:{disabled:!e.formData.otherParams.rangeConversion},model:{value:e.formData.otherParams.minRange,callback:function(t){e.$set(e.formData.otherParams,"minRange",t)},expression:"formData.otherParams.minRange"}}),e._v("\n      采集值最小 \n      "),a("el-input",{staticStyle:{width:"100px"},attrs:{disabled:!e.formData.otherParams.rangeConversion},model:{value:e.formData.otherParams.minGather,callback:function(t){e.$set(e.formData.otherParams,"minGather",t)},expression:"formData.otherParams.minGather"}})],1)],1),a("el-row",{staticClass:"params-dialog-row"},[a("el-checkbox",{model:{value:e.formData.otherParams.dataFilter,callback:function(t){e.$set(e.formData.otherParams,"dataFilter",t)},expression:"formData.otherParams.dataFilter"}},[e._v("数据有效范围过滤")]),a("div",{staticClass:"params-dialog-row-div"},[e._v("\n      数据最小 \n      "),a("el-input",{staticStyle:{width:"100px","margin-right":"20px"},attrs:{disabled:!e.formData.otherParams.dataFilter},model:{value:e.formData.otherParams.minData,callback:function(t){e.$set(e.formData.otherParams,"minData",t)},expression:"formData.otherParams.minData"}}),e._v("\n      数据最大 \n      "),a("el-input",{staticStyle:{width:"100px"},attrs:{disabled:!e.formData.otherParams.dataFilter},model:{value:e.formData.otherParams.maxData,callback:function(t){e.$set(e.formData.otherParams,"maxData",t)},expression:"formData.otherParams.maxData"}})],1),a("div",{staticClass:"params-dialog-row-div",staticStyle:{"margin-top":"10px"}},[a("el-radio",{attrs:{label:"1",disabled:!e.formData.otherParams.dataFilter},model:{value:e.formData.otherParams.dataRadio,callback:function(t){e.$set(e.formData.otherParams,"dataRadio",t)},expression:"formData.otherParams.dataRadio"}},[e._v("小于最小值取最小值，大于最大值取最大值")]),a("el-radio",{attrs:{label:"2",disabled:!e.formData.otherParams.dataFilter},model:{value:e.formData.otherParams.dataRadio,callback:function(t){e.$set(e.formData.otherParams,"dataRadio",t)},expression:"formData.otherParams.dataRadio"}},[e._v("小于最小值、大于最大值忽略")])],1)],1),a("el-row",{staticClass:"params-dialog-row"},[e._v("\n    高级运算\n    "),a("el-select",{staticStyle:{width:"200px",margin:"0 20px"},attrs:{placeholder:"请选择"},model:{value:e.formData.otherParams.advancedOperation,callback:function(t){e.$set(e.formData.otherParams,"advancedOperation",t)},expression:"formData.otherParams.advancedOperation"}},e._l(e.advancedOperationList,function(e){return a("el-option",{key:e,attrs:{label:e,value:e}})})),e._v("\n    参数1 \n    "),a("el-input",{staticStyle:{width:"100px","margin-right":"20px"},attrs:{disabled:!("取子字符串"===e.formData.otherParams.advancedOperation||"按位取"===e.formData.otherParams.advancedOperation)},model:{value:e.formData.otherParams.param1,callback:function(t){e.$set(e.formData.otherParams,"param1",t)},expression:"formData.otherParams.param1"}}),e._v("\n    参数2 \n    "),a("el-input",{staticStyle:{width:"100px"},attrs:{disabled:!("取子字符串"===e.formData.otherParams.advancedOperation||"按位取"===e.formData.otherParams.advancedOperation)},model:{value:e.formData.otherParams.param2,callback:function(t){e.$set(e.formData.otherParams,"param2",t)},expression:"formData.otherParams.param2"}})],1),a("el-collapse",{staticStyle:{"margin-top":"20px"},attrs:{accordion:""},model:{value:e.activeNames,callback:function(t){e.activeNames=t},expression:"activeNames"}},[a("el-collapse-item",{attrs:{title:"用户参数",name:"1"}},[a("div",{staticClass:"collapse-content"},[e._v("类型编码：\n        "),a("el-input",{staticStyle:{"max-width":"400px"},model:{value:e.formData.otherParams.code,callback:function(t){e.$set(e.formData.otherParams,"code",t)},expression:"formData.otherParams.code"}})],1),a("div",{staticClass:"collapse-content"},[e._v("是否缓存：\n        "),a("el-radio",{attrs:{label:!0},model:{value:e.formData.otherParams.cache,callback:function(t){e.$set(e.formData.otherParams,"cache",t)},expression:"formData.otherParams.cache"}},[e._v("缓存")]),a("el-radio",{attrs:{label:!1},model:{value:e.formData.otherParams.cache,callback:function(t){e.$set(e.formData.otherParams,"cache",t)},expression:"formData.otherParams.cache"}},[e._v("不缓存")])],1)]),a("el-collapse-item",{attrs:{title:"报警配置",name:"2"}},[a("div",{staticClass:"collapse-content"},[e._v("报警开关：\n        "),a("el-radio",{attrs:{label:!0},model:{value:e.formData.otherParams.alert,callback:function(t){e.$set(e.formData.otherParams,"alert",t)},expression:"formData.otherParams.alert"}},[e._v("打开")]),a("el-radio",{attrs:{label:!1},model:{value:e.formData.otherParams.alert,callback:function(t){e.$set(e.formData.otherParams,"alert",t)},expression:"formData.otherParams.alert"}},[e._v("关闭")])],1),a("div",{staticClass:"collapse-content"},[e._v("高高限：\n        "),a("el-input",{staticStyle:{"max-width":"400px"},model:{value:e.formData.otherParams.maxLimit,callback:function(t){e.$set(e.formData.otherParams,"maxLimit",t)},expression:"formData.otherParams.maxLimit"}})],1),a("div",{staticClass:"collapse-content"},[e._v("高限：\n        "),a("el-input",{staticStyle:{"max-width":"400px"},model:{value:e.formData.otherParams.upperLimit,callback:function(t){e.$set(e.formData.otherParams,"upperLimit",t)},expression:"formData.otherParams.upperLimit"}})],1),a("div",{staticClass:"collapse-content"},[e._v("低限：\n        "),a("el-input",{staticStyle:{"max-width":"400px"},model:{value:e.formData.otherParams.lowerLimit,callback:function(t){e.$set(e.formData.otherParams,"lowerLimit",t)},expression:"formData.otherParams.lowerLimit"}})],1),a("div",{staticClass:"collapse-content"},[e._v("低低限：\n        "),a("el-input",{staticStyle:{"max-width":"400px"},model:{value:e.formData.otherParams.minLimit,callback:function(t){e.$set(e.formData.otherParams,"minLimit",t)},expression:"formData.otherParams.minLimit"}})],1),a("div",{staticClass:"collapse-content"},[e._v("报警延迟（秒，0：不延时）：\n        "),a("el-input",{staticStyle:{"max-width":"400px"},model:{value:e.formData.otherParams.alarmDelay,callback:function(t){e.$set(e.formData.otherParams,"alarmDelay",t)},expression:"formData.otherParams.alarmDelay"}})],1),a("div",{staticClass:"collapse-content"},[e._v("报警级别：\n        "),a("el-input",{staticStyle:{"max-width":"400px"},model:{value:e.formData.otherParams.alarmLevel,callback:function(t){e.$set(e.formData.otherParams,"alarmLevel",t)},expression:"formData.otherParams.alarmLevel"}})],1)])],1),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(t){e.dialogVisible=!1,e.formData.otherParams=e.paramsOrg}}},[e._v("\n      取 消")]),a("el-button",{attrs:{type:"primary"},on:{click:function(t){e.dialogVisible=!1}}},[e._v("确 定")])],1)],1)},Qe=[],Ze={props:{formData:{type:Object}},data:function(){return{dialogVisible:!1,dialogTitle:"",calculationList:["不参与计算","乘设备系数R1","乘设备系数R2","乘设备系数R1*R2"],advancedOperationList:["无计算","2字节无符号 先高后低","8字节浮点数 顺序87654321","取子字符串","按位取"],activeNames:["1"]}},methods:{setParams:function(){this.dialogVisible=!0,this.dialogTitle="数据标签其他参数 ".concat(this.formData.dataType),this.paramsOrg=JSON.parse(JSON.stringify(this.formData.otherParams))}},watch:{dialogVisible:function(e){!e&&(this.activeNames=["1"])}}},Ke=Ze,et=(a("4524"),Object(y["a"])(Ke,Ye,Qe,!1,null,"03fc6daf",null));et.options.__file="equipmentTagParams.vue";var tt=et.exports,at={components:{EquipmentTagParams:tt},props:{id:{type:String},dataTagsOrg:{type:Array,default:function(){return[]}}},data:function(){return{dataTags:[],dataColumns:Pe,dataTypeList:["全部","浮点","整型","布尔","字符串","二进制"],dataTypeSelect:"全部",multipleSelection:[],dialogVisible:!1,dialogVisibleParam:!1,dialogType:"",dialogTitle:"",formData:{name:"",describe:"",otherParams:{takeAbsoluteValue:!1,absoluteValue:"",calculation:"不参与计算",ratioCalculation:!1,magnification:"2.0000",base:"0.0000",reverseCoefficient:!1,rangeConversion:!1,maxRange:10,maxGather:4096,minRange:0,minGather:0,dataFilter:!1,maxData:100,minData:0,dataRadio:"1",advancedOperation:"无计算",param1:"",param2:"",code:0,cache:!1,alert:!1,maxLimit:"100.0",upperLimit:"80.0",lowerLimit:"20.0",minLimit:"0.0",alarmDelay:"3",alarmLevel:"3"},dataType:"整型",direction:"只读",acquisitionCycle:"1000",registerType:0,registerAddr:"0",analyticalMethod:0,displacementDeviation:"0",useBCD:!1},formDataOrg:{},formRule:{name:[{required:!0,message:"请输入名称",trigger:"blur"}],describe:[{required:!0,message:"请输入描述",trigger:"blur"}],acquisitionCycle:[{required:!0,message:"请输入采集周期",trigger:"blur"}]},directionList:["只读","只写","读写"],registerTypeList:[{label:"1号读、5号写：读、写开关量",value:0},{label:"2号命令：读开关量状态",value:1},{label:"3号读、6号或16号写：读写保持寄存器",value:2},{label:"4号命令：读输入寄存器",value:3}],analyticalMethodList:[{label:"按位取",value:0},{label:"2字节整型 先高后低 顺序12",value:1},{label:"2字节整型 第1位",value:2},{label:"2字节整型 第2位",value:3},{label:"4字节整型 顺序4321",value:4},{label:"8字节浮点 顺序87654321",value:5}],submitLoading:!1,downloadLoading:!1,tableMaxHeight:0}},created:function(){var e=document.documentElement.clientHeight;this.tableMaxHeight=e-73-40-55-60-40,this.getData()},methods:{getData:function(){this.refreshData()},refreshData:function(){var e=this;"全部"!==this.dataTypeSelect?this.dataTags=this.dataTagsOrg.filter(function(t){return t.dataType===e.dataTypeSelect}):this.dataTags=this.dataTagsOrg,this.dataTags.sort(Object(ve["a"])("name","asc")),this.dataTags.map(function(t,a){e.$set(t,"index",a+1)})},insertTag:function(){var e=this;this.dialogVisible=!0,this.dialogType="insert",this.$nextTick(function(){e.$refs.dialogForm.resetFields(),e.dialogTitle="IO数据标签-".concat("insert"===e.dialogType?"新建":"修改")})},loadTags:function(){},editTag:function(e){var t=this;this.dialogVisible=!0,this.dialogType="edit",this.$nextTick(function(){t.$refs.dialogForm.resetFields(),t.dialogTitle="IO数据标签-".concat("insert"===t.dialogType?"新建":"修改"),t.formDataOrg=e,t.formData=JSON.parse(JSON.stringify(e))})},setParams:function(){this.$refs.equipmentTagParams.setParams()},tagSubmit:function(){var e=this,t=JSON.parse(JSON.stringify(this.formData));this.$refs.dialogForm.validate(function(a){if(a)switch(e.submitLoading=!0,e.dialogType){case"insert":e.dataTags.some(function(t){return t.name===e.formData.name})?(e.$message.error("该标签已存在！"),e.submitLoading=!1):(t.id=Math.random().toString(36).substr(-10),e.dataTags.push(JSON.parse(JSON.stringify(t))),e.refreshData(),e.submitLoading=!1,e.dialogVisible=!1);break;case"edit":e.dataTags.some(function(t){return t.name===e.formData.name})&&e.formData.name!==e.formDataOrg.name?(e.$message.error("该标签已存在！"),e.submitLoading=!1):(e.$set(e.dataTags,e.formData.index-1,JSON.parse(JSON.stringify(t))),e.submitLoading=!1,e.dialogVisible=!1);break}})},deleteTag:function(e){var t=this;this.$confirm("将删除标签, 是否继续?","提示",{type:"warning"}).then(function(){t.dataTags.forEach(function(a,i){a.id===e&&t.dataTags.splice(i,1)}),t.refreshData()}).catch(function(){})},handleSelectionChange:function(e){this.multipleSelection=e},deleteTags:function(){var e=this;if(0===this.multipleSelection.length)return this.$message({message:"未选择标签",type:"warning",duration:1e3}),!1;this.$confirm("将删除标签, 是否继续?","提示",{type:"warning"}).then(function(){for(var t=function(t){e.multipleSelection.forEach(function(a){e.dataTags[t].id===a.id&&e.dataTags.splice(t,1)})},a=0;a<e.dataTags.length;a++)t(a);e.refreshData()}).catch(function(){})},tagToggle:function(e,t){if("up"===t){if(0!==e){var a=this.dataTags[e-1];this.$set(this.dataTags,e-1,this.dataTags[e]),this.$set(this.dataTags,e,a),this.refreshData()}}else if(e!==this.dataTags.length-1){var i=this.dataTags[e+1];this.$set(this.dataTags,e+1,this.dataTags[e]),this.$set(this.dataTags,e,i),this.refreshData()}},downloadTable:function(){var e=this;this.downloadLoading=!0,a.e("chunk-2889").then(a.bind(null,"4bf8d")).then(function(t){var a=we.tHeader,i=we.filterVal,r=e.dataTags,n=e.formatJson(i,r);t.export_json_to_excel({header:a,data:n,filename:"数据标签-设备",autoWidth:!0,bookType:"xlsx"}),e.downloadLoading=!1})},formatJson:function(e,t){return t.map(function(t){return e.map(function(e){return"timestamp"===e?Object(j["n"])(t[e]):t[e]})})},uploadTable:function(){this.$refs["excel-upload-input"].click()},handleClick:function(e){var t=e.target.files,a=t[0];a&&this.upload(a)},upload:function(e){this.$refs["excel-upload-input"].value=null;var t=this.beforeUpload(e);t&&this.readerData(e)},beforeUpload:function(e){var t=e.size/1024/1024<1;return!!t||(this.$message({message:"文件大小需小于1MB",type:"warning"}),!1)},readerData:function(e){var t=this;return this.loading=!0,new Promise(function(a,i){var r=new FileReader;r.onload=function(e){var i=e.target.result,r=xe.a.read(i,{type:"array"}),n=r.SheetNames[0],s=r.Sheets[n],o=t.getHeaderRow(s),l=xe.a.utils.sheet_to_json(s);t.generateData({header:o,results:l}),t.loading=!1,a()},r.readAsArrayBuffer(e)})},getHeaderRow:function(e){var t,a=[],i=xe.a.utils.decode_range(e["!ref"]),r=i.s.r;for(t=i.s.c;t<=i.e.c;++t){var n=e[xe.a.utils.encode_cell({c:t,r:r})],s="UNKNOWN "+t;n&&n.t&&(s=xe.a.utils.format_cell(n)),a.push(s)}return a},generateData:function(e){var t=this,a=(e.header,e.results);a.forEach(function(e){Object.keys(e).forEach(function(a){Object.keys(Te).forEach(function(i){a===Te[i]&&(t.$set(e,i,e[a]),t.$delete(e,a))})})}),console.log(a),this.dataTagsOrg.splice(0,this.dataTagsOrg.length),a.forEach(function(e){t.$set(e,"otherParams",{}),t.dataTagsOrg.push(e)}),this.refreshData()}},watch:{id:function(e){this.getData()}}},it=at,rt=(a("bd7d"),Object(y["a"])(it,Ue,Xe,!1,null,"36b9ccea",null));rt.options.__file="equipmentTags.vue";var nt=rt.exports,st={components:{EquipmentParams:B,EquipmentTags:nt},props:{treeData:{type:Array,default:function(){return[]}},id:{type:String},equipmentList:{type:Array}},data:function(){return{formEquipment:{},formEquipmentRule:{equipmentName:[{required:!0,message:"请输入名称",trigger:"blur"}],equipmentDescribe:[{required:!0,message:"请输入描述",trigger:"blur"}]},activeName:"first",activeNames:["1"]}},created:function(){this.getData()},methods:{getData:function(){var e=this;this.equipmentList.forEach(function(t,a){t.id===e.id&&(e.formEquipment=JSON.parse(JSON.stringify(e.equipmentList[a])))}),this.activeName="first"},setParams:function(){this.$refs.equipmentParams.setParams()},equipmentSubmit:function(){var e=this;this.$refs.formEquipment.validate(function(t){t&&(e.equipmentList.forEach(function(t,a){t.id===e.id&&e.$set(e.equipmentList,a,e.formEquipment)}),e.treeData[0].children.forEach(function(t){t.children.forEach(function(t,a){t.id===e.id&&e.$set(t,"text","".concat(e.formEquipment.equipmentName,"[").concat(e.formEquipment.equipmentDescribe,"]"))})}),e.$message({message:"保存成功",type:"success",duration:"1000"}))})}},watch:{id:function(e){this.getData()}}},ot=st,lt=(a("61c1"),Object(y["a"])(ot,Ge,He,!1,null,"2ca0941c",null));lt.options.__file="Equipment.vue";var ct=lt.exports,ut=[{text:"通用标准",icon:"fa fa-list-alt",id:"1",level:1,children:[{text:"MODBUS TCP",icon:"fa fa-cog",id:"1-1",level:2,name:"IND_MODBUS_TCP",describe:"MODBUS TCP",factory:"莫迪康",classification:"通用标准",path:"C:\\Users\\43577\\Desktop\\软件\\CESTC\\PluginIo\\IND_MODBUS_RTU",plugins:[{name:"BA_BACNET_IP.335x",platform:"335x",edition:"5.0.0.1",lastModifiedDate:"2017-11-08 07:55:30"},{name:"BA_BACNET_IP.dll",platform:"dll",edition:"5.0.0.1",lastModifiedDate:"2019-02-19 03:45:30"},{name:"BA_BACNET_IP.xt",platform:"xt",edition:"",lastModifiedDate:"2020-02-22 08:47:32"}]},{text:"T188 2004",icon:"fa fa-cog",id:"1-2",level:2,name:"IND_CJT188_2004",describe:"T188 2004",factory:"城建",classification:"通用标准",path:"C:\\Users\\43577\\Desktop\\软件\\CESTC\\PluginIo\\IND_CJT188_2004",plugins:[{name:"IND_CJT188_2004.335x",platform:"335x",edition:"5.0.0.1",lastModifiedDate:"2017-11-08 07:55:30"},{name:"IND_CJT188_2004.dll",platform:"dll",edition:"5.0.0.1",lastModifiedDate:"2019-02-19 03:45:30"},{name:"IND_CJT188_2004.xt",platform:"xt",edition:"",lastModifiedDate:"2020-02-22 08:47:32"}]}]},{text:"电力行业标准",icon:"fa fa-list-alt",id:"2",level:1,children:[{text:"DNP3.0协议",icon:"fa fa-cog",id:"2-1",level:2,name:"DL_DNP3",describe:"DNP3.0协议",factory:"",classification:"电力行业标准",path:"C:\\Users\\43577\\Desktop\\软件\\CESTC\\PluginIo\\DL_DNP3",plugins:[{name:"DL_DNP3.dll",platform:"dll",edition:"5.0.0.1",lastModifiedDate:"2019-02-19 03:45:30"}]},{text:"376.1主站",icon:"fa fa-cog",id:"2-2",level:2,name:"ELE_376_1_MASTER",describe:"376.1主站",factory:"电力规约",classification:"电力行业标准",path:"C:\\Users\\43577\\Desktop\\软件\\CESTC\\PluginIo\\ELE_376_1_MASTER",plugins:[{name:"ELE_376_1_MASTER.335x",platform:"335x",edition:"5.0.0.1",lastModifiedDate:"2017-11-08 07:55:30"},{name:"ELE_376_1_MASTER.dll",platform:"dll",edition:"5.0.0.1",lastModifiedDate:"2019-02-19 03:45:30"},{name:"ELE_376_1_MASTER.xt",platform:"xt",edition:"",lastModifiedDate:"2020-02-22 08:47:32"}]}]},{text:"PLC",icon:"fa fa-list-alt",id:"3",level:1,children:[{text:"AB DF1串口协议",icon:"fa fa-cog",id:"3-1",level:2,name:"PLC_AB_DF1",describe:"AB DF1串口协议",factory:"AB(罗克韦尔)",classification:"PLC",path:"C:\\Users\\43577\\Desktop\\软件\\CESTC\\PluginIo\\PLC_AB_DF1",plugins:[{name:"PLC_AB_DF1.335x",platform:"335x",edition:"5.0.0.1",lastModifiedDate:"2017-11-08 07:55:30"},{name:"PLC_AB_DF1.dll",platform:"dll",edition:"5.0.0.1",lastModifiedDate:"2019-02-19 03:45:30"},{name:"PLC_AB_DF1.xt",platform:"xt",edition:"",lastModifiedDate:"2020-02-22 08:47:32"}]},{text:"AB LOGIX 5000 TCP",icon:"fa fa-cog",id:"3-2",level:2,name:"PLC_AB_LOGIX_TCP",describe:"AB LOGIX 5000 TCP",factory:"AB",classification:"PLC",path:"C:\\Users\\43577\\Desktop\\软件\\CESTC\\PluginIo\\PLC_AB_LOGIX_TCP",plugins:[{name:"PLC_AB_LOGIX_TCP.335x",platform:"335x",edition:"5.0.0.1",lastModifiedDate:"2017-11-08 07:55:30"},{name:"PLC_AB_LOGIX_TCP.dll",platform:"dll",edition:"5.0.0.1",lastModifiedDate:"2019-02-19 03:45:30"},{name:"PLC_AB_LOGIX_TCP.xt",platform:"xt",edition:"",lastModifiedDate:"2020-02-22 08:47:32"}]}]}],dt=[{id:"1-1",passName:"C1",passDescribe:"通道1",plugin:{name:"IND_MODBUS_TCP",describe:"MODBUS TCP",factory:"莫迪康",classification:"通用标准",path:"C:\\Users\\43577\\Desktop\\软件\\CESTC\\PluginIo\\IND_MODBUS_RTU",plugins:[{name:"BA_BACNET_IP.335x",platform:"335x",edition:"5.0.0.1",lastModifiedDate:"2017-11-08 07:55:30"},{name:"BA_BACNET_IP.dll",platform:"dll",edition:"5.0.0.1",lastModifiedDate:"2019-02-19 03:45:30"},{name:"BA_BACNET_IP.xt",platform:"xt",edition:"",lastModifiedDate:"2020-02-22 08:47:32"}]},passType:"TCP客户端",sata:"COM01",baudRate:"9600",dataBits:"8",checkBits:"无校验",stopBits:"1",ip:"192.168.0.253",port:"50001",bindingIp:"192.168.200.161",otherParams:{scanDelay:!0,delayTime:100,linkReset:!0,linkNoDataTime:60,faultDiagnosis:!0,faultNoDataTime:60,faultShooting:"1",packetScanning:"1",alternatePass:!0,passType:"串口",sata:"COM01",baudRate:"9600",dataBits:"8",checkBits:"无校验",stopBits:"1",ip:"192.168.0.253",port:"50001"},delayTime:10,idFactory:"factory-1"},{id:"1-2",passName:"C2",passDescribe:"通道2",plugin:{name:"IND_CJT188_2004",describe:"T188 2004",factory:"城建",classification:"通用标准",path:"C:\\Users\\43577\\Desktop\\软件\\CESTC\\PluginIo\\IND_CJT188_2004",plugins:[{name:"IND_CJT188_2004.335x",platform:"335x",edition:"5.0.0.1",lastModifiedDate:"2017-11-08 07:55:30"},{name:"IND_CJT188_2004.dll",platform:"dll",edition:"5.0.0.1",lastModifiedDate:"2019-02-19 03:45:30"},{name:"IND_CJT188_2004.xt",platform:"xt",edition:"",lastModifiedDate:"2020-02-22 08:47:32"}]},passType:"虚拟端口",sata:"COM01",baudRate:"9600",dataBits:"8",checkBits:"无校验",stopBits:"1",ip:"192.168.0.253",port:"50001",bindingIp:"192.168.200.161",otherParams:{scanDelay:!0,delayTime:100,linkReset:!1,linkNoDataTime:60,faultDiagnosis:!0,faultNoDataTime:60,faultShooting:"1",packetScanning:"1",alternatePass:!1,passType:"串口",sata:"COM01",baudRate:"9600",dataBits:"8",checkBits:"无校验",stopBits:"1",ip:"192.168.0.253",port:"50001"},delayTime:10,idFactory:"factory-1"},{id:"2-1",passName:"C3",passDescribe:"通道3",plugin:{name:"PLC_AB_LOGIX_TCP",describe:"AB LOGIX 5000 TCP",factory:"AB",classification:"PLC",path:"C:\\Users\\43577\\Desktop\\软件\\CESTC\\PluginIo\\PLC_AB_LOGIX_TCP",plugins:[{name:"PLC_AB_LOGIX_TCP.335x",platform:"335x",edition:"5.0.0.1",lastModifiedDate:"2017-11-08 07:55:30"},{name:"PLC_AB_LOGIX_TCP.dll",platform:"dll",edition:"5.0.0.1",lastModifiedDate:"2019-02-19 03:45:30"},{name:"PLC_AB_LOGIX_TCP.xt",platform:"xt",edition:"",lastModifiedDate:"2020-02-22 08:47:32"}]},passType:"串口",sata:"COM01",baudRate:"9600",dataBits:"8",checkBits:"无校验",stopBits:"1",ip:"192.168.0.253",port:"50001",bindingIp:"192.168.200.161",otherParams:{scanDelay:!1,delayTime:100,linkReset:!1,linkNoDataTime:60,faultDiagnosis:!1,faultNoDataTime:60,faultShooting:"1",packetScanning:"1",alternatePass:!1,passType:"串口",sata:"COM01",baudRate:"9600",dataBits:"8",checkBits:"无校验",stopBits:"1",ip:"192.168.0.253",port:"50001"},delayTime:10,dataTags:[{id:"1",name:"C1.D1.Tag1",describe:"通道1 设备1 标签1",ratioCalculation:!0,magnification:"2.0000",base:"0.0000",dataType:"浮点",direction:"只读",acquisitionCycle:"1000",IOTag:"io.C1.D1.Tag1",IOTagParentId:"1-1-1",IOTagSelectId:"1-1-1-1",slaveStationID:"1",registerType:2,registerAddr:"0",dataFormat:0},{id:"2",name:"C1.D1.Tag2",describe:"通道1 设备1 标签1",ratioCalculation:!0,magnification:"1.0000",base:"0.0000",dataType:"浮点",direction:"只读",acquisitionCycle:"1000",IOTag:"at.C1._io_status",IOTagParentId:"1-1",IOTagSelectId:2,slaveStationID:"1",registerType:2,registerAddr:"0",dataFormat:0},{id:"3",name:"C1.D2.Tag1",describe:"通道1 设备2 标签1",ratioCalculation:!1,magnification:"2.0000",base:"0.0000",dataType:"整型",direction:"只读",acquisitionCycle:"1000",IOTag:"io.C2.D3.Tag2",IOTagParentId:"1-2-1",IOTagSelectId:"1-2-1-1",slaveStationID:"1",registerType:2,registerAddr:"0",dataFormat:0},{id:"4",name:"C1.D2.Tag2",describe:"通道1 设备2 标签2",ratioCalculation:!1,magnification:"1.0000",base:"0.0000",dataType:"字符串",direction:"只读",acquisitionCycle:"1000",IOTag:"at._kernal_version",IOTagParentId:"1",IOTagSelectId:0,slaveStationID:"1",registerType:2,registerAddr:"0",dataFormat:0}],idFactory:"factory-1"}],mt=[{id:"1-1-1",equipmentName:"D1",equipmentDescribe:"设备1",userParam:"",MODBUSAdd:"1",searchNum:32,singleRegister:!0,multiRegister:!0,correspondingValue:"FF00",subCorrespondingValue:"0000",doubleByteCheck:!0,otherParams:{delayTime:3e3,failedTryAgain:!0,failedTryTimes:1,faultDiagnosis:!0,continuousQueryFailed:5,noReceivedLongTime:120,faultDataProcess:"保持之前值，质量戳为GOOD",faultScanProcess:"正常扫描",queryPeriod:30,equipmentFactor:!0,factorR1:"1.000",factorR2:"1.000"},dataTags:[{id:"1-1-1-1",name:"Tag1",describe:"标签1",otherParams:{takeAbsoluteValue:!0,absoluteValue:"",calculation:"不参与计算",ratioCalculation:!0,magnification:"2.0000",base:"0.0000",reverseCoefficient:!1,rangeConversion:!0,maxRange:10,maxGather:4096,minRange:0,minGather:0,dataFilter:!0,maxData:100,minData:0,dataRadio:"1",advancedOperation:"科学计数法",param1:"",param2:"",code:0,cache:!1,alert:!1,maxLimit:"100.0",upperLimit:"80.0",lowerLimit:"20.0",minLimit:"0.0",alarmDelay:"3",alarmLevel:"3"},dataType:"浮点",direction:"只读",acquisitionCycle:"1000",registerType:0,registerAddr:"0",analyticalMethod:1,displacementDeviation:"0",useBCD:!0},{id:"1-1-1-2",name:"Tag2",describe:"标签2",otherParams:{takeAbsoluteValue:!1,absoluteValue:"",calculation:"不参与计算",ratioCalculation:!0,magnification:"2.0000",base:"0.0000",reverseCoefficient:!0,rangeConversion:!1,maxRange:10,maxGather:4096,minRange:0,minGather:0,dataFilter:!0,maxData:100,minData:0,dataRadio:"2",advancedOperation:"科学计数法",param1:"",param2:"",code:0,cache:!1,alert:!1,maxLimit:"100.0",upperLimit:"80.0",lowerLimit:"20.0",minLimit:"0.0",alarmDelay:"3",alarmLevel:"3"},dataType:"整型",direction:"只读",acquisitionCycle:"1000",registerType:2,registerAddr:"0",analyticalMethod:3,displacementDeviation:"0",useBCD:!1}],idFactory:"factory-1"},{id:"1-1-2",equipmentName:"D2",equipmentDescribe:"设备2",userParam:"",MODBUSAdd:"2",searchNum:32,singleRegister:!0,multiRegister:!0,correspondingValue:"FF00",subCorrespondingValue:"0000",doubleByteCheck:!0,otherParams:{delayTime:3e3,failedTryAgain:!0,failedTryTimes:1,faultDiagnosis:!1,continuousQueryFailed:5,noReceivedLongTime:120,faultDataProcess:"保持之前值，质量戳为BAD",faultScanProcess:"正常扫描",queryPeriod:30,equipmentFactor:!0,factorR1:"1.000",factorR2:"1.000"},dataTags:[{id:"1-1-2-1",name:"Tag1",describe:"标签1",otherParams:{takeAbsoluteValue:!0,absoluteValue:"",calculation:"乘设备系数R1",ratioCalculation:!0,magnification:"2.0000",base:"0.0000",reverseCoefficient:!1,rangeConversion:!0,maxRange:10,maxGather:4096,minRange:0,minGather:0,dataFilter:!1,maxData:100,minData:0,dataRadio:"1",advancedOperation:"科学计数法",param1:"",param2:"",code:0,cache:!1,alert:!1,maxLimit:"100.0",upperLimit:"80.0",lowerLimit:"20.0",minLimit:"0.0",alarmDelay:"3",alarmLevel:"3"},dataType:"布尔",direction:"只读",acquisitionCycle:"1000",registerType:0,registerAddr:"0",analyticalMethod:2,displacementDeviation:"0",useBCD:!1},{id:"1-1-2-2",name:"Tag2",describe:"标签2",otherParams:{takeAbsoluteValue:!1,absoluteValue:"",calculation:"不参与计算",ratioCalculation:!0,magnification:"2.0000",base:"0.0000",reverseCoefficient:!0,rangeConversion:!1,maxRange:10,maxGather:4096,minRange:0,minGather:0,dataFilter:!1,maxData:100,minData:0,dataRadio:"1",advancedOperation:"科学计数法",param1:"",param2:"",code:0,cache:!1,alert:!1,maxLimit:"100.0",upperLimit:"80.0",lowerLimit:"20.0",minLimit:"0.0",alarmDelay:"3",alarmLevel:"3"},dataType:"字符串",direction:"只读",acquisitionCycle:"1000",registerType:3,registerAddr:"0",analyticalMethod:3,displacementDeviation:"0",useBCD:!1}],idFactory:"factory-1"},{id:"1-2-1",equipmentName:"D3",equipmentDescribe:"设备3",userParam:"",MODBUSAdd:"3",searchNum:32,singleRegister:!0,multiRegister:!0,correspondingValue:"FF00",subCorrespondingValue:"0000",doubleByteCheck:!0,otherParams:{delayTime:3e3,failedTryAgain:!1,failedTryTimes:1,faultDiagnosis:!0,continuousQueryFailed:5,noReceivedLongTime:120,faultDataProcess:"保持之前值，质量戳为GOOD",faultScanProcess:"正常扫描",queryPeriod:30,equipmentFactor:!1,factorR1:"1.000",factorR2:"1.000"},dataTags:[{id:"1-2-1-1",name:"Tag1",describe:"标签1",otherParams:{takeAbsoluteValue:!0,absoluteValue:"",calculation:"乘设备系数R2",ratioCalculation:!0,magnification:"2.0000",base:"0.0000",reverseCoefficient:!1,rangeConversion:!0,maxRange:10,maxGather:4096,minRange:0,minGather:0,dataFilter:!0,maxData:100,minData:0,dataRadio:"1",advancedOperation:"科学计数法",param1:"",param2:"",code:0,cache:!1,alert:!1,maxLimit:"100.0",upperLimit:"80.0",lowerLimit:"20.0",minLimit:"0.0",alarmDelay:"3",alarmLevel:"3"},dataType:"整型",direction:"只读",acquisitionCycle:"1000",registerType:1,registerAddr:"0",analyticalMethod:2,displacementDeviation:"0",useBCD:!1},{id:"1-2-1-2",name:"Tag2",describe:"标签2",otherParams:{takeAbsoluteValue:!1,absoluteValue:"",calculation:"不参与计算",ratioCalculation:!0,magnification:"2.0000",base:"0.0000",reverseCoefficient:!0,rangeConversion:!1,maxRange:10,maxGather:4096,minRange:0,minGather:0,dataFilter:!0,maxData:100,minData:0,dataRadio:"2",advancedOperation:"科学计数法",param1:"",param2:"",code:0,cache:!1,alert:!1,maxLimit:"100.0",upperLimit:"80.0",lowerLimit:"20.0",minLimit:"0.0",alarmDelay:"3",alarmLevel:"3"},dataType:"整型",direction:"只读",acquisitionCycle:"1000",registerType:0,registerAddr:"0",analyticalMethod:0,displacementDeviation:"0",useBCD:!1}],idFactory:"factory-1"},{id:"1-2-2",equipmentName:"D4",equipmentDescribe:"设备4",userParam:"",MODBUSAdd:"4",searchNum:32,singleRegister:!0,multiRegister:!0,correspondingValue:"FF00",subCorrespondingValue:"0000",doubleByteCheck:!0,otherParams:{delayTime:3e3,failedTryAgain:!1,failedTryTimes:1,faultDiagnosis:!1,continuousQueryFailed:5,noReceivedLongTime:120,faultDataProcess:"保持之前值，质量戳为GOOD",faultScanProcess:"正常扫描",queryPeriod:30,equipmentFactor:!1,factorR1:"1.000",factorR2:"1.000"},dataTags:[{id:"1-2-2-1",name:"Tag1",describe:"标签1",otherParams:{takeAbsoluteValue:!0,absoluteValue:"",calculation:"乘设备系数R1*R2",ratioCalculation:!0,magnification:"2.0000",base:"0.0000",reverseCoefficient:!1,rangeConversion:!0,maxRange:10,maxGather:4096,minRange:0,minGather:0,dataFilter:!1,maxData:100,minData:0,dataRadio:"1",advancedOperation:"科学计数法",param1:"",param2:"",code:0,cache:!1,alert:!1,maxLimit:"100.0",upperLimit:"80.0",lowerLimit:"20.0",minLimit:"0.0",alarmDelay:"3",alarmLevel:"3"},dataType:"整型",direction:"只读",acquisitionCycle:"1000",registerType:0,registerAddr:"0",analyticalMethod:3,displacementDeviation:"0",useBCD:!1},{id:"1-2-2-2",name:"Tag2",describe:"标签2",otherParams:{takeAbsoluteValue:!1,absoluteValue:"",calculation:"不参与计算",ratioCalculation:!0,magnification:"2.0000",base:"0.0000",reverseCoefficient:!0,rangeConversion:!1,maxRange:10,maxGather:4096,minRange:0,minGather:0,dataFilter:!1,maxData:100,minData:0,dataRadio:"1",advancedOperation:"科学计数法",param1:"",param2:"",code:0,cache:!1,alert:!1,maxLimit:"100.0",upperLimit:"80.0",lowerLimit:"20.0",minLimit:"0.0",alarmDelay:"3",alarmLevel:"3"},dataType:"二进制",direction:"只写",acquisitionCycle:"2000",registerType:1,registerAddr:"0",analyticalMethod:5,displacementDeviation:"0",useBCD:!1}],idFactory:"factory-1"}],pt={components:{Header:oe,LeftTree:D,Group:pe,Pass:We,Equipment:ct},data:function(){return{treeData:[],factoryData:[],passList:[],pluginList:[],equipmentList:[],serviceData:{},serviceId:"",passTypeList:["串口","TCP客户端","TCP服务端","UDP","虚拟端口"],sataList:["COM01","COM02","COM03"],baudList:["1200","2400","4800","9600"],dataList:["4","5","6","7","8"],checkList:["无校验","奇校验","偶校验","MARK校验","SPACE校验"],stopList:["1","1.5","2"],level:1,id:null,handleType:"",idFactory:"factory-1",contentHeight:"0px"}},created:function(){var e=document.documentElement.clientHeight;this.contentHeight=e-16-74+"px",this.getTreeData()},methods:{getTreeData:function(){var e=this;this.factoryData=J,this.factoryData[0].children.forEach(function(t){t.children.forEach(function(t){t.selected&&(e.serviceData=t,e.serviceId=e.serviceData.id,e.treeData=t.treeData,e.id=e.treeData[0].id)})}),this.pluginList=ut,this.passListAll=dt,this.equipmentListAll=mt,this.refreshData()},refreshData:function(){var e=this;this.passList=this.passListAll.filter(function(t){return t.idFactory===e.idFactory}),this.equipmentList=this.equipmentListAll.filter(function(t){return t.idFactory===e.idFactory})},itemClick:function(e){var t=e.level,a=e.id;this.level=t,this.id=a},itemHandle:function(e){var t=this;this.handleType=e,"up"!==this.handleType&&"down"!==this.handleType||this.treeData.forEach(function(e,a){if("up"===t.handleType&&e.children.forEach(function(a,i){if(2===t.level&&a.id===t.id){if(!e.children[i-1])return t.moveEnd("已经到最顶层"),!1;t.toggleExchange(e.children,i,"up"),a.selected=!1,t.refreshSelect()}3===t.level&&a.children.forEach(function(e,i){if(e.id===t.id){if(!a.children[i-1])return t.moveEnd("已经到最顶层"),!1;t.toggleExchange(a.children,i,"up"),e.selected=!1,t.refreshSelect()}})}),"down"===t.handleType)for(var i=e.children.length-1;i>=0;i--){if(2===t.level&&e.children[i].id===t.id){if(!e.children[i+1])return t.moveEnd("已经到最底层"),!1;t.toggleExchange(e.children,i,"down"),e.children[i+1].selected=!1,t.refreshSelect()}if(3===t.level)for(var r=e.children[i].children.length-1;r>=0;r--)if(e.children[i].children[r].id===t.id){if(!e.children[i].children[r+1])return t.moveEnd("已经到最底层"),!1;t.toggleExchange(e.children[i].children,r,"down"),e.children[i].children[r+1].selected=!1,t.refreshSelect()}}}),"del"===this.handleType&&this.$confirm("将删除采集".concat(2===this.level?"通道":"设备",", 是否继续?"),"提示",{type:"warning"}).then(function(){t.treeData.forEach(function(e){e.children.forEach(function(a,i){2===t.level&&t.id===a.id&&(a.children.forEach(function(e,a){t.equipmentListAll.forEach(function(a,i){e.id===a.id&&t.equipmentListAll.splice(i,1)})}),e.children.splice(i,1),t.passListAll.forEach(function(e,i){e.id===a.id&&t.passListAll.splice(i,1)}),t.refreshData()),3===t.level&&a.children.forEach(function(e,i){t.id===e.id&&(a.children.splice(i,1),t.equipmentListAll.forEach(function(a,i){a.id===e.id&&t.equipmentListAll.splice(i,1)}))})})}),t.refreshData(),t.refreshSelect()}).catch(function(){}),"add"===this.handleType&&this.$refs.header.newBuild(),"copy"===this.handleType&&this.$refs.header.copyItems()},refreshSelect:function(){var e=this;this.$nextTick(function(){e.level=1,e.id=e.treeData[0].id,e.$set(e.treeData[0],"selected",!0)})},moveEnd:function(e){this.$message({message:e,type:"error",duration:1e3})},toggleExchange:function(e,t,a){var i="up"===a?e[t-1]:e[t+1];this.$set(e,"up"===a?t-1:t+1,e[t]),this.$set(e,t,i)},itemAdd:function(e){var t=this;this.treeData.forEach(function(a){if(1===t.level&&a.id===t.id){e.id=t.id+Math.random().toString(36).substr(-10),e.idFactory=t.idFactory;var i={text:"".concat(e.passName,"[").concat(e.passDescribe,"]"),icon:"fa fa-laptop",id:e.id,level:2,children:[],selected:!1,opened:!0};a.children.push(i),t.passListAll.push(e),t.refreshData()}2===t.level&&a.children.forEach(function(a){if(a.id===t.id){e.id=Math.random().toString(36).substr(-10),e.idFactory=t.idFactory;var i={text:"".concat(e.equipmentName,"[").concat(e.equipmentDescribe,"]"),icon:"fa fa-edit",id:e.id,level:3,selected:!1};a.children.push(i),t.equipmentListAll.push(e),t.refreshData()}})}),this.$refs.group&&this.$nextTick(function(){t.$refs.group.getServiceData()})},itemsCopy:function(e){var t=this;this.treeData.forEach(function(a){1===t.level&&a.id===t.id&&(e.forEach(function(e){var i=JSON.parse(JSON.stringify(e));i.id=t.id+Math.random().toString(36).substr(-10);var r={text:"".concat(i.passName,"[").concat(i.passDescribe,"]"),icon:"fa fa-laptop",id:i.id,level:2,children:[],selected:!1,opened:!0};a.children.push(r),t.passListAll.push(i)}),t.refreshData()),2===t.level&&a.children.forEach(function(a){a.id===t.id&&(e.forEach(function(e){var i=JSON.parse(JSON.stringify(e));i.id=t.id+Math.random().toString(36).substr(-10);var r={text:"".concat(i.equipmentName,"[").concat(i.equipmentDescribe,"]"),icon:"fa fa-edit",id:i.id,level:3,selected:!1};a.children.push(r),t.equipmentListAll.push(i)}),t.refreshData())})})},factorySelect:function(e){var t=e.level,a=e.id;3===t&&(this.serviceData=e,this.serviceId=this.serviceData.id,this.idFactory=a,this.treeData=e.treeData,0!==this.treeData.length&&(this.treeData.forEach(function(e){e.selected=!1,e.children.forEach(function(e){e.selected=!1,e.children.forEach(function(e){e.selected=!1})})}),this.refreshSelect()),this.refreshData())},itemSubmit:function(e){2===e&&this.$refs.pass.passSubmit(),3===e&&this.$refs.equipment.equipmentSubmit()}}},ft=pt,ht=(a("caed"),Object(y["a"])(ft,i,r,!1,null,"3bb1d31b",null));ht.options.__file="gateway.vue";t["default"]=ht.exports},4249:function(e,t,a){},4360:function(e,t,a){"use strict";var i=a("2b0e"),r=a("2f62"),n=(a("7f7f"),a("6b54"),a("c24f")),s=a("c276"),o={state:{userName:"",userId:"",avatorImgPath:"",token:Object(s["k"])(),access:"",hasGetInfo:!1,permissions:[]},mutations:{setAvator:function(e,t){e.avatorImgPath=t},setUserId:function(e,t){e.userId=t},setUserName:function(e,t){e.userName=t},setAccess:function(e,t){e.access=t},setToken:function(e,t){e.token=t,Object(s["r"])(t)},setHasGetInfo:function(e,t){e.hasGetInfo=t}},getters:{userAccess:function(e){return e.access},userName:function(e){return e.userName},token:function(e){return e.token}},actions:{handleLogin:function(e,t){var a=e.commit,i=t.userName,r=t.password;return i=i.trim(),new Promise(function(e,t){Object(n["b"])({userName:i,password:r}).then(function(t){var i=t.data.data;a("setToken",i.token),a("setHasGetInfo",!0),a("setAccess",[i.roleId.toString()]),Object(s["m"])("gateway-access",i.roleId),e(t)}).catch(function(e){t(e)})})},handleLogOut:function(e){e.state;var t=e.commit;return new Promise(function(e,a){t("setToken",""),t("setAccess",[]),Object(s["m"])("dynamicRouter-gateway",[]),Object(s["m"])("redirectRouter-gateway",[]),Object(s["m"])("tagNaveList-template",[]),Object(s["m"])("gateway-access",[]),e()})},getUserInfo:function(e){var t=e.state,a=e.commit;return new Promise(function(e,i){try{Object(n["a"])(t.token).then(function(t){var i=t.data.data;a("setAvator",i.avator),a("setUserName",i.name),a("setUserId",i.user_id),a("setAccess",i.access),a("setHasGetInfo",!0),e(i)}).catch(function(e){i(e)})}catch(e){i(e)}})}}},l=a("c93e"),c=(a("6762"),a("2fdb"),a("20d6"),a("8afe")),u=a("4ab1"),d=a("7e1e"),m=a("a18c"),p=a("f121"),f=a("9658"),h=a("f7a0"),g=p["a"].homeName,b=function(e,t){var a=Object(s["h"])(e.tagNavList,t);e.tagNavList=e.tagNavList.filter(function(e){return!Object(s["o"])(e,t)}),m["a"].push(a)},v={state:{breadCrumbList:[],tagNavList:[],homeRoute:{},local:Object(s["l"])("local"),errorList:[],hasReadErrorPage:!1,menuList:[],redirectRouter:[]},getters:{menuList:function(e,t,a){return e.menuList},errorCount:function(e){return e.errorList.length}},mutations:{setBreadCrumb:function(e,t){e.breadCrumbList=Object(s["d"])(t)},setHomeRoute:function(e,t){e.homeRoute=Object(s["e"])(t,g)},setTagNavList:function(e,t){var a=[];a=t?Object(c["a"])(t):Object(s["j"])()||[],a[0]&&a[0].name!==g&&a.shift();var i=a.findIndex(function(e){return e.name===g});if(i>0){var r=a.splice(i,1)[0];a.unshift(r)}e.tagNavList=a,Object(s["q"])(Object(c["a"])(a))},closeTag:function(e,t){var a=e.tagNavList.filter(function(e){return Object(s["o"])(e,t)});t=a[0]?a[0]:null,t&&(t.meta&&t.meta.beforeCloseName&&t.meta.beforeCloseName in u["a"]?new Promise(u["a"][t.meta.beforeCloseName]).then(function(a){a&&b(e,t)}):b(e,t))},addTag:function(e,t){var a=t.route,i=t.type,r=void 0===i?"unshift":i,n=Object(s["i"])(a);Object(s["p"])(e.tagNavList,n)||("push"===r?e.tagNavList.push(n):n.name===g?e.tagNavList.unshift(n):e.tagNavList.splice(1,0,n),Object(s["q"])(Object(c["a"])(e.tagNavList)))},setLocal:function(e,t){Object(s["m"])("local",t),e.local=t},addError:function(e,t){e.errorList.push(t)},setHasReadErrorLoggerStatus:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];e.hasReadErrorPage=t},setMenuList:function(e,t){e.menuList=Object(s["f"])(t.menuList,t.access)},setRedirectRouter:function(e,t){e.redirectRouter=t}},actions:{addErrorLog:function(e,t){var a=e.commit,i=e.rootState;window.location.href.includes("error_logger_page")||a("setHasReadErrorLoggerStatus",!1);var r=i.user,n=r.token,s=r.userId,o=r.userName,c=Object(l["a"])({},t,{time:Date.parse(new Date),token:n,userId:s,userName:o});Object(d["d"])(t).then(function(){a("addError",c)})},addRouterData:function(e,t){var a=e.commit,i=e.rootState;m["a"].addRoutes(t.concat(i.app.redirectRouter)),Object(f["f"])(t,m["a"]),console.log("动态添加路由：",t);var r=JSON.parse(JSON.stringify(t));r=Object(f["c"])(r),console.log("左侧动态菜单：",r),a("setMenuList",{menuList:r,access:i.user.access})},getRouters:function(e,t){var a=e.dispatch,i=e.commit;e.rootState;return new Promise(function(e,t){var r=[];if(""===Object(s["l"])("dynamicRouter-gateway")){console.log("获取路由：从api");var n=h["a"];n=Object(f["e"])(JSON.parse(JSON.stringify(n)));var o=[{path:"/",redirect:"0"===Object(s["l"])("gateway-access")?"/user/manage":"1"===Object(s["l"])("gateway-access")?"/log/manage":"/gateway",meta:{id:Math.random().toString(36).substr(-10)},name:"home"}];Object(s["m"])("redirectRouter-gateway",JSON.stringify(o)),i("setRedirectRouter",o),Object(s["m"])("dynamicRouter-gateway",JSON.stringify(n)),r=Object(f["b"])(n),a("addRouterData",r).then(function(t){e(r)})}else{console.log("获取路由：从localStorage"),r=Object(f["b"])(JSON.parse(Object(s["l"])("dynamicRouter-gateway"))),console.log("动态路由数据：",r);var l=JSON.parse(JSON.stringify(r));l=Object(f["c"])(l),console.log("左侧动态菜单：",l),i("setMenuList",{menuList:l,access:[Object(s["l"])("gateway-access").toString()]}),e()}})}}};i["default"].use(r["a"]);t["a"]=new r["a"].Store({state:{},mutations:{},actions:{},modules:{user:o,app:v}})},4524:function(e,t,a){"use strict";var i=a("24f4"),r=a.n(i);r.a},"45e7":function(e,t,a){"use strict";a.r(t);var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("Row",{attrs:{gutter:20}},e._l(e.inforCardData,function(t,i){return a("i-col",{key:"infor-"+i,staticStyle:{height:"120px","padding-bottom":"10px"},attrs:{xs:12,md:8,lg:4}},[a("infor-card",{attrs:{shadow:"",color:t.color,icon:t.icon,"icon-size":36}},[a("count-to",{attrs:{end:t.count,"count-class":"count-style"}}),a("p",[e._v(e._s(t.title))])],1)],1)})),a("Row",{staticStyle:{"margin-top":"10px"},attrs:{gutter:20}},[a("i-col",{staticStyle:{"margin-bottom":"20px"},attrs:{md:24,lg:8}},[a("Card",{attrs:{shadow:""}},[a("chart-pie",{staticStyle:{height:"300px"},attrs:{value:e.pieData,text:"用户访问来源"}})],1)],1),a("i-col",{staticStyle:{"margin-bottom":"20px"},attrs:{md:24,lg:16}},[a("Card",{attrs:{shadow:""}},[a("chart-bar",{staticStyle:{height:"300px"},attrs:{value:e.barData,text:"每周用户活跃量"}})],1)],1)],1),a("Row",[a("Card",{attrs:{shadow:""}},[a("example",{staticStyle:{height:"310px"}})],1)],1)],1)},r=[],n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("Card",{staticClass:"info-card-wrapper",attrs:{shadow:e.shadow,padding:0}},[a("div",{staticClass:"content-con"},[a("div",{staticClass:"left-area",style:{background:e.color,width:e.leftWidth}},[a("common-icon",{staticClass:"icon",attrs:{type:e.icon,size:e.iconSize,color:"#fff"}})],1),a("div",{staticClass:"right-area",style:{width:e.rightWidth}},[a("div",[e._t("default")],2)])])])},s=[],o=(a("c5f6"),a("cb21")),l={name:"InforCard",components:{CommonIcon:o["a"]},props:{left:{type:Number,default:36},color:{type:String,default:"#2d8cf0"},icon:{type:String,default:""},iconSize:{type:Number,default:20},shadow:{type:Boolean,default:!1}},computed:{leftWidth:function(){return"".concat(this.left,"%")},rightWidth:function(){return"".concat(100-this.left,"%")}}},c=l,u=(a("a189"),a("2877")),d=Object(u["a"])(c,n,s,!1,null,null,null);d.options.__file="infor-card.vue";var m=d.exports,p=m,f=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"count-to-wrapper"},[e._t("left"),a("p",{staticClass:"content-outer"},[a("span",{class:["count-to-count-text",e.countClass],attrs:{id:e.counterId}},[e._v(e._s(e.init))]),a("i",{class:["count-to-unit-text",e.unitClass]},[e._v(e._s(e.unitText))])]),e._t("right")],2)},h=[],g=a("57f2"),b=a.n(g),v=(a("16e0"),{name:"CountTo",props:{init:{type:Number,default:0},startVal:{type:Number,default:0},end:{type:Number,required:!0},decimals:{type:Number,default:0},decimal:{type:String,default:"."},duration:{type:Number,default:2},delay:{type:Number,default:0},uneasing:{type:Boolean,default:!1},usegroup:{type:Boolean,default:!1},separator:{type:String,default:","},simplify:{type:Boolean,default:!1},unit:{type:Array,default:function(){return[[3,"K+"],[6,"M+"],[9,"B+"]]}},countClass:{type:String,default:""},unitClass:{type:String,default:""}},data:function(){return{counter:null,unitText:""}},computed:{counterId:function(){return"count_to_".concat(this._uid)}},methods:{getHandleVal:function(e,t){return{endVal:parseInt(e/Math.pow(10,this.unit[t-1][0])),unitText:this.unit[t-1][1]}},transformValue:function(e){var t=this.unit.length,a={endVal:0,unitText:""};if(e<Math.pow(10,this.unit[0][0]))a.endVal=e;else for(var i=1;i<t;i++)e>=Math.pow(10,this.unit[i-1][0])&&e<Math.pow(10,this.unit[i][0])&&(a=this.getHandleVal(e,i));return e>Math.pow(10,this.unit[t-1][0])&&(a=this.getHandleVal(e,t)),a},getValue:function(e){var t=0;if(this.simplify){var a=this.transformValue(e),i=a.endVal,r=a.unitText;this.unitText=r,t=i}else t=e;return t}},mounted:function(){var e=this;this.$nextTick(function(){var t=e.getValue(e.end);e.counter=new b.a(e.counterId,e.startVal,t,e.decimals,e.duration,{useEasing:!e.uneasing,useGrouping:e.useGroup,separator:e.separator,decimal:e.decimal}),setTimeout(function(){e.counter.error||e.counter.start()},e.delay)})},watch:{end:function(e){var t=this.getValue(e);this.counter.update(t)}}}),y=v,x=Object(u["a"])(y,f,h,!1,null,null,null);x.options.__file="count-to.vue";var D=x.exports,P=D,_=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{ref:"dom",staticClass:"charts chart-pie"})},w=[],T=(a("7f7f"),a("313e")),S=a.n(T),k=a("8e9a"),O=a("90de");S.a.registerTheme("tdTheme",k);var C={name:"ChartPie",props:{value:Array,text:String,subtext:String},data:function(){return{dom:null}},methods:{resize:function(){this.dom.resize()}},mounted:function(){var e=this;this.$nextTick(function(){var t=e.value.map(function(e){return e.name}),a={title:{text:e.text,subtext:e.subtext,x:"center"},tooltip:{trigger:"item",formatter:"{a} <br/>{b} : {c} ({d}%)"},legend:{orient:"vertical",left:"left",data:t},series:[{type:"pie",radius:"55%",center:["50%","60%"],data:e.value,itemStyle:{emphasis:{shadowBlur:10,shadowOffsetX:0,shadowColor:"rgba(0, 0, 0, 0.5)"}}}]};e.dom=S.a.init(e.$refs.dom,"tdTheme"),e.dom.setOption(a),Object(O["g"])(window,"resize",e.resize)})},beforeDestroy:function(){Object(O["f"])(window,"resize",this.resize)}},L=C,N=Object(u["a"])(L,_,w,!1,null,null,null);N.options.__file="pie.vue";var I=N.exports,E=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{ref:"dom",staticClass:"charts chart-bar"})},q=[];a("8615"),a("ac6a"),a("456d");S.a.registerTheme("tdTheme",k);var $={name:"ChartBar",props:{value:Object,text:String,subtext:String},data:function(){return{dom:null}},methods:{resize:function(){this.dom.resize()}},mounted:function(){var e=this;this.$nextTick(function(){var t=Object.keys(e.value),a=Object.values(e.value),i={title:{text:e.text,subtext:e.subtext,x:"center"},xAxis:{type:"category",data:t},yAxis:{type:"value"},series:[{data:a,type:"bar"}]};e.dom=S.a.init(e.$refs.dom,"tdTheme"),e.dom.setOption(i),Object(O["g"])(window,"resize",e.resize)})},beforeDestroy:function(){Object(O["f"])(window,"resize",this.resize)}},R=$,B=Object(u["a"])(R,E,q,!1,null,null,null);B.options.__file="bar.vue";var A=B.exports,M=a("649f"),j={name:"home",components:{InforCard:p,CountTo:P,ChartPie:I,ChartBar:A,Example:M["default"]},data:function(){return{inforCardData:[{title:"新增用户",icon:"md-person-add",count:803,color:"#2d8cf0"},{title:"累计点击",icon:"md-locate",count:232,color:"#19be6b"},{title:"新增问答",icon:"md-help-circle",count:142,color:"#ff9900"},{title:"分享统计",icon:"md-share",count:657,color:"#ed3f14"},{title:"新增互动",icon:"md-chatbubbles",count:12,color:"#E46CBB"},{title:"新增页面",icon:"md-map",count:14,color:"#9A66E4"}],pieData:[{value:335,name:"直接访问"},{value:310,name:"邮件营销"},{value:234,name:"联盟广告"},{value:135,name:"视频广告"},{value:1548,name:"搜索引擎"}],barData:{Mon:13253,Tue:34235,Wed:26321,Thu:12340,Fri:24643,Sat:1322,Sun:1324}}},mounted:function(){}},F=j,V=(a("ad89"),Object(u["a"])(F,i,r,!1,null,null,null));V.options.__file="home.vue";t["default"]=V.exports},"460b":function(e,t,a){},4740:function(e,t,a){e.exports=a.p+"img/error-500.a371eabc.svg"},4993:function(e,t,a){var i={"./authority/role.vue":"1b1f","./authority/user copy.vue":"d641","./error-page/401.vue":"f94f","./error-page/404.vue":"35f5","./error-page/500.vue":"88b2","./error-page/back-btn-group.vue":"c1a1","./error-page/error-content.vue":"9454","./gateway.vue":"3e9a","./log.vue":"1511","./login/login.vue":"e49c","./multilevel/level-1.vue":"0a90","./multilevel/level-2-1.vue":"d08b","./multilevel/level-2-2/level-3-1.vue":"1092","./multilevel/level-2-3.vue":"e84c","./multilevel/level-2/level-2-1.vue":"e4bc","./multilevel/level-2/level-2-2.vue":"a44b","./multilevel/level-2/level-3/level-3-1.vue":"9e7c","./single-page/home/example.vue":"649f","./single-page/home/home.vue":"45e7","./template.vue":"839e","./user.vue":"8890"};function r(e){var t=n(e);return a(t)}function n(e){var t=i[e];if(!(t+1)){var a=new Error("Cannot find module '"+e+"'");throw a.code="MODULE_NOT_FOUND",a}return t}r.keys=function(){return Object.keys(i)},r.resolve=n,e.exports=r,r.id="4993"},"4ab1":function(e,t,a){"use strict";var i=a("e069"),r={before_close_normal:function(e){i["Modal"].confirm({title:"确定要关闭这一页吗",onOk:function(){e(!0)},onCancel:function(){e(!1)}})}};t["a"]=r},"4b4f":function(e,t,a){"use strict";var i=a("cd05"),r=a.n(i);r.a},"4c24":function(e,t,a){"use strict";var i=a("9b80"),r=a.n(i);r.a},"55bd":function(e,t,a){},"56d7":function(e,t,a){"use strict";a.r(t);a("cadf"),a("551c"),a("097d");var i=a("2b0e"),r=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{attrs:{id:"app"}},[a("router-view")],1)},n=[],s={name:"App"},o=s,l=(a("7c55"),a("2877")),c=Object(l["a"])(o,r,n,!1,null,null,null);c.options.__file="App.vue";var u=c.exports,d=a("a18c"),m=a("4360"),p=a("f121"),f=(a("28a5"),a("90de")),h={draggable:{inserted:function(e,t,a){var i=document.querySelector(t.value.trigger);i.style.cursor="move";var r=document.querySelector(t.value.body),n=0,s=0,o=0,l=0,c=!1,u=function(e){var t=/\(.*\)/.exec(r.style.transform);if(t){t=t[0].slice(1,t[0].length-1);var a=t.split("px, ");o=parseFloat(a[0]),l=parseFloat(a[1].split("px")[0])}n=e.pageX,s=e.pageY,c=!0},d=function(e){var t=e.pageX-n+o,a=e.pageY-s+l;c&&(r.style.transform="translate(".concat(t,"px, ").concat(a,"px)"))},m=function(e){c=!1};Object(f["g"])(i,"mousedown",u),Object(f["g"])(document,"mousemove",d),Object(f["g"])(document,"mouseup",m)},update:function(e,t,a){if(t.value.recover){var i=document.querySelector(t.value.body);i.style.transform=""}}}},g=h,b=function(e){e.directive("draggable",g.draggable)},v=b,y=a("13aa"),x=(a("ca62"),a("33ec"),a("8237")),D=a.n(x),P=a("e069"),_=a.n(P),w=(a("dcad"),a("5c96")),T=a.n(w);a("0fae"),a("3ac6");i["default"].use(_.a,{}),i["default"].use(T.a,{}),p["a"].isMock&&a("245a"),Object(y["default"])(i["default"]),i["default"].config.productionTip=!1,i["default"].prototype.$config=p["a"],i["default"].prototype.isMock=p["a"].isMock,i["default"].prototype.$md5=D.a,i["default"].prototype.$EventBus=new i["default"],v(i["default"]),new i["default"]({el:"#app",router:d["a"],store:m["a"],render:function(e){return e(u)}})},5774:function(e,t,a){},"5ac2":function(e,t,a){"use strict";var i=a("3d00"),r=a.n(i);r.a},"5b52":function(e,t,a){},"5d66":function(e,t,a){},"605e":function(e,t,a){"use strict";var i=a("5774"),r=a.n(i);r.a},"61c1":function(e,t,a){"use strict";var i=a("0f8b"),r=a.n(i);r.a},6372:function(e,t,a){},"649f":function(e,t,a){"use strict";a.r(t);var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{ref:"dom"})},r=[],n=(a("cadf"),a("551c"),a("097d"),a("313e")),s=a.n(n),o=a("90de"),l={name:"serviceRequests",data:function(){return{dom:null}},methods:{resize:function(){this.dom.resize()}},mounted:function(){var e=this,t={tooltip:{trigger:"axis",axisPointer:{type:"cross",label:{backgroundColor:"#6a7985"}}},grid:{top:"3%",left:"1.2%",right:"1%",bottom:"3%",containLabel:!0},xAxis:[{type:"category",boundaryGap:!1,data:["周一","周二","周三","周四","周五","周六","周日"]}],yAxis:[{type:"value"}],series:[{name:"运营商/网络服务",type:"line",stack:"总量",areaStyle:{normal:{color:"#2d8cf0"}},data:[120,132,101,134,90,230,210]},{name:"银行/证券",type:"line",stack:"总量",areaStyle:{normal:{color:"#10A6FF"}},data:[257,358,278,234,290,330,310]},{name:"游戏/视频",type:"line",stack:"总量",areaStyle:{normal:{color:"#0C17A6"}},data:[379,268,354,269,310,478,358]},{name:"餐饮/外卖",type:"line",stack:"总量",areaStyle:{normal:{color:"#4608A6"}},data:[320,332,301,334,390,330,320]},{name:"快递/电商",type:"line",stack:"总量",label:{normal:{show:!0,position:"top"}},areaStyle:{normal:{color:"#398DBF"}},data:[820,645,546,745,872,624,258]}]};this.$nextTick(function(){e.dom=s.a.init(e.$refs.dom),e.dom.setOption(t),Object(o["g"])(window,"resize",e.resize)})},beforeDestroy:function(){Object(o["f"])(window,"resize",this.resize)}},c=l,u=a("2877"),d=Object(u["a"])(c,i,r,!1,null,null,null);d.options.__file="example.vue";t["default"]=d.exports},"66df":function(e,t,a){"use strict";a("f751"),a("ac6a"),a("456d");var i=a("c665"),r=a("aa9a"),n=(a("6762"),a("2fdb"),a("bc3a")),s=a.n(n),o=a("4360"),l=a("c276"),c=a("e069"),u=function(e){var t=e.statusText,a=e.success,i=e.request.responseURL,r={type:"ajax",code:a,mes:t,url:i};i.includes("save_error_logger")||o["a"].dispatch("addErrorLog",r)},d=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:baseURL;Object(i["a"])(this,e),this.baseUrl=t,this.queue={}}return Object(r["a"])(e,[{key:"getInsideConfig",value:function(){var e={baseURL:this.baseUrl,headers:{}};return e}},{key:"destroy",value:function(e){delete this.queue[e],Object.keys(this.queue).length}},{key:"interceptors",value:function(e,t){var a=this;e.interceptors.request.use(function(e){return Object(l["k"])()&&(e.headers.token=Object(l["k"])()),Object.keys(a.queue).length,a.queue[t]=!0,e},function(e){return Promise.reject(e)}),e.interceptors.response.use(function(e){"200"!==e.data.success&&c["Message"].error({content:e.data.message,duration:5}),a.destroy(t);var i=e.data;return{data:i}},function(e){return a.destroy(t),u(e.response),Promise.reject(e)})}},{key:"request",value:function(e){var t=s.a.create();return e=Object.assign(this.getInsideConfig(),e),this.interceptors(t,e.url),t(e)}}]),e}(),m=d,p=a("f121"),f=p["a"].isMock?p["a"].mockUrl:p["a"].baseUrl.pro,h=new m(f);t["a"]=h},"6b6a":function(e,t,a){"use strict";var i=a("0735"),r=a.n(i);r.a},"6c04":function(e,t,a){"use strict";var i=a("ac31"),r=a.n(i);r.a},"72d1":function(e,t,a){},"75e1":function(e,t,a){},"79bd":function(e,t,a){},"7a3c":function(e,t,a){},"7c55":function(e,t,a){"use strict";var i=a("d3dd"),r=a.n(i);r.a},"7e1e":function(e,t,a){"use strict";a.d(t,"d",function(){return r}),a.d(t,"c",function(){return n}),a.d(t,"b",function(){return s}),a.d(t,"a",function(){return o});var i=a("66df"),r=function(e){return i["a"].request({url:"save_error_logger",data:e,method:"post"})},n=function(){return i["a"].request({url:"get_user_list",method:"get"})},s=function(){return i["a"].request({url:"get_role_list",method:"get"})},o=function(e){return i["a"].request({url:"get_all_menus",method:"get"})}},"836b":function(e,t,a){"use strict";var i=a("5d66"),r=a.n(i);r.a},"839e":function(e,t,a){"use strict";a.r(t);var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[e._v("\n  "+e._s(e.title)+"\n")])},r=[],n={data:function(){return{title:""}},created:function(){this.title=this.$route.meta.title},methods:{},watch:{$route:function(e,t){this.title=e.meta.title}}},s=n,o=(a("8c82"),a("2877")),l=Object(o["a"])(s,i,r,!1,null,null,null);l.options.__file="template.vue";t["default"]=l.exports},"86e1":function(e,t,a){},8890:function(e,t,a){"use strict";a.r(t);var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"dooya-container"},[a("Card",[a("div",{staticStyle:{margin:"10px 0"}},[a("Button",{attrs:{type:"success",icon:"md-add"},on:{click:e.insert}},[e._v("新增用户")])],1),a("Table",{attrs:{data:e.tableData,loading:e.tableLoading,columns:e.tableColumns,stripe:""}}),a("div",{staticStyle:{margin:"10px",overflow:"hidden"}},[a("div",{staticStyle:{float:"right"}},[a("Page",{attrs:{"show-sizer":"",transfer:"",placement:"top",total:e.tableDataOrg.length,current:e.pageNum,"page-size-opts":[10,50,100,200],"page-size":e.pageSize},on:{"update:current":function(t){e.pageNum=t},"on-change":e.changePage,"on-page-size-change":e.changePageSize}})],1)])],1),a("Modal",{attrs:{"mask-closable":!1,closable:!1,"footer-hide":"",title:"账号详情"},on:{"on-ok":e.handleSubmit},model:{value:e.modalShow,callback:function(t){e.modalShow=t},expression:"modalShow"}},[a("Form",{ref:"formModalData",attrs:{model:e.modalData,rules:e.formModalRule,"label-width":100},nativeOn:{submit:function(e){e.preventDefault()}}},[a("FormItem",{attrs:{label:"账号：",prop:"userName"}},[a("Input",{attrs:{type:"text"},model:{value:e.modalData.userName,callback:function(t){e.$set(e.modalData,"userName","string"===typeof t?t.trim():t)},expression:"modalData.userName"}})],1),a("FormItem",{attrs:{label:"昵称：",prop:"nickName"}},[a("Input",{attrs:{type:"text"},model:{value:e.modalData.nickName,callback:function(t){e.$set(e.modalData,"nickName","string"===typeof t?t.trim():t)},expression:"modalData.nickName"}})],1),a("FormItem",{attrs:{label:"手机号：",prop:"mobile"}},[a("Input",{attrs:{type:"text"},model:{value:e.modalData.mobile,callback:function(t){e.$set(e.modalData,"mobile","string"===typeof t?t.trim():t)},expression:"modalData.mobile"}})],1),a("FormItem",{attrs:{label:"邮箱：",prop:"email"}},[a("Input",{attrs:{type:"text"},model:{value:e.modalData.email,callback:function(t){e.$set(e.modalData,"email","string"===typeof t?t.trim():t)},expression:"modalData.email"}})],1),a("FormItem",{attrs:{label:"角色：",prop:"access"}},[a("Select",{model:{value:e.modalData.roleId,callback:function(t){e.$set(e.modalData,"roleId",t)},expression:"modalData.roleId"}},e._l(e.roleList,function(t,i){return a("Option",{key:i,attrs:{value:t.id}},[e._v("\n            "+e._s(t.roleName)+"\n          ")])}))],1),a("FormItem",[a("Button",{attrs:{type:"primary",loading:e.buttonLoading},on:{click:function(t){e.handleSubmit("formModalData")}}},[e._v("确定")]),a("Button",{staticStyle:{"margin-left":"8px"},on:{click:function(t){e.modalShow=!1}}},[e._v("取消")])],1)],1)],1)],1)},r=[],n=(a("ac6a"),a("6b54"),a("55dd"),a("96cf"),a("3040")),s=a("f7a0"),o=a("10fd"),l=a("f11f"),c=a("c24f"),u=a("66df"),d=function(e){var t={page:1};return u["a"].request({url:"/network/role//queryRoleList",data:t,method:"post"})},m={data:function(){var e=this;return{roleList:[],tableDataOrg:[],tableData:[],tableColumns:[{title:"账号",key:"userName",align:"center",minWidth:120},{title:"昵称",key:"nickName",align:"center",minWidth:120},{title:"电话",key:"mobile",align:"center",minWidth:120},{title:"角色",align:"center",render:function(t,a){return t("Tag",{props:{color:"blue"}},Object(l["c"])(e.roleList,"id",a.row.roleId,"roleName"))},minWidth:120},{title:"操作",key:"action",fixed:"right",minWidth:180,align:"center",render:function(t,a){return t("div",[t("Tooltip",{props:{trigger:"hover",content:"修改",placement:"top",transfer:!0}},[t("Button",{props:{type:"primary",size:"small",icon:"ios-create-outline"},style:{marginRight:"5px"},on:{click:function(){e.edit(a.row)}}})]),t("Tooltip",{props:{trigger:"hover",content:"删除",placement:"top",transfer:!0}},[t("Button",{props:{type:"error",size:"small",icon:"md-close"},on:{click:function(){e.delete(a.row)}}})])])}}],total:0,pageNum:1,pageSize:10,sort:"user_name",tableLoading:!1,buttonLoading:!1,modalShow:!1,modalDataType:"",modalData:{email:"",mobile:"",nickName:"",password:this.$md5("123456"),realName:"",roleId:0,status:1,userName:""},modalDataOrg:{},formModalRule:{userName:[{required:!0,message:"请输入账号",trigger:"change"},{type:"string",max:20,message:"账号过长",trigger:"change"}],nickName:[{required:!0,message:"请输入昵称",trigger:"change"},{type:"string",max:10,message:"昵称过长",trigger:"change"}],mobile:[{required:!0,trigger:"change",validator:function(e,t,a){t&&!Object(o["b"])(t)?a(new Error("手机号格式不正确")):a()}}],email:[{required:!0,trigger:"change",validator:function(e,t,a){t&&!Object(o["a"])(t)?a(new Error("邮箱格式不正确")):a()}}]}}},created:function(){var e=Object(n["a"])(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:if(this.getData(),!this.isMock){e.next=5;break}e.t0=s["b"],e.next=11;break;case 5:return e.next=7,d(this);case 7:if(e.t1=e.sent.data.data,e.t1){e.next=10;break}e.t1=[];case 10:e.t0=e.t1;case 11:this.roleList=e.t0;case 12:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}(),methods:{getData:function(){var e=Object(n["a"])(regeneratorRuntime.mark(function e(){var t;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:if(this.isMock){e.next=10;break}return this.tableLoading=!0,e.next=4,Object(c["c"])(this);case 4:t=e.sent.data,t?(0===t.data.length&&0!==t.count&&(this.pageNum--,this.getData()),this.tableData=t.data,this.total=t.count):(this.tableData=[],this.total=0),this.buttonLoading=!1,this.tableLoading=!1,e.next=12;break;case 10:this.tableDataOrg=s["c"],this.refreshData();case 12:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}(),refreshData:function(){this.tableDataOrg.sort(Object(l["a"])("userName","asc")),this.total=this.tableDataOrg.length,this.tableData=this.tableDataOrg.slice((this.pageNum-1)*this.pageSize,this.pageNum*this.pageSize),0===this.tableData.length&&0!==this.tableDataOrg.length&&(this.pageNum--,this.refreshData())},changePage:function(e){this.pageNum=e,this.getData()},changePageSize:function(e){this.pageSize=e,this.pageNum=1,this.getData()},insert:function(){this.modalDataType="insert",this.$refs.formModalData.resetFields(),this.modalShow=!0},edit:function(e){this.modalDataType="edit",this.modalDataOrg=e,this.modalData=JSON.parse(JSON.stringify(e)),this.modalShow=!0},handleSubmit:function(){var e=this;this.$refs.formModalData.validate(function(){var t=Object(n["a"])(regeneratorRuntime.mark(function t(a){var i,r;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:if(!a){t.next=25;break}e.buttonLoading=!0,t.t0=e.modalDataType,t.next="insert"===t.t0?5:"edit"===t.t0?14:25;break;case 5:if(e.isMock){t.next=12;break}return t.next=8,Object(c["d"])(e.modalData);case 8:i=t.sent.data.success,Object(l["d"])(i,"添加成功！",function(){e.modalShow=!1,e.getData()},function(){e.buttonLoading=!1}),t.next=13;break;case 12:e.tableDataOrg.some(function(t){return t.userName===e.modalData.userName})?(e.$Message.error("该账号已存在！"),e.buttonLoading=!1):(e.modalData.id=Math.random().toString(36).substr(-10),s["c"].push(JSON.parse(JSON.stringify(e.modalData))),Object(l["d"])(200,"添加成功！",function(){e.refreshData(),e.modalShow=!1,e.buttonLoading=!1}));case 13:return t.abrupt("break",25);case 14:if(e.isMock){t.next=23;break}return e.$delete(e.modalData,"password"),e.$set(e.modalData,"id",e.modalData.idStr),t.next=19,Object(c["f"])(e.modalData);case 19:r=t.sent.data.success,Object(l["d"])(r,"修改成功！",function(){e.modalShow=!1,e.getData()},function(){e.buttonLoading=!1}),t.next=24;break;case 23:e.tableDataOrg.some(function(t){return t.userName===e.modalData.userName})&&e.modalData.userName!==e.modalDataOrg.userName?(e.$Message.error("该账号已存在！"),e.buttonLoading=!1):(e.$set(s["c"],(e.pageNum-1)*e.pageSize+e.modalData._index,JSON.parse(JSON.stringify(e.modalData))),Object(l["d"])(200,"修改成功！",function(){e.refreshData(),e.buttonLoading=!1,e.modalShow=!1}));case 24:return t.abrupt("break",25);case 25:case"end":return t.stop()}},t,this)}));return function(e){return t.apply(this,arguments)}}())},delete:function(e){var t=this;this.$Modal.confirm({title:"确定删除该用户？",onOk:function(){var a=Object(n["a"])(regeneratorRuntime.mark(function a(){var i;return regeneratorRuntime.wrap(function(a){while(1)switch(a.prev=a.next){case 0:if(t.isMock){a.next=7;break}return a.next=3,Object(c["e"])({id:e.idStr});case 3:i=a.sent,Object(l["d"])(i.data.success,"删除成功！",function(){t.getData()}),a.next=9;break;case 7:s["c"].slice((t.pageNum-1)*t.pageSize,t.pageNum*t.pageSize).forEach(function(a,i){e.idStr===a.idStr&&t.tableDataOrg.splice((t.pageNum-1)*t.pageSize+i,1)}),Object(l["d"])(200,"删除成功！",function(){t.refreshData()});case 9:case"end":return a.stop()}},a,this)}));return function(){return a.apply(this,arguments)}}(),closable:!0})}}},p=m,f=(a("8ce6"),a("2877")),h=Object(f["a"])(p,i,r,!1,null,"b1448832",null);h.options.__file="user.vue";t["default"]=h.exports},"88b2":function(e,t,a){"use strict";a.r(t);var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("error-content",{attrs:{code:"500",desc:"Oh~~鬼知道服务器经历了什么~",src:e.src}})},r=[],n=a("4740"),s=a.n(n),o=a("9454"),l={name:"error_500",components:{errorContent:o["default"]},data:function(){return{src:s.a}}},c=l,u=a("2877"),d=Object(u["a"])(c,i,r,!1,null,null,null);d.options.__file="500.vue";t["default"]=d.exports},"8c82":function(e,t,a){"use strict";var i=a("221c"),r=a.n(i);r.a},"8ce6":function(e,t,a){"use strict";var i=a("3737"),r=a.n(i);r.a},"8e9a":function(e){e.exports={color:["#2d8cf0","#19be6b","#ff9900","#E46CBB","#9A66E4","#ed3f14"],backgroundColor:"rgba(0,0,0,0)",textStyle:{},title:{textStyle:{color:"#516b91"},subtextStyle:{color:"#93b7e3"}},line:{itemStyle:{normal:{borderWidth:"2"}},lineStyle:{normal:{width:"2"}},symbolSize:"6",symbol:"emptyCircle",smooth:!0},radar:{itemStyle:{normal:{borderWidth:"2"}},lineStyle:{normal:{width:"2"}},symbolSize:"6",symbol:"emptyCircle",smooth:!0},bar:{itemStyle:{normal:{barBorderWidth:0,barBorderColor:"#ccc"},emphasis:{barBorderWidth:0,barBorderColor:"#ccc"}}},pie:{itemStyle:{normal:{borderWidth:0,borderColor:"#ccc"},emphasis:{borderWidth:0,borderColor:"#ccc"}}},scatter:{itemStyle:{normal:{borderWidth:0,borderColor:"#ccc"},emphasis:{borderWidth:0,borderColor:"#ccc"}}},boxplot:{itemStyle:{normal:{borderWidth:0,borderColor:"#ccc"},emphasis:{borderWidth:0,borderColor:"#ccc"}}},parallel:{itemStyle:{normal:{borderWidth:0,borderColor:"#ccc"},emphasis:{borderWidth:0,borderColor:"#ccc"}}},sankey:{itemStyle:{normal:{borderWidth:0,borderColor:"#ccc"},emphasis:{borderWidth:0,borderColor:"#ccc"}}},funnel:{itemStyle:{normal:{borderWidth:0,borderColor:"#ccc"},emphasis:{borderWidth:0,borderColor:"#ccc"}}},gauge:{itemStyle:{normal:{borderWidth:0,borderColor:"#ccc"},emphasis:{borderWidth:0,borderColor:"#ccc"}}},candlestick:{itemStyle:{normal:{color:"#edafda",color0:"transparent",borderColor:"#d680bc",borderColor0:"#8fd3e8",borderWidth:"2"}}},graph:{itemStyle:{normal:{borderWidth:0,borderColor:"#ccc"}},lineStyle:{normal:{width:1,color:"#aaa"}},symbolSize:"6",symbol:"emptyCircle",smooth:!0,color:["#2d8cf0","#19be6b","#f5ae4a","#9189d5","#56cae2","#cbb0e3"],label:{normal:{textStyle:{color:"#eee"}}}},map:{itemStyle:{normal:{areaColor:"#f3f3f3",borderColor:"#516b91",borderWidth:.5},emphasis:{areaColor:"rgba(165,231,240,1)",borderColor:"#516b91",borderWidth:1}},label:{normal:{textStyle:{color:"#000"}},emphasis:{textStyle:{color:"rgb(81,107,145)"}}}},geo:{itemStyle:{normal:{areaColor:"#f3f3f3",borderColor:"#516b91",borderWidth:.5},emphasis:{areaColor:"rgba(165,231,240,1)",borderColor:"#516b91",borderWidth:1}},label:{normal:{textStyle:{color:"#000"}},emphasis:{textStyle:{color:"rgb(81,107,145)"}}}},categoryAxis:{axisLine:{show:!0,lineStyle:{color:"#cccccc"}},axisTick:{show:!1,lineStyle:{color:"#333"}},axisLabel:{show:!0,textStyle:{color:"#999999"}},splitLine:{show:!0,lineStyle:{color:["#eeeeee"]}},splitArea:{show:!1,areaStyle:{color:["rgba(250,250,250,0.05)","rgba(200,200,200,0.02)"]}}},valueAxis:{axisLine:{show:!0,lineStyle:{color:"#cccccc"}},axisTick:{show:!1,lineStyle:{color:"#333"}},axisLabel:{show:!0,textStyle:{color:"#999999"}},splitLine:{show:!0,lineStyle:{color:["#eeeeee"]}},splitArea:{show:!1,areaStyle:{color:["rgba(250,250,250,0.05)","rgba(200,200,200,0.02)"]}}},logAxis:{axisLine:{show:!0,lineStyle:{color:"#cccccc"}},axisTick:{show:!1,lineStyle:{color:"#333"}},axisLabel:{show:!0,textStyle:{color:"#999999"}},splitLine:{show:!0,lineStyle:{color:["#eeeeee"]}},splitArea:{show:!1,areaStyle:{color:["rgba(250,250,250,0.05)","rgba(200,200,200,0.02)"]}}},timeAxis:{axisLine:{show:!0,lineStyle:{color:"#cccccc"}},axisTick:{show:!1,lineStyle:{color:"#333"}},axisLabel:{show:!0,textStyle:{color:"#999999"}},splitLine:{show:!0,lineStyle:{color:["#eeeeee"]}},splitArea:{show:!1,areaStyle:{color:["rgba(250,250,250,0.05)","rgba(200,200,200,0.02)"]}}},toolbox:{iconStyle:{normal:{borderColor:"#999"},emphasis:{borderColor:"#666"}}},legend:{textStyle:{color:"#999999"}},tooltip:{axisPointer:{lineStyle:{color:"#ccc",width:1},crossStyle:{color:"#ccc",width:1}}},timeline:{lineStyle:{color:"#8fd3e8",width:1},itemStyle:{normal:{color:"#8fd3e8",borderWidth:1},emphasis:{color:"#8fd3e8"}},controlStyle:{normal:{color:"#8fd3e8",borderColor:"#8fd3e8",borderWidth:.5},emphasis:{color:"#8fd3e8",borderColor:"#8fd3e8",borderWidth:.5}},checkpointStyle:{color:"#8fd3e8",borderColor:"rgba(138,124,168,0.37)"},label:{normal:{textStyle:{color:"#8fd3e8"}},emphasis:{textStyle:{color:"#8fd3e8"}}}},visualMap:{color:["#516b91","#59c4e6","#a5e7f0"]},dataZoom:{backgroundColor:"rgba(0,0,0,0)",dataBackgroundColor:"rgba(255,255,255,0.3)",fillerColor:"rgba(167,183,204,0.4)",handleColor:"#a7b7cc",handleSize:"100%",textStyle:{color:"#333"}},markPoint:{label:{normal:{textStyle:{color:"#eee"}},emphasis:{textStyle:{color:"#eee"}}}}}},"90de":function(e,t,a){"use strict";a.d(t,"a",function(){return r}),a.d(t,"b",function(){return n}),a.d(t,"c",function(){return s}),a.d(t,"g",function(){return o}),a.d(t,"f",function(){return l}),a.d(t,"e",function(){return c}),a.d(t,"d",function(){return u});a("456d"),a("c5f6");var i=a("8afe"),r=(a("ac6a"),a("4f7f"),a("1c4c"),function(e,t){if(e.length&&t){var a=-1,i=e.length;while(++a<i){var r=e[a];t(r,a,e)}}}),n=function(e,t){return Array.from(new Set(Object(i["a"])(e).concat(Object(i["a"])(t))))},s=function(e,t){return e.some(function(e){return t.indexOf(e)>-1})};var o=function(){return document.addEventListener?function(e,t,a){e&&t&&a&&e.addEventListener(t,a,!1)}:function(e,t,a){e&&t&&a&&e.attachEvent("on"+t,a)}}(),l=function(){return document.removeEventListener?function(e,t,a){e&&t&&e.removeEventListener(t,a,!1)}:function(e,t,a){e&&t&&e.detachEvent("on"+t,a)}}(),c=function(e,t){var a=Object.keys(e),i=Object.keys(t);return a.length===i.length&&(0===a.length&&0===i.length||!a.some(function(a){return e[a]!=t[a]}))},u=function(e){return a("4993")("./"+e+".vue").default}},9454:function(e,t,a){"use strict";a.r(t);var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"error-page"},[a("div",{staticClass:"content-con"},[a("img",{attrs:{src:e.src,alt:"404"}}),a("div",{staticClass:"text-con"},[a("h4",[e._v(e._s(e.code))]),a("h5",[e._v(e._s(e.desc))])]),a("back-btn-group",{staticClass:"back-btn-group"})],1)])},r=[],n=(a("0eb4"),a("c1a1")),s={name:"error_content",components:{backBtnGroup:n["default"]},props:{code:String,desc:String,src:String}},o=s,l=a("2877"),c=Object(l["a"])(o,i,r,!1,null,null,null);c.options.__file="error-content.vue";t["default"]=c.exports},9658:function(e,t,a){"use strict";a("28a5"),a("55dd"),a("7f7f"),a("ac6a");var i=a("c276"),r=a("90de"),n=a("f11f"),s=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("Layout",{staticClass:"main",staticStyle:{height:"100%"}},[a("Sider",{staticClass:"left-sider",style:{overflow:"hidden"},attrs:{"hide-trigger":"",collapsible:"",width:256,"collapsed-width":64},model:{value:e.collapsed,callback:function(t){e.collapsed=t},expression:"collapsed"}},[a("side-menu",{ref:"sideMenu",attrs:{accordion:"","active-name":e.$route.name,collapsed:e.collapsed,"menu-list":e.menuList},on:{"on-select":e.turnToPage}})],1),a("Layout",[a("Header",{staticClass:"header-con"},[a("header-bar",{attrs:{collapsed:e.collapsed},on:{"on-coll-change":e.handleCollapsedChange}},[a("user",{attrs:{"user-avator":e.userAvator}}),e.$config.useI18n?a("language",{staticStyle:{"margin-right":"10px"},attrs:{lang:e.local},on:{"on-lang-change":e.setLocal}}):e._e(),e.$config.plugin["error-store"]&&e.$config.plugin["error-store"].showInHeader?a("error-store",{attrs:{"has-read":e.hasReadErrorPage,count:e.errorCount}}):e._e(),a("fullscreen",{staticStyle:{"margin-right":"10px"},model:{value:e.isFullscreen,callback:function(t){e.isFullscreen=t},expression:"isFullscreen"}})],1)],1),a("Content",{staticClass:"main-content-con"},[a("Layout",{staticClass:"main-layout-con"},[a("Content",{staticClass:"content-wrapper"},[a("keep-alive",{attrs:{include:e.cacheList}},[a("router-view")],1)],1)],1)],1)],1)],1)},o=[],l=a("c93e"),c=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"side-menu-wrapper"},[e._t("default"),a("Menu",{directives:[{name:"show",rawName:"v-show",value:!e.collapsed,expression:"!collapsed"}],ref:"menu",attrs:{"active-name":e.activeName,"open-names":e.openedNames,accordion:e.accordion,theme:e.theme,width:"auto"},on:{"on-select":e.handleSelect}},[e._l(e.menuList,function(t){return[t.children&&1===t.children.length?[e.showChildren(t)?a("side-menu-item",{key:"menu-"+t.name,attrs:{"parent-item":t}}):a("menu-item",{key:"menu-"+t.children[0].name,attrs:{name:e.getNameOrHref(t,!0)}},[a("common-icon",{attrs:{type:t.children[0].icon||""}}),a("span",[e._v(e._s(e.showTitle(t.children[0])))])],1)]:[e.showChildren(t)?a("side-menu-item",{key:"menu-"+t.name,attrs:{"parent-item":t}}):a("menu-item",{key:"menu-"+t.name,attrs:{name:e.getNameOrHref(t)}},[a("common-icon",{attrs:{type:t.icon||""}}),a("span",[e._v(e._s(e.showTitle(t)))])],1)]]})],2),a("div",{directives:[{name:"show",rawName:"v-show",value:e.collapsed,expression:"collapsed"}],staticClass:"menu-collapsed",attrs:{list:e.menuList}},[e._l(e.menuList,function(t){return[t.children&&t.children.length>1?a("collapsed-menu",{key:"drop-menu-"+t.name,attrs:{"hide-title":"","root-icon-size":e.rootIconSize,"icon-size":e.iconSize,theme:e.theme,"parent-item":t},on:{"on-click":e.handleSelect}}):a("Tooltip",{key:"drop-menu-"+t.name,attrs:{transfer:"",content:t.meta&&t.meta.title||t.children&&t.children[0]&&t.children[0].meta.title,placement:"right"}},[a("a",{staticClass:"drop-menu-a",style:{textAlign:"center"},on:{click:function(a){e.handleSelect(e.getNameOrHref(t,!0))}}},[a("common-icon",{attrs:{size:e.rootIconSize,color:e.textColor,type:t.icon||t.children&&t.children[0].icon}})],1)])]})],2)],2)},u=[],d=(a("c5f6"),function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("Submenu",{attrs:{name:""+e.parentName}},[a("template",{slot:"title"},[a("common-icon",{attrs:{type:e.parentItem.icon||""}}),a("span",[e._v(e._s(e.showTitle(e.parentItem)))])],1),e._l(e.children,function(t){return[t.children&&1===t.children.length?[e.showChildren(t)?a("side-menu-item",{key:"menu-"+t.name,attrs:{"parent-item":t}}):a("menu-item",{key:"menu-"+t.children[0].name,attrs:{name:e.getNameOrHref(t,!0)}},[a("common-icon",{attrs:{type:t.children[0].icon||""}}),a("span",[e._v(e._s(e.showTitle(t.children[0])))])],1)]:[e.showChildren(t)?a("side-menu-item",{key:"menu-"+t.name,attrs:{"parent-item":t}}):a("menu-item",{key:"menu-"+t.name,attrs:{name:e.getNameOrHref(t)}},[a("common-icon",{attrs:{type:t.icon||""}}),a("span",[e._v(e._s(e.showTitle(t)))])],1)]]})],2)}),m=[],p=a("cb21"),f={components:{CommonIcon:p["a"]},methods:{showTitle:function(e){return Object(i["s"])(e,this)},showChildren:function(e){return e.children&&(e.children.length>1||e.meta&&e.meta.showAlways)},getNameOrHref:function(e,t){return e.href?"isTurnByHref_".concat(e.href):t?e.children[0].name:e.name}}},h={props:{parentItem:{type:Object,default:function(){}},theme:String,iconSize:Number},computed:{parentName:function(){return this.parentItem.name},children:function(){return this.parentItem.children},textColor:function(){return"dark"===this.theme?"#fff":"#495060"}}},g={name:"SideMenuItem",mixins:[f,h]},b=g,v=a("2877"),y=Object(v["a"])(b,d,m,!1,null,null,null);y.options.__file="side-menu-item.vue";var x=y.exports,D=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("Dropdown",{ref:"dropdown",class:e.hideTitle?"":"collased-menu-dropdown",attrs:{transfer:e.hideTitle,placement:e.placement},on:{"on-click":e.handleClick}},[a("a",{staticClass:"drop-menu-a",style:{textAlign:e.hideTitle?"":"left"},attrs:{type:"text"},on:{mouseover:function(t){e.handleMousemove(t,e.children)}}},[a("common-icon",{attrs:{size:e.rootIconSize,color:e.textColor,type:e.parentItem.icon}}),e.hideTitle?e._e():a("span",{staticClass:"menu-title"},[e._v(e._s(e.showTitle(e.parentItem)))]),e.hideTitle?e._e():a("Icon",{staticStyle:{float:"right"},attrs:{type:"ios-arrow-forward",size:16}})],1),a("DropdownMenu",{ref:"dropdown",attrs:{slot:"list"},slot:"list"},[e._l(e.children,function(t){return[e.showChildren(t)?a("collapsed-menu",{key:"drop-"+t.name,attrs:{"icon-size":e.iconSize,"parent-item":t}}):a("DropdownItem",{key:"drop-"+t.name,attrs:{name:t.name}},[a("common-icon",{attrs:{size:e.iconSize,type:t.icon}}),a("span",{staticClass:"menu-title"},[e._v(e._s(e.showTitle(t)))])],1)]})],2)],1)},P=[],_={name:"CollapsedMenu",mixins:[f,h],props:{hideTitle:{type:Boolean,default:!1},rootIconSize:{type:Number,default:16}},data:function(){return{placement:"right-end"}},methods:{handleClick:function(e){this.$emit("on-click",e)},handleMousemove:function(e,t){var a=e.pageY,i=38*t.length,r=a+i<window.innerHeight;this.placement=r?"right-start":"right-end"}},mounted:function(){var e=Object(i["c"])(this.$refs.dropdown.$el,["ivu-select-dropdown","ivu-dropdown-transfer"]);e&&(e.style.overflow="visible")}},w=_,T=Object(v["a"])(w,D,P,!1,null,null,null);T.options.__file="collapsed-menu.vue";var S=T.exports,k={name:"SideMenu",mixins:[f],components:{SideMenuItem:x,CollapsedMenu:S},props:{menuList:{type:Array,default:function(){return[]}},collapsed:{type:Boolean},theme:{type:String,default:"dark"},rootIconSize:{type:Number,default:20},iconSize:{type:Number,default:16},accordion:Boolean,activeName:{type:String,default:""},openNames:{type:Array,default:function(){return[]}}},data:function(){return{openedNames:[]}},methods:{handleSelect:function(e){this.$emit("on-select",e)},getOpenedNamesByActiveName:function(e){return this.$route.matched.map(function(e){return e.name}).filter(function(t){return t!==e})},updateOpenName:function(e){e===this.$config.homeName?this.openedNames=[]:this.openedNames=this.getOpenedNamesByActiveName(e)}},computed:{textColor:function(){return"dark"===this.theme?"#fff":"#495060"}},watch:{activeName:function(e){this.accordion?this.openedNames=this.getOpenedNamesByActiveName(e):this.openedNames=Object(r["b"])(this.openedNames,this.getOpenedNamesByActiveName(e))},openNames:function(e){this.openedNames=e},openedNames:function(){var e=this;this.$nextTick(function(){e.$refs.menu.updateOpened()})}},mounted:function(){this.openedNames=Object(r["b"])(this.openedNames,this.getOpenedNamesByActiveName(name))}},O=k,C=(a("b554"),Object(v["a"])(O,c,u,!1,null,null,null));C.options.__file="side-menu.vue";var L=C.exports,N=L,I=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"header-bar"},[a("sider-trigger",{attrs:{collapsed:e.collapsed,icon:"md-menu"},on:{"on-change":e.handleCollpasedChange}}),a("custom-bread-crumb",{staticStyle:{"margin-left":"30px"},attrs:{"show-icon":"",list:e.breadCrumbList}}),a("div",{staticClass:"custom-content-con"},[e._t("default")],2)],1)},E=[],q=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("a",{class:["sider-trigger-a",e.collapsed?"collapsed":""],attrs:{type:"text"},on:{click:e.handleChange}},[a("Icon",{attrs:{type:e.icon,size:e.size}})],1)},$=[],R={name:"siderTrigger",props:{collapsed:Boolean,icon:{type:String,default:"navicon-round"},size:{type:Number,default:26}},methods:{handleChange:function(){this.$emit("on-change",!this.collapsed)}}},B=R,A=(a("b858"),Object(v["a"])(B,q,$,!1,null,null,null));A.options.__file="sider-trigger.vue";var M=A.exports,j=M,F=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"custom-bread-crumb"},[a("Breadcrumb",{style:{fontSize:e.fontSize+"px"}},e._l(e.list,function(t){return a("BreadcrumbItem",{key:"bread-crumb-"+t.name,attrs:{to:t.to}},[a("common-icon",{staticStyle:{"margin-right":"4px"},attrs:{type:t.icon||""}}),e._v("\n      "+e._s(e.showTitle(t))+"\n    ")],1)}))],1)},V=[],J=(a("2785"),{name:"customBreadCrumb",components:{CommonIcon:p["a"]},props:{list:{type:Array,default:function(){return[]}},fontSize:{type:Number,default:14},showIcon:{type:Boolean,default:!1}},methods:{showTitle:function(e){return Object(i["s"])(e,this)},isCustomIcon:function(e){return 0===e.indexOf("_")},getCustomIconName:function(e){return e.slice(1)}}}),z=J,W=Object(v["a"])(z,F,V,!1,null,null,null);W.options.__file="custom-bread-crumb.vue";var G=W.exports,H=G,U=(a("1a88"),{name:"HeaderBar",components:{siderTrigger:j,customBreadCrumb:H},props:{collapsed:Boolean},computed:{breadCrumbList:function(){return this.$store.state.app.breadCrumbList}},methods:{handleCollpasedChange:function(e){this.$emit("on-coll-change",e)}}}),X=U,Y=Object(v["a"])(X,I,E,!1,null,null,null);Y.options.__file="header-bar.vue";var Q=Y.exports,Z=Q,K=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"tags-nav"},[a("div",{staticClass:"close-con"},[a("Dropdown",{staticStyle:{"margin-top":"7px"},attrs:{transfer:""},on:{"on-click":e.handleTagsOption}},[a("Button",{attrs:{size:"small",type:"text"}},[a("Icon",{attrs:{size:18,type:"ios-close-circle-outline"}})],1),a("DropdownMenu",{attrs:{slot:"list"},slot:"list"},[a("DropdownItem",{attrs:{name:"close-all"}},[e._v("关闭所有")]),a("DropdownItem",{attrs:{name:"close-others"}},[e._v("关闭其他")])],1)],1)],1),a("ul",{directives:[{name:"show",rawName:"v-show",value:e.visible,expression:"visible"}],staticClass:"contextmenu",style:{left:e.contextMenuLeft+"px",top:e.contextMenuTop+"px"}},e._l(e.menuList,function(t,i){return a("li",{key:i,on:{click:function(t){e.handleTagsOption(i)}}},[e._v(e._s(t))])})),a("div",{staticClass:"btn-con left-btn"},[a("Button",{attrs:{type:"text"},on:{click:function(t){e.handleScroll(240)}}},[a("Icon",{attrs:{size:18,type:"ios-arrow-back"}})],1)],1),a("div",{staticClass:"btn-con right-btn"},[a("Button",{attrs:{type:"text"},on:{click:function(t){e.handleScroll(-240)}}},[a("Icon",{attrs:{size:18,type:"ios-arrow-forward"}})],1)],1),a("div",{ref:"scrollOuter",staticClass:"scroll-outer",on:{DOMMouseScroll:e.handlescroll,mousewheel:e.handlescroll}},[a("div",{ref:"scrollBody",staticClass:"scroll-body",style:{left:e.tagBodyLeft+"px"}},[a("transition-group",{attrs:{name:"taglist-moving-animation"}},e._l(e.list,function(t,i){return a("Tag",{key:"tag-nav-"+i,ref:"tagsPageOpened",refInFor:!0,attrs:{type:"dot",name:t.name,"data-route-item":t,closable:t.name!==e.$config.homeName,color:e.isCurrentTag(t)?"primary":"default"},on:{"on-close":function(a){e.handleClose(t)}},nativeOn:{click:function(a){e.handleClick(t)},contextmenu:function(a){a.preventDefault(),e.contextMenu(t,a)}}},[e._v(e._s(e.showTitleInside(t)))])}))],1)])])},ee=[],te=(a("6762"),a("2fdb"),a("4ab1")),ae={name:"TagsNav",props:{value:Object,list:{type:Array,default:function(){return[]}}},data:function(){return{tagBodyLeft:0,rightOffset:40,outerPadding:4,contextMenuLeft:0,contextMenuTop:0,visible:!1,menuList:{others:"关闭其他",all:"关闭所有"}}},computed:{currentRouteObj:function(){var e=this.value,t=e.name,a=e.params,i=e.query;return{name:t,params:a,query:i}}},methods:{handlescroll:function(e){var t=e.type,a=0;"DOMMouseScroll"!==t&&"mousewheel"!==t||(a=e.wheelDelta?e.wheelDelta:40*-(e.detail||0)),this.handleScroll(a)},handleScroll:function(e){var t=this.$refs.scrollOuter.offsetWidth,a=this.$refs.scrollBody.offsetWidth;e>0?this.tagBodyLeft=Math.min(0,this.tagBodyLeft+e):t<a?this.tagBodyLeft<-(a-t)?this.tagBodyLeft=this.tagBodyLeft:this.tagBodyLeft=Math.max(this.tagBodyLeft+e,t-a):this.tagBodyLeft=0},handleTagsOption:function(e){var t=this;if(e.includes("all")){var a=this.list.filter(function(e){return e.name===t.$config.homeName});this.$emit("on-close",a,"all")}else if(e.includes("others")){var r=this.list.filter(function(e){return Object(i["o"])(t.currentRouteObj,e)||e.name===t.$config.homeName});this.$emit("on-close",r,"others",this.currentRouteObj),setTimeout(function(){t.getTagElementByName(t.currentRouteObj.name)},100)}},handleClose:function(e){var t=this;e.meta&&e.meta.beforeCloseName&&e.meta.beforeCloseName in te["a"]?new Promise(te["a"][e.meta.beforeCloseName]).then(function(a){a&&t.close(e)}):this.close(e)},close:function(e){var t=this.list.filter(function(t){return!Object(i["o"])(e,t)});this.$emit("on-close",t,void 0,e)},handleClick:function(e){this.$emit("input",e)},showTitleInside:function(e){return Object(i["s"])(e,this)},isCurrentTag:function(e){return Object(i["o"])(this.currentRouteObj,e)},moveToView:function(e){var t=this.$refs.scrollOuter.offsetWidth,a=this.$refs.scrollBody.offsetWidth;a<t?this.tagBodyLeft=0:e.offsetLeft<-this.tagBodyLeft?this.tagBodyLeft=-e.offsetLeft+this.outerPadding:e.offsetLeft>-this.tagBodyLeft&&e.offsetLeft+e.offsetWidth<-this.tagBodyLeft+t?this.tagBodyLeft=Math.min(0,t-e.offsetWidth-e.offsetLeft-this.outerPadding):this.tagBodyLeft=-(e.offsetLeft-(t-this.outerPadding-e.offsetWidth))},getTagElementByName:function(e){var t=this;this.$nextTick(function(){t.refsTag=t.$refs.tagsPageOpened,t.refsTag.forEach(function(a,r){if(Object(i["o"])(e,a.$attrs["data-route-item"])){var n=t.refsTag[r].$el;t.moveToView(n)}})})},contextMenu:function(e,t){if(e.name!==this.$config.homeName){this.visible=!0;var a=this.$el.getBoundingClientRect().left;this.contextMenuLeft=t.clientX-a+10,this.contextMenuTop=t.clientY-64}},closeMenu:function(){this.visible=!1}},watch:{$route:function(e){this.getTagElementByName(e)},visible:function(e){e?document.body.addEventListener("click",this.closeMenu):document.body.removeEventListener("click",this.closeMenu)}},mounted:function(){var e=this;setTimeout(function(){e.getTagElementByName(e.$route)},200),this.$EventBus.$on("tagDelete",function(t){var a={meta:{icon:t.ico,id:t.id,title:t.title},name:t.name,params:{},query:{}};e.close(a)}),this.$EventBus.$on("tagUpdate",function(t){e.list.forEach(function(a,i){if(a.name===t.dataOrg.name){var r={meta:{icon:t.dataUpdate.ico,id:t.dataUpdate.id,title:t.dataUpdate.title},name:t.dataUpdate.name,params:{},query:{}};e.$set(e.list,i,r),e.$emit("on-close",e.list,void 0,r)}})})}},ie=ae,re=(a("37a8"),Object(v["a"])(ie,K,ee,!1,null,null,null));re.options.__file="tags-nav.vue";var ne=re.exports,se=ne,oe=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"user-avator-dropdown"},[i("Dropdown",{on:{"on-click":e.handleClick}},[""!==e.userAvator?i("Avatar",{attrs:{src:e.userAvator}}):i("img",{staticClass:"img-avator",attrs:{src:a("39ae")}}),i("Icon",{attrs:{size:18,type:"md-arrow-dropdown"}}),i("DropdownMenu",{attrs:{slot:"list"},slot:"list"},[i("DropdownItem",{attrs:{name:"logout"}},[e._v("退出登录")])],1)],1)],1)},le=[],ce=(a("3daa"),a("2f62")),ue={name:"User",props:{userAvator:{type:String,default:""}},methods:Object(l["a"])({},Object(ce["b"])(["handleLogOut"]),{handleClick:function(e){var t=this;switch(e){case"logout":this.handleLogOut().then(function(){t.$router.push({name:"login"})});break}}})},de=ue,me=Object(v["a"])(de,oe,le,!1,null,null,null);me.options.__file="user.vue";var pe=me.exports,fe=pe,he=function(){var e=this,t=e.$createElement,a=e._self._c||t;return e.showFullScreenBtn?a("div",{staticClass:"full-screen-btn-con"},[a("Tooltip",{attrs:{content:e.value?"退出全屏":"全屏",placement:"bottom"}},[a("Icon",{attrs:{type:e.value?"md-contract":"md-expand",size:23},nativeOn:{click:function(t){return e.handleChange(t)}}})],1)],1):e._e()},ge=[],be={name:"Fullscreen",computed:{showFullScreenBtn:function(){return window.navigator.userAgent.indexOf("MSIE")<0}},props:{value:{type:Boolean,default:!1}},methods:{handleFullscreen:function(){var e=document.body;this.value?document.exitFullscreen?document.exitFullscreen():document.mozCancelFullScreen?document.mozCancelFullScreen():document.webkitCancelFullScreen?document.webkitCancelFullScreen():document.msExitFullscreen&&document.msExitFullscreen():e.requestFullscreen?e.requestFullscreen():e.mozRequestFullScreen?e.mozRequestFullScreen():e.webkitRequestFullScreen?e.webkitRequestFullScreen():e.msRequestFullscreen&&e.msRequestFullscreen()},handleChange:function(){this.handleFullscreen()}},mounted:function(){var e=this,t=document.fullscreenElement||document.mozFullScreenElement||document.webkitFullscreenElement||document.fullScreen||document.mozFullScreen||document.webkitIsFullScreen;t=!!t,document.addEventListener("fullscreenchange",function(){e.$emit("input",!e.value),e.$emit("on-change",!e.value)}),document.addEventListener("mozfullscreenchange",function(){e.$emit("input",!e.value),e.$emit("on-change",!e.value)}),document.addEventListener("webkitfullscreenchange",function(){e.$emit("input",!e.value),e.$emit("on-change",!e.value)}),document.addEventListener("msfullscreenchange",function(){e.$emit("input",!e.value),e.$emit("on-change",!e.value)}),this.$emit("input",t)}},ve=be,ye=(a("e282"),Object(v["a"])(ve,he,ge,!1,null,null,null));ye.options.__file="fullscreen.vue";var xe=ye.exports,De=xe,Pe=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("Dropdown",{attrs:{trigger:"click"},on:{"on-click":e.selectLang}},[a("a",{attrs:{href:"javascript:void(0)"}},[e._v("\n      "+e._s(e.title)+"\n      "),a("Icon",{attrs:{size:18,type:"md-arrow-dropdown"}})],1),a("DropdownMenu",{attrs:{slot:"list"},slot:"list"},e._l(e.localList,function(t,i){return a("DropdownItem",{key:"lang-"+i,attrs:{name:i}},[e._v(e._s(t))])}))],1)],1)},_e=[],we={name:"Language",props:{lang:String},data:function(){return{langList:{"zh-CN":"语言","zh-TW":"語言","en-US":"Lang"},localList:{"zh-CN":"中文简体","zh-TW":"中文繁体","en-US":"English"}}},watch:{lang:function(e){this.$i18n.locale=e}},computed:{title:function(){return this.langList[this.lang]}},methods:{selectLang:function(e){this.$emit("on-lang-change",e)}}},Te=we,Se=Object(v["a"])(Te,Pe,_e,!1,null,null,null);Se.options.__file="language.vue";var ke=Se.exports,Oe=ke,Ce=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"error-store"},[a("Badge",{attrs:{dot:"",count:e.countComputed}},[a("Button",{attrs:{type:"text"},on:{click:e.openErrorLoggerPage}},[a("Icon",{attrs:{size:20,type:"ios-bug"}})],1)],1)],1)},Le=[],Ne={name:"ErrorStore",props:{count:{type:Number,default:0},hasRead:{type:Boolean,default:!1}},computed:{countComputed:function(){return this.hasRead?0:this.count}},methods:{openErrorLoggerPage:function(){this.$router.push({name:"error_logger_page"})}}},Ie=Ne,Ee=(a("c038"),Object(v["a"])(Ie,Ce,Le,!1,null,null,null));Ee.options.__file="error-store.vue";var qe=Ee.exports,$e=qe,Re=a("c8c0"),Be=a.n(Re),Ae=a("17be"),Me=a.n(Ae),je=(a("7a3c"),{name:"Main",components:{SideMenu:N,HeaderBar:Z,Language:Oe,TagsNav:se,Fullscreen:De,ErrorStore:$e,User:fe},data:function(){return{collapsed:!1,minLogo:Be.a,maxLogo:Me.a,isFullscreen:!1}},computed:Object(l["a"])({},Object(ce["c"])(["errorCount"]),{tagNavList:function(){return this.$store.state.app.tagNavList},tagRouter:function(){return this.$store.state.app.tagRouter},userAvator:function(){return this.$store.state.user.avatorImgPath},cacheList:function(){return this.tagNavList.length?this.tagNavList.filter(function(e){return!(e.meta&&e.meta.notCache)}).map(function(e){return e.name}):[]},menuList:function(){return this.$store.getters.menuList},local:function(){return this.$store.state.app.local},hasReadErrorPage:function(){return this.$store.state.app.hasReadErrorPage}}),methods:Object(l["a"])({},Object(ce["d"])(["setBreadCrumb","setTagNavList","addTag","setLocal","setHomeRoute"]),Object(ce["b"])(["handleLogin"]),{turnToPage:function(e){var t={},a=t.name,i=t.params,r=t.query;"string"===typeof e?a=e:(a=e.name,i=e.params,r=e.query),a.indexOf("isTurnByHref_")>-1?window.open(a.split("_")[1]):this.$router.push({name:a,params:i,query:r})},handleCollapsedChange:function(e){this.collapsed=e},handleCloseTag:function(e,t,a){if("all"===t)this.turnToPage(this.$config.homeName);else if(Object(i["o"])(this.$route,a)&&"others"!==t){var r=Object(i["h"])(this.tagNavList,a);this.$router.push(r)}this.setTagNavList(e)},handleClick:function(e){this.turnToPage(e)}}),watch:{$route:function(e){var t=e.name,a=e.query,r=e.params,n=e.meta;this.addTag({route:{name:t,query:a,params:r,meta:n},type:"push"}),this.setBreadCrumb(e),this.setTagNavList(Object(i["g"])(this.tagNavList,e)),this.$refs.sideMenu.updateOpenName(e.name)}},mounted:function(){this.setTagNavList(),this.addTag({route:this.$store.state.app.homeRoute}),this.setBreadCrumb(this.$route),this.setLocal(this.$i18n.locale)}}),Fe=je,Ve=Object(v["a"])(Fe,s,o,!1,null,null,null);Ve.options.__file="main.vue";var Je=Ve.exports,ze=Je,We=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("router-view")},Ge=[],He={name:"ParentView"},Ue=He,Xe=Object(v["a"])(Ue,We,Ge,!1,null,null,null);Xe.options.__file="parent-view.vue";var Ye=Xe.exports,Qe=Ye,Ze=a("2b0e");a.d(t,"a",function(){return Ke}),a.d(t,"d",function(){return et}),a.d(t,"e",function(){return tt}),a.d(t,"c",function(){return at}),a.d(t,"b",function(){return it}),a.d(t,"f",function(){return rt});var Ke=function(e){var t=Object(i["l"])("dynamicRouter-gateway"),a=""!==t?it(JSON.parse(t)):[];return a},et=function(e){var t=Object(i["l"])("redirectRouter-gateway"),a=""!==t?it(JSON.parse(t)):[];return a},tt=function(e){var t=[];e.forEach(function(e){"root"===e.parentId&&(!0===e.isOutSide?t.push({path:e.path,name:e.name,meta:{icon:e.ico,title:e.title,href:e.url,id:e.id,access:e.access||[]},sort:e.sort,children:[]}):"Main"===e.path?t.push({path:"/"===e.url?e.url:"/"+e.url,name:e.name,component:"Main",meta:{icon:e.ico,title:e.title,hideInBread:!0,id:e.id,access:e.access||[]},sort:e.sort,children:[]}):2===parseInt(e.showLevel)?t.push({path:"/"+e.url.split("/")[0],name:e.name.split("/")[0],component:"Main",meta:{icon:e.ico,title:e.title,hideInBread:!0,id:e.id,access:e.access||[]},sort:e.sort,children:[{path:e.url.split("/").filter(function(e,t){return 0!==t}).join("/"),name:e.name.split("/").filter(function(e,t){return 0!==t}).join("/"),meta:{icon:e.ico,title:e.title,id:"_".concat(e.id),access:e.access||[]},component:e.path,children:[]}]}):t.push({path:"/"+e.url,name:e.name,component:e.path,meta:{icon:e.ico,title:e.title,hideInBread:!0,hideInMenu:1!==parseInt(e.showLevel),id:e.id,access:e.access||[]},sort:e.sort,children:[]}))});var a=function a(i){i.forEach(function(i){e.forEach(function(e){i.meta.id===e.parentId&&(!0===e.isOutSide?i.children.push({path:e.path,name:e.name,meta:{icon:e.ico,title:e.title,href:e.url,id:e.id,access:e.access||[]},sort:e.sort,children:[]}):"parentView"===e.path?i.children.push({path:"/"===e.url?e.url:"/"+e.url,name:e.name,component:"parentView",meta:{icon:e.ico,title:e.title,hideInBread:!0,id:e.id,access:e.access||[]},sort:e.sort,children:[]}):2===parseInt(e.showLevel)?i.children.push({path:e.url,name:e.name,component:e.path,meta:{icon:e.ico,title:e.title,id:e.id,access:e.access||[]},sort:e.sort,children:[]}):t.push({path:"/"+e.url,name:e.name,component:e.path,meta:{icon:e.ico,title:e.title,hideInBread:!0,hideInMenu:1!==parseInt(e.showLevel),parentId:e.parentId,notInMenu:!0,id:e.id,access:e.access||[]},sort:e.sort,children:[]}))}),a(i.children)})};a(t);var i=function e(t){t.sort(Object(n["a"])("sort","desc")),t.forEach(function(t){if(0!==t.children.length){t.children.sort(Object(n["a"])("sort","desc"));for(var a=0;a<t.children.length;a++)if(0===t.children[a].children.length){t.redirect=t.path+"/"+t.children[a].path;break}}e(t.children)})};return i(t),t},at=function(e){var t=JSON.parse(JSON.stringify(e)),a=function e(t,a){t.forEach(function(t,i){a.forEach(function(e){if(void 0!==e.meta.parentId&&t.meta.id===e.meta.parentId){var a=JSON.parse(JSON.stringify(e));Ze["default"].delete(a.meta,"parentId"),t.children.push(a)}}),t.children.sort(Object(n["a"])("sort","desc")),e(t.children,a)})};return a(e,t),e=e.filter(function(e){return!0===!e.meta.notInMenu}),e},it=function e(t){var a=t.filter(function(t){return t.component&&("Main"===t.component?t.component=ze:"parentView"===t.component?(t.component=Qe,t.meta.hideInBread=!0):t.component=Object(r["d"])(t.component)),t.children&&t.children.length&&(t.children=e(t.children)),!0});return a},rt=function(e,t){e.forEach(function(e){t.options.routes.some(function(t){return t.meta.id===e.meta.id})||t.options.routes.push(e);var a=function e(t,a){t.forEach(function(t){t.meta.id===a.meta.id&&a.children.forEach(function(a){t.children.some(function(e){return e.meta.id===a.meta.id})||t.children.push(a),e(t.children,a)})})};a(t.options.routes,e);var i=function e(t,a){t.forEach(function(t){a.meta.id===t.meta.id&&a.name!==t.name&&(t.name=a.name),a.children.forEach(function(a){t.children&&e(t.children,a)})})};i(t.options.routes,e)})}},"9b80":function(e,t,a){},"9e7c":function(e,t,a){"use strict";a.r(t);var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[e._v("level-3-1")])},r=[],n={name:"level_3_1"},s=n,o=a("2877"),l=Object(o["a"])(s,i,r,!1,null,null,null);l.options.__file="level-3-1.vue";t["default"]=l.exports},a189:function(e,t,a){"use strict";var i=a("79bd"),r=a.n(i);r.a},a18c:function(e,t,a){"use strict";a("6b54");var i=a("8afe"),r=(a("7f7f"),a("cadf"),a("551c"),a("097d"),a("2b0e")),n=a("8c4f"),s=a("9658"),o=[{path:"/login",name:"login",meta:{title:"Login - 登录",hideInMenu:!0},component:function(){return Promise.resolve().then(a.bind(null,"e49c"))}},{path:"/401",name:"error_401",meta:{hideInMenu:!0},component:function(){return Promise.resolve().then(a.bind(null,"f94f"))}},{path:"/500",name:"error_500",meta:{hideInMenu:!0},component:function(){return Promise.resolve().then(a.bind(null,"88b2"))}},{path:"*",name:"error_404",meta:{hideInMenu:!0},component:function(){return Promise.resolve().then(a.bind(null,"35f5"))}}],l=Object(i["a"])(Object(s["a"])("router.js")),c=Object(i["a"])(Object(s["d"])("router.js")),u=o.concat(Object(i["a"])(l),Object(i["a"])(c)),d=a("4360"),m=a("e069"),p=a.n(m),f=a("c276");a.d(t,"b",function(){return y}),r["default"].use(n["a"]);var h=new n["a"]({routes:u}),g="login",b=[],v=function(e,t,a){Object(f["a"])(e.name,t,u)?a():a({replace:!0,name:"error_401"})},y=function(){var e=Object(i["a"])(o);h.matcher=new n["a"]({routes:e}).matcher};h.beforeEach(function(e,t,a){p.a.LoadingBar.start();var i=Object(f["k"])();b.some(function(t){return t===e.name})?a():i||e.name===g?i||e.name!==g?i&&e.name===g?(a({name:"home"}),p.a.LoadingBar.finish()):d["a"].state.user.hasGetInfo?v(e,d["a"].state.user.access,a):d["a"].dispatch("getRouters").then(function(t){v(e,[Object(f["l"])("gateway-access").toString()],a)}).catch(function(){Object(f["r"])(""),a({name:"login"})}):a():a({name:g})}),h.afterEach(function(e){p.a.LoadingBar.finish(),window.scrollTo(0,0)});t["a"]=h},a266:function(e,t,a){"use strict";var i=a("72d1"),r=a.n(i);r.a},a44b:function(e,t,a){"use strict";a.r(t);var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[e._v("level-2-2")])},r=[],n={name:"level_2_2"},s=n,o=a("2877"),l=Object(o["a"])(s,i,r,!1,null,null,null);l.options.__file="level-2-2.vue";t["default"]=l.exports},a458:function(e,t,a){},a81e:function(e,t,a){},a964:function(e,t,a){"use strict";var i=a("1b49"),r=a.n(i);r.a},ac31:function(e,t,a){},ad89:function(e,t,a){"use strict";var i=a("4249"),r=a.n(i);r.a},b554:function(e,t,a){"use strict";var i=a("e2ff"),r=a.n(i);r.a},b69a:function(e,t,a){},b7c7:function(e,t,a){"use strict";a.r(t);var i=a("4360");t["default"]={install:function(e,t){t.developmentOff,e.config.errorHandler=function(t,a,r){var n={type:"script",code:0,mes:t.message,url:window.location.href};e.nextTick(function(){i["a"].dispatch("addErrorLog",n)})}}}},b858:function(e,t,a){"use strict";var i=a("a81e"),r=a.n(i);r.a},bc67:function(e,t,a){},bd7d:function(e,t,a){"use strict";var i=a("1c69"),r=a.n(i);r.a},bee0:function(e,t,a){},c038:function(e,t,a){"use strict";var i=a("6372"),r=a.n(i);r.a},c13c:function(e,t,a){},c1a1:function(e,t,a){"use strict";a.r(t);var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("Button",{attrs:{size:"large",type:"text"}},[e._v("返回上一页("+e._s(e.second)+"s)")])],1)},r=[],n=(a("a481"),a("0eb4"),{name:"backBtnGroup",data:function(){return{second:5,timer:null}},methods:{backHome:function(){this.$router.replace({name:this.$config.homeName})},backPrev:function(){this.$router.go(-1)}},mounted:function(){var e=this;this.timer=setInterval(function(){0===e.second?e.backPrev():e.second--},1e3)},beforeDestroy:function(){clearInterval(this.timer)}}),s=n,o=a("2877"),l=Object(o["a"])(s,i,r,!1,null,null,null);l.options.__file="back-btn-group.vue";t["default"]=l.exports},c24f:function(e,t,a){"use strict";a.d(t,"b",function(){return r}),a.d(t,"a",function(){return n}),a.d(t,"c",function(){return s}),a.d(t,"d",function(){return o}),a.d(t,"f",function(){return l}),a.d(t,"e",function(){return c});a("55dd");var i=a("66df"),r=function(e){var t=e.userName,a=e.password,r={userName:t,password:a};return i["a"].request({url:"/network/user/login",data:r,method:"post"})},n=function(e){return i["a"].request({url:"get_info",params:{token:e},method:"get"})},s=function(e){var t={page:e.pageNum,size:e.pageSize,sort:e.sort};return i["a"].request({url:"/network/user/queryUserList",data:t,method:"post"})},o=function(e){return i["a"].request({url:"/network/user/add",data:e,method:"post"})},l=function(e){return i["a"].request({url:"/network/user/update",data:e,method:"post"})},c=function(e){return i["a"].request({url:"/network/user/delete",data:e,method:"post"})}},c276:function(e,t,a){"use strict";a.d(t,"r",function(){return d}),a.d(t,"k",function(){return m}),a.d(t,"f",function(){return h}),a.d(t,"d",function(){return g}),a.d(t,"i",function(){return b}),a.d(t,"s",function(){return v}),a.d(t,"q",function(){return y}),a.d(t,"j",function(){return x}),a.d(t,"e",function(){return D}),a.d(t,"g",function(){return P}),a.d(t,"a",function(){return w}),a.d(t,"h",function(){return T}),a.d(t,"b",function(){return S}),a.d(t,"c",function(){return k}),a.d(t,"o",function(){return O}),a.d(t,"p",function(){return C}),a.d(t,"m",function(){return L}),a.d(t,"l",function(){return N}),a.d(t,"n",function(){return I});a("f576"),a("6b54"),a("3b2b");var i=a("6bde"),r=(a("ac6a"),a("28a5"),a("20d6"),a("a481"),a("6762"),a("2fdb"),a("8afe")),n=a("c93e"),s=(a("7f7f"),a("a78e")),o=a.n(s),l=a("f121"),c=a("90de"),u="token-gateway",d=function(e){o.a.set(u,e,{expires:l["a"].cookieExpires||1})},m=function(){var e=o.a.get(u);return e||!1},p=function(e){return e.children&&0!==e.children.length},f=function(e,t){return!(e.meta&&e.meta.access&&e.meta.access.length)||!!Object(c["c"])(e.meta.access,t)},h=function e(t,a){var i=[];return Object(c["a"])(t,function(t){if(!t.meta||t.meta&&!t.meta.hideInMenu){var r={icon:t.meta&&t.meta.icon||"",name:t.name,meta:t.meta};(p(t)||t.meta&&t.meta.showAlways)&&f(t,a)&&(r.children=e(t.children,a)),t.meta&&t.meta.href&&(r.href=t.meta.href),f(t,a)&&i.push(r)}}),i},g=function(e,t){var a=e.matched,i=a.filter(function(e){return void 0===e.meta||!e.meta.hideInBread}).map(function(t){var a=Object(n["a"])({},t.meta);a.title&&"function"===typeof a.title&&(a.title=a.title(e));var i={icon:t.meta&&t.meta.icon||"",name:t.name,meta:a};return i});return i=i.filter(function(e){return!e.meta.hideInMenu}),Object(r["a"])(i)},b=function(e){var t=Object(n["a"])({},e),a=Object(n["a"])({},e.meta),i="";return a.title&&(i="function"===typeof a.title?a.title(t):a.title),a.title=i,t.meta=a,t},v=function(e,t){var a=e.meta.title;return a=t.$config.useI18n?a.includes("{{")&&a.includes("}}")&&t.$config.useI18n?a.replace(/({{[\s\S]+?}})/,function(e,a){return a.replace(/{{([\s\S]*)}}/,function(e,a){return t.$t(a.trim())})}):t.$t(e.name):e.meta&&e.meta.title||e.name,a},y=function(e){localStorage["tagNaveList-template"]=JSON.stringify(e)},x=function(){var e=localStorage["tagNaveList-template"];return e?JSON.parse(e):[]},D=function e(t){var a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"home",i=-1,r=t.length,n={};while(++i<r){var s=t[i];if(s.children&&s.children.length){var o=e(s.children,a);if(o.name)return o}else s.name===a&&(n=s)}return n},P=function(e,t){var a=t.name,i=t.path,n=t.meta,s=Object(r["a"])(e);return s.findIndex(function(e){return e.name===a})>=0?s:(s.push({name:a,path:i,meta:n}),s)},_=function(e,t){return!t.meta||!t.meta.access||Object(c["c"])(e,t.meta.access)},w=function(e,t,a){var i=function a(i){return i.some(function(i){return i.children&&i.children.length?a(i.children):i.name===e?_(t,i):void 0})};return i(a)},T=function(e,t){var a={};if(2===e.length)a=D(e);else{var i=e.findIndex(function(e){return O(e,t)});a=i===e.length-1?e[e.length-2]:e[i+1]}return a},S=function(e,t){var a=-1;while(++a<e)t(a)},k=function e(t,a){var i=t.parentNode;if(i){var r=i.classList;return r&&a.every(function(e){return r.contains(e)})?i:e(i,a)}},O=function(e,t){var a=e.params||{},i=t.params||{},r=e.query||{},n=t.query||{};return e.name===t.name&&Object(c["e"])(a,i)&&Object(c["e"])(r,n)},C=function(e,t){var a=e.length,i=!1;return S(a,function(a){O(e[a],t)&&(i=!0)}),i},L=function(e,t){localStorage.setItem(e,t)},N=function(e){return localStorage.getItem(e)||""};function I(e,t){if(0===arguments.length||!e)return null;var a,r=t||"{y}-{m}-{d} {h}:{i}:{s}";"object"===Object(i["a"])(e)?a=e:("string"===typeof e&&(e=/^[0-9]+$/.test(e)?parseInt(e):e.replace(new RegExp(/-/gm),"/")),"number"===typeof e&&10===e.toString().length&&(e*=1e3),a=new Date(e));var n={y:a.getFullYear(),m:a.getMonth()+1,d:a.getDate(),h:a.getHours(),i:a.getMinutes(),s:a.getSeconds(),a:a.getDay()},s=r.replace(/{([ymdhisa])+}/g,function(e,t){var a=n[t];return"a"===t?["日","一","二","三","四","五","六"][a]:a.toString().padStart(2,"0")});return s}},c436:function(e,t,a){e.exports=a.p+"img/error-404.94756dcf.svg"},c5ee:function(e,t,a){"use strict";var i=a("f046"),r=a.n(i);r.a},c8c0:function(e,t){e.exports="data:image/jpeg;base64,iVBORw0KGgoAAAANSUhEUgAAAFsAAABbCAYAAAAcNvmZAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAnhJREFUeNrs3U9LFGEcwPGf7ebaYWGhCBLCPQaRbNFd9w2YHrwF5dGTBtG1vIpit45l9AJ8BbmetQi6qCdB2EMprH/AXFzrN/qgo+2Ms+Mz0+P2/cLDoM4M8uHh2XkOy4gQEV2qjjgXPZiqDeqhT0dJR9GM/6GKjpqOBR1z318W1hLBVuCCHl7reK6jwDw9wZ9Q9Io1bIUeN9AgB6MPKXotNraZzTNmNlN4HnRZwb+1jG2g5826TBbAr4VcOAN0yx1NUJ2opcjYZo1m6YgP/j4Stu+pg+JXUsc3UWY2Tx12GjMTNxSb5cPecjIYiG12hsxqez0Lm9l9+FitPwybRz3L6WrRH4RdhCe5wP6H2AQ22AS2u2Wt3m3068XnbNwQmS8eH329KnfJk/udks91OAXUO711hWf2rT2RgdUzv/KQnz7KOQfdHstIriHSvevDvs6aTWCDTWCDDTa1Mfbm6aZm+WfDSZyVHw2HsT/3RDtv6Y7Ifubkx09f6lLdPnQKemf/t0xWfjm8XV+5KVLNi+TrwefUM39t1T3o4Y+7cu92puklA7rp8XaZUWejDaRlvY8H7i720ZToPB4xZtLi+kHTvz2+m7VyHz4g+YAksMEmsMEGm8AGm8AGm8AGG2wCG2wCG2ywCWywCWywCWywwSawwSawwQabwAabwAabwE637FX4J5fWD+RdxHOrW4dgXybv21+ufgOMZQRsAhvstmoN7JSg/W9pAjvZ5lhG0msW7HSqnH85ENjJ9YKnkZSgm73yCmz7fVDotzxnpwM9wqYmnaVjhB1kwk8dOh4GLR3+sljF3oJ7G5bZsJdtXoRdxrG1LTgR/RFgAEIioEX14WSDAAAAAElFTkSuQmCC"},ca62:function(e,t,a){},caed:function(e,t,a){"use strict";var i=a("b69a"),r=a.n(i);r.a},cb21:function(e,t,a){"use strict";var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a(e.iconType,{tag:"component",attrs:{type:e.iconName,color:e.iconColor,size:e.iconSize}})},r=[],n=(a("c5f6"),a("cadf"),a("551c"),a("097d"),function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("i",{class:"iconfont icon-"+e.type,style:e.styles})}),s=[],o={name:"Icons",props:{type:{type:String,required:!0},color:{type:String,default:"#5c6b77"},size:{type:Number,default:16}},computed:{styles:function(){return{fontSize:"".concat(this.size,"px"),color:this.color}}}},l=o,c=(a("5ac2"),a("2877")),u=Object(c["a"])(l,n,s,!1,null,null,null);u.options.__file="icons.vue";var d=u.exports,m=d,p={name:"CommonIcon",components:{Icons:m},props:{type:{type:String,required:!0},color:String,size:Number},computed:{iconType:function(){return 0===this.type.indexOf("_")?"Icons":"Icon"},iconName:function(){return"Icons"===this.iconType?this.getCustomIconName(this.type):this.type},iconSize:function(){return this.size||("Icons"===this.iconType?12:void 0)},iconColor:function(){return this.color||""}},methods:{getCustomIconName:function(e){return e.slice(1)}}},f=p,h=(a("0c4a"),Object(c["a"])(f,i,r,!1,null,null,null));h.options.__file="common-icon.vue";var g=h.exports;t["a"]=g},cd05:function(e,t,a){},d006:function(e,t,a){"use strict";var i=a("bee0"),r=a.n(i);r.a},d08b:function(e,t,a){"use strict";a.r(t);var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[e._v("多级菜单 -> 二级-1")])},r=[],n={name:"level_2_1"},s=n,o=a("2877"),l=Object(o["a"])(s,i,r,!1,null,null,null);l.options.__file="level-2-1.vue";t["default"]=l.exports},d3dd:function(e,t,a){},d476:function(e,t,a){},d641:function(e,t,a){"use strict";a.r(t);var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"dooya-container"},[a("Card",[a("div",{staticStyle:{margin:"10px 0"}},[a("Button",{attrs:{type:"success",icon:"md-add"},on:{click:e.insert}},[e._v("新增用户")])],1),a("Table",{attrs:{data:e.tableData,loading:e.tableLoading,columns:e.tableColumns,stripe:""}}),a("div",{staticStyle:{margin:"10px",overflow:"hidden"}},[a("div",{staticStyle:{float:"right"}},[a("Page",{attrs:{"show-sizer":"",transfer:"",placement:"top",total:e.tableDataOrg.length,current:e.pageNum,"page-size-opts":[10,50,100,200],"page-size":e.pageSize},on:{"update:current":function(t){e.pageNum=t},"on-change":e.changePage,"on-page-size-change":e.changePageSize}})],1)])],1),a("Modal",{attrs:{"mask-closable":!1,closable:!1,"footer-hide":"",title:"账号详情"},on:{"on-ok":e.handleSubmit},model:{value:e.modalShow,callback:function(t){e.modalShow=t},expression:"modalShow"}},[a("Form",{ref:"formModalData",attrs:{model:e.modalData,rules:e.formModalRule,"label-width":100},nativeOn:{submit:function(e){e.preventDefault()}}},[a("FormItem",{attrs:{label:"账号：",prop:"name"}},[a("Input",{attrs:{type:"text"},model:{value:e.modalData.name,callback:function(t){e.$set(e.modalData,"name","string"===typeof t?t.trim():t)},expression:"modalData.name"}})],1),a("FormItem",{attrs:{label:"姓名：",prop:"displayName"}},[a("Input",{attrs:{type:"text"},model:{value:e.modalData.displayName,callback:function(t){e.$set(e.modalData,"displayName","string"===typeof t?t.trim():t)},expression:"modalData.displayName"}})],1),a("FormItem",{staticClass:"phone",attrs:{label:"手机号：",prop:"phone"}},[a("Input",{attrs:{type:"text"},model:{value:e.modalData.phone,callback:function(t){e.$set(e.modalData,"phone","string"===typeof t?t.trim():t)},expression:"modalData.phone"}})],1),a("FormItem",{attrs:{label:"角色：",prop:"access"}},[a("Select",{attrs:{multiple:"","max-tag-count":3},model:{value:e.modalData.access,callback:function(t){e.$set(e.modalData,"access",t)},expression:"modalData.access"}},e._l(e.roleList,function(t,i){return a("Option",{key:i,attrs:{value:t.name}},[e._v("\n            "+e._s(t.title)+"\n          ")])}))],1),a("FormItem",[a("Button",{attrs:{type:"primary",loading:e.buttonLoading},on:{click:function(t){e.handleSubmit("formModalData")}}},[e._v("确定")]),a("Button",{staticStyle:{"margin-left":"8px"},on:{click:function(t){e.modalShow=!1}}},[e._v("取消")])],1)],1)],1)],1)},r=[],n=(a("6b54"),a("ac6a"),a("7f7f"),a("96cf"),a("3040")),s=a("f7a0"),o=a("10fd"),l=a("f11f"),c=a("7e1e"),u={data:function(){var e=this;return{roleList:[],tableDataOrg:[],tableData:[],tableColumns:[{title:"账号",key:"name",align:"center",minWidth:120},{title:"姓名",key:"displayName",align:"center",minWidth:120},{title:"电话",key:"phone",align:"center",minWidth:120},{title:"角色",key:"access",align:"center",render:function(t,a){return t("div",[a.row.access.map(function(a){return t("Tag",{props:{color:"blue"}},Object(l["c"])(e.roleList,"name",a,"title"))})])},minWidth:120},{title:"操作",key:"action",fixed:"right",minWidth:180,align:"center",render:function(t,a){return t("div",[t("Tooltip",{props:{trigger:"hover",content:"修改",placement:"top",transfer:!0}},[t("Button",{props:{type:"primary",size:"small",icon:"ios-create-outline"},style:{marginRight:"5px"},on:{click:function(){e.edit(a.row)}}})]),t("Tooltip",{props:{trigger:"hover",content:"删除",placement:"top",transfer:!0}},[t("Button",{props:{type:"error",size:"small",icon:"md-close"},on:{click:function(){e.delete(a.row)}}})])])}}],total:0,pageNum:1,pageSize:10,tableLoading:!1,buttonLoading:!1,modalShow:!1,modalDataType:"",modalData:{name:"",displayName:"",phone:"",access:[]},modalDataOrg:{},formModalRule:{name:[{required:!0,message:"请输入账户名",trigger:"change"},{type:"string",max:20,message:"账户名过长",trigger:"change"}],displayName:[{required:!0,message:"请输入姓名",trigger:"change"},{type:"string",max:10,message:"姓名过长",trigger:"change"}],phone:[{required:!0,trigger:"change",validator:function(e,t,a){Object(o["b"])(t)?a():a(new Error("手机号格式不正确"))}}],access:[{required:!0,validator:function(e,t,a){0===t.length?a(new Error("请选择用户角色")):a()},message:"请选择用户角色",trigger:"change"}]}}},created:function(){var e=Object(n["a"])(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return this.getData(),e.next=3,Object(c["b"])();case 3:if(e.t0=e.sent.data.data,e.t0){e.next=6;break}e.t0=[];case 6:this.roleList=e.t0;case 7:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}(),methods:{getData:function(){var e=Object(n["a"])(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return this.tableLoading=!0,e.next=3,Object(c["c"])();case 3:if(e.t0=e.sent.data.data,e.t0){e.next=6;break}e.t0=[];case 6:this.tableDataOrg=e.t0,this.refreshData(),this.buttonLoading=!1,this.tableLoading=!1;case 10:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}(),refreshData:function(){this.tableData=this.tableDataOrg.slice((this.pageNum-1)*this.pageSize,this.pageNum*this.pageSize),0===this.tableData.length&&0!==this.tableDataOrg.length&&(this.pageNum--,this.getData())},changePage:function(e){this.pageNum=e,this.getData()},changePageSize:function(e){this.pageSize=e,this.pageNum=1,this.getData()},insert:function(){this.modalDataType="insert",this.$refs.formModalData.resetFields(),this.modalShow=!0},edit:function(e){this.modalDataType="edit",this.modalDataOrg=e,this.modalData=JSON.parse(JSON.stringify(e)),this.modalShow=!0},handleSubmit:function(){var e=this;this.$refs.formModalData.validate(function(){var t=Object(n["a"])(regeneratorRuntime.mark(function t(a){var i;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:if(!a){t.next=9;break}e.buttonLoading=!0,t.t0=e.modalDataType,t.next="insert"===t.t0?5:"edit"===t.t0?7:9;break;case 5:return e.tableDataOrg.some(function(t){return t.name===e.modalData.name})?(e.$Message.error("该账号已存在！"),e.buttonLoading=!1):(i="1",e.tableDataOrg.forEach(function(e){i===e.user_id&&(i=(parseInt(i)+1).toString())}),e.modalData.user_id=i,s["c"].push(JSON.parse(JSON.stringify(e.modalData))),Object(l["d"])(200,"添加成功！",function(){e.getData(),e.buttonLoading=!1,e.modalShow=!1})),t.abrupt("break",9);case 7:return e.tableDataOrg.some(function(t){return t.name===e.modalData.name})&&e.modalData.name!==e.modalDataOrg.name?(e.$Message.error("该账号已存在！"),e.buttonLoading=!1):(e.$set(s["c"],(e.pageNum-1)*e.pageSize+e.modalData._index,JSON.parse(JSON.stringify(e.modalData))),Object(l["d"])(200,"修改成功！",function(){e.getData(),e.buttonLoading=!1,e.modalShow=!1})),t.abrupt("break",9);case 9:case"end":return t.stop()}},t,this)}));return function(e){return t.apply(this,arguments)}}())},delete:function(e){var t=this;this.$Modal.confirm({title:"确定删除该用户？",onOk:function(){var a=Object(n["a"])(regeneratorRuntime.mark(function a(){return regeneratorRuntime.wrap(function(a){while(1)switch(a.prev=a.next){case 0:t.tableDataOrg.slice((t.pageNum-1)*t.pageSize,t.pageNum*t.pageSize).forEach(function(a,i){e.user_id===a.user_id&&s["c"].splice((t.pageNum-1)*t.pageSize+i,1)}),Object(l["d"])(200,"删除成功！",function(){t.getData()});case 2:case"end":return a.stop()}},a,this)}));return function(){return a.apply(this,arguments)}}(),closable:!0})}}},d=u,m=(a("ebd67"),a("2877")),p=Object(m["a"])(d,i,r,!1,null,"50778f15",null);p.options.__file="user copy.vue";t["default"]=p.exports},dd0f:function(e,t,a){"use strict";var i=a("e132"),r=a.n(i);r.a},e132:function(e,t,a){},e282:function(e,t,a){"use strict";var i=a("460b"),r=a.n(i);r.a},e2ff:function(e,t,a){},e49c:function(e,t,a){"use strict";a.r(t);var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"login"},[a("div",{staticClass:"login-con"},[a("Card",{attrs:{icon:"log-in",title:"欢迎登录",bordered:!1}},[a("div",{staticClass:"form-con"},[a("login-form",{on:{"on-success-valid":e.handleSubmit}}),a("p",{staticClass:"tips"},[a("span",[e._v("账号 : admin")]),a("span",[e._v("密码 : 123456")])])],1)])],1)])},r=[],n=a("c93e"),s=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("Form",{ref:"loginForm",attrs:{model:e.form,rules:e.rules},nativeOn:{keydown:function(t){return"button"in t||!e._k(t.keyCode,"enter",13,t.key,"Enter")?e.handleSubmit(t):null}}},[a("FormItem",{attrs:{prop:"userName"}},[a("Input",{attrs:{placeholder:"请输入用户名"},model:{value:e.form.userName,callback:function(t){e.$set(e.form,"userName",t)},expression:"form.userName"}},[a("span",{attrs:{slot:"prepend"},slot:"prepend"},[a("Icon",{attrs:{size:16,type:"ios-person"}})],1)])],1),a("FormItem",{attrs:{prop:"password"}},[a("Input",{attrs:{type:"password",placeholder:"请输入密码"},model:{value:e.form.password,callback:function(t){e.$set(e.form,"password",t)},expression:"form.password"}},[a("span",{attrs:{slot:"prepend"},slot:"prepend"},[a("Icon",{attrs:{size:14,type:"md-lock"}})],1)])],1),a("FormItem",[a("Button",{attrs:{type:"primary",long:""},on:{click:e.handleSubmit}},[e._v("登录")])],1)],1)},o=[],l={name:"LoginForm",props:{userNameRules:{type:Array,default:function(){return[{required:!0,message:"账号不能为空",trigger:"blur"}]}},passwordRules:{type:Array,default:function(){return[{required:!0,message:"密码不能为空",trigger:"blur"}]}}},data:function(){return{form:{userName:"admin",password:"123456"}}},computed:{rules:function(){return{userName:this.userNameRules,password:this.passwordRules}}},methods:{handleSubmit:function(){var e=this;this.$refs.loginForm.validate(function(t){t&&e.$emit("on-success-valid",{userName:e.form.userName,password:e.$md5(e.form.password)})})}}},c=l,u=a("2877"),d=Object(u["a"])(c,s,o,!1,null,null,null);d.options.__file="login-form.vue";var m=d.exports,p=m,f=a("2f62"),h=a("a18c"),g={components:{LoginForm:p},created:function(){localStorage.setItem("dynamicRouter-gateway",[]),localStorage.setItem("redirectRouter-gateway",[]),Object(h["b"])()},methods:Object(n["a"])({},Object(f["b"])(["handleLogin","getRouters"]),{handleSubmit:function(e){var t=this,a=e.userName,i=e.password;this.handleLogin({userName:a,password:i}).then(function(e){"200"===e.data.success&&t.getRouters().then(function(e){t.$router.push({path:"/"})})})}})},b=g,v=(a("4b4f"),a("6c04"),Object(u["a"])(b,i,r,!1,null,null,null));v.options.__file="login.vue";t["default"]=v.exports},e4bc:function(e,t,a){"use strict";a.r(t);var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[e._v("level-2-1")])},r=[],n=(a("cadf"),a("551c"),a("097d"),{name:"level_2_1"}),s=n,o=a("2877"),l=Object(o["a"])(s,i,r,!1,null,null,null);l.options.__file="level-2-1.vue";t["default"]=l.exports},e674:function(e,t,a){"use strict";var i=a("5b52"),r=a.n(i);r.a},e84c:function(e,t,a){"use strict";a.r(t);var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[e._v("多级菜单 -> 二级-3")])},r=[],n={name:"level_2_3"},s=n,o=a("2877"),l=Object(o["a"])(s,i,r,!1,null,null,null);l.options.__file="level-2-3.vue";t["default"]=l.exports},ebd67:function(e,t,a){"use strict";var i=a("bc67"),r=a.n(i);r.a},f046:function(e,t,a){},f11f:function(e,t,a){"use strict";a.d(t,"b",function(){return r}),a.d(t,"a",function(){return n}),a.d(t,"c",function(){return s}),a.d(t,"d",function(){return o});a("c5f6"),a("8afe"),a("456d"),a("6b54"),a("55dd"),a("7f7f"),a("28a5"),a("4f7f"),a("1c4c"),a("ac6a");var i=a("e069");var r=function(e){var t=[];e.forEach(function(e){"root"===e.parentId&&t.push({id:e.id,name:e.name,title:e.title,url:e.url,path:e.path,sort:e.sort,parentId:e.parentId,ico:e.ico,isOutSide:e.isOutSide,showLevel:e.showLevel,description:e.description,children:[]})});var a=function t(a){a.forEach(function(a){e.forEach(function(e){a.id===e.parentId&&a.children.push({id:e.id,name:e.name,title:e.title,url:e.url,path:e.path,sort:e.sort,parentId:e.parentId,ico:e.ico,isOutSide:e.isOutSide,showLevel:e.showLevel,description:e.description,children:[]})}),t(a.children)})};return a(t),t.length>0&&(t[0].expand=!0),t};function n(e,t){return function(a,i){return"asc"===t||void 0===t||""===t?a[e]>i[e]?1:a[e]<i[e]?-1:0:"desc"===t?a[e]<i[e]?1:a[e]>i[e]?-1:0:void 0}}function s(e,t,a,i){var r="";return e.forEach(function(e){e[t].toString()===a.toString()&&(r=e[i])}),r}var o=function(e,t,a,r){return"200"===e.toString()?(i["Message"].success({content:t}),a.call()):r.call()}},f121:function(e,t,a){"use strict";a("cadf"),a("551c"),a("097d");t["a"]={cookieExpires:1,useI18n:!1,baseUrl:{dev:"",pro:""},mockUrl:"https://www.easy-mock.com/mock/5add9213ce4d0e69998a6f51/iview-admin/",isMock:!1,homeName:"home",plugin:{}}},f7a0:function(e,t,a){"use strict";a.d(t,"c",function(){return i}),a.d(t,"b",function(){return r}),a.d(t,"a",function(){return n});var i=[{id:0x12839f7e6e400000,userName:"admin",password:"e10adc3949ba59abbe56e057f20f883e",nickName:"系统管理员",realName:null,mobile:null,email:null,status:1,token:null,createTime:null,updateTime:null,idStr:"1334085279996182528",permissionsList:null,permissions:null,roleId:0},{id:0x1285cf96a8c00000,userName:"factor",password:"e10adc3949ba59abbe56e057f20f883e",nickName:"平台管理员",realName:"factor",mobile:"13801380000",email:"a.com",status:1,token:null,createTime:1607052516964,updateTime:1607052516964,idStr:"1334701110568419328",permissionsList:null,permissions:null,roleId:2},{id:0x12861f7d5fc00000,userName:"log",password:"e10adc3949ba59abbe56e057f20f883e",nickName:"日志管理员",realName:"factor",mobile:"13801380000",email:"a.com",status:1,token:null,createTime:1607073462592,updateTime:1607073462592,idStr:"1334788962899722240",permissionsList:null,permissions:null,roleId:1}],r=[{id:0,roleName:"系统管理员",remark:null,idStr:"0"},{id:1,roleName:"日志管理员",remark:null,idStr:"1"},{id:2,roleName:"平台管理员",remark:null,idStr:"2"}],n=[{id:"gateway",name:"gateway",title:"网闸",url:"gateway",path:"gateway",sort:26,parentId:"root",ico:"md-laptop",isOutSide:!1,showLevel:"3",description:"网闸",access:["2"]},{id:"userManage",name:"user/userManage",title:"用户管理",url:"user/manage",path:"user",sort:24,parentId:"root",ico:"ios-navigate",isOutSide:!1,showLevel:"2",description:"用户管理",access:["0"]},{id:"logManage",name:"log/logManage",title:"日志管理",url:"log/manage",path:"log",sort:22,parentId:"root",ico:"ios-navigate",isOutSide:!1,showLevel:"2",description:"用户管理",access:["1"]}]},f94f:function(e,t,a){"use strict";a.r(t);var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("error-content",{attrs:{code:"401",desc:"Oh~~您没有浏览这个页面的权限~",src:e.src}})},r=[],n=a("3026"),s=a.n(n),o=a("9454"),l={name:"error_401",components:{errorContent:o["default"]},data:function(){return{src:s.a}}},c=l,u=a("2877"),d=Object(u["a"])(c,i,r,!1,null,null,null);d.options.__file="401.vue";t["default"]=d.exports}});